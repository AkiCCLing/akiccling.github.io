<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity 入门 | Secret Garden</title><meta name="author" content="Aki_CCLing"><meta name="copyright" content="Aki_CCLing"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Unity 环境搭建Unity 引擎是什么游戏引擎是什么？游戏引擎是指一些已编写好的可编辑电脑游戏系统或者一些交互式实时图像应用程序的核心组件。这些系统为游戏设计者提供各种编写游戏所需的各种工具，其目的在于让游戏设计者能容易和快速地做出游戏程序而不用由零开始。 通俗来讲: 游戏引擎就是专门做游戏的软件。它提供了很多现成的功能供我们使用让开发游戏事半功倍 游戏引擎对于我们的意义 降低做游戏的门槛……">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity 入门">
<meta property="og:url" content="https://clearacg.com/posts/24b4d8c5/index.html">
<meta property="og:site_name" content="Secret Garden">
<meta property="og:description" content="Unity 环境搭建Unity 引擎是什么游戏引擎是什么？游戏引擎是指一些已编写好的可编辑电脑游戏系统或者一些交互式实时图像应用程序的核心组件。这些系统为游戏设计者提供各种编写游戏所需的各种工具，其目的在于让游戏设计者能容易和快速地做出游戏程序而不用由零开始。 通俗来讲: 游戏引擎就是专门做游戏的软件。它提供了很多现成的功能供我们使用让开发游戏事半功倍 游戏引擎对于我们的意义 降低做游戏的门槛……">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg">
<meta property="article:published_time" content="2024-02-21T02:07:27.000Z">
<meta property="article:modified_time" content="2024-02-21T02:07:27.000Z">
<meta property="article:author" content="Aki_CCLing">
<meta property="article:tag" content="Technology">
<meta property="article:tag" content="Code">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Unity 入门",
  "url": "https://clearacg.com/posts/24b4d8c5/",
  "image": "https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg",
  "datePublished": "2024-02-21T02:07:27.000Z",
  "dateModified": "2024-02-21T02:07:27.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Aki_CCLing",
      "url": "https://clearacg.com/"
    }
  ]
}</script><link rel="shortcut icon" href="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/202402221339492.webp"><link rel="canonical" href="https://clearacg.com/posts/24b4d8c5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//static.cloudflareinsights.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6ec84f1c930ef67ebd0716b3d42538a0";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script defer="defer" data-pjax="data-pjax" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;8c2bdf8651d54d3a82a47995bcb6e5cc&quot;}"></script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "mvz06k2itn");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity 入门',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/style.css?1"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg" style="background:url(https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/index/202402212340984.webp?imageSlim);background-attachment: local;background-position: center;background-size: cover;background-repeat: no-repeat;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://pic.imgdb.cn/item/65b2a3e9871b83018a2fa6bd.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> My ACG</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/outline/"><i class="fa-fw fa-solid fa-guitar"></i><span> 线下活动</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fa-solid fa-play"></i><span> 追番</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa fa-solid fa-book"></i><span> 藏书</span></a></li><li><a class="site-page child" href="/cds/"><i class="fa-fw fa fa-solid fa-compact-disc"></i><span> CD 收藏</span></a></li><li><a class="site-page child" href="/doujinshi/"><i class="fa-fw fa fa-solid fa-file"></i><span> 同人志</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa-solid fa-comments"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Secret Garden</span></a><a class="nav-page-title" href="/"><span class="site-name">Unity 入门</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> My ACG</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/outline/"><i class="fa-fw fa-solid fa-guitar"></i><span> 线下活动</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fa-solid fa-play"></i><span> 追番</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fa fa-solid fa-book"></i><span> 藏书</span></a></li><li><a class="site-page child" href="/cds/"><i class="fa-fw fa fa-solid fa-compact-disc"></i><span> CD 收藏</span></a></li><li><a class="site-page child" href="/doujinshi/"><i class="fa-fw fa fa-solid fa-file"></i><span> 同人志</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/shuoshuo/"><i class="fa-fw fa-solid fa-comments"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Unity 入门</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-02-21T02:07:27.000Z" title="发表于 2024-02-21 02:07:27">2024-02-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-02-21T02:07:27.000Z" title="更新于 2024-02-21 02:07:27">2024-02-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Technology/">Technology</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Technology/Unity/">Unity</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Technology/Unity/Unity%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/">Unity基础内容</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Unity-环境搭建"><a href="#Unity-环境搭建" class="headerlink" title="Unity 环境搭建"></a>Unity 环境搭建</h1><h1 id="Unity-引擎是什么"><a href="#Unity-引擎是什么" class="headerlink" title="Unity 引擎是什么"></a>Unity 引擎是什么</h1><h2 id="游戏引擎是什么？"><a href="#游戏引擎是什么？" class="headerlink" title="游戏引擎是什么？"></a>游戏引擎是什么？</h2><p>游戏引擎是指一些已编写好的可编辑电脑游戏系统或者一些交互式实时图像应用程序的核心组件。这些系统为游戏设计者提供各种编写游戏所需的各种工具，其目的在于让游戏设计者能容易和快速地做出游戏程序而不用由零开始。</p>
<p>通俗来讲:</p>
<p>游戏引擎就是专门做游戏的软件。它提供了很多现成的功能供我们使用让开发游戏事半功倍</p>
<h2 id="游戏引擎对于我们的意义"><a href="#游戏引擎对于我们的意义" class="headerlink" title="游戏引擎对于我们的意义"></a>游戏引擎对于我们的意义</h2><ol>
<li>降低做游戏的门槛……不用学太多的专业知识</li>
<li>提升游戏开发的效率……不用从零开始</li>
</ol>
<h2 id="如何学习-Unity"><a href="#如何学习-Unity" class="headerlink" title="如何学习 Unity"></a>如何学习 Unity</h2><p>Unity 相当于就是一个游戏开发工具包，我们只要学会使用工具包中的各个工具即可而使用这些工具的媒介就是我们已经学习完毕的 C#程序语言</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol>
<li>什么是游戏引擎——开发游戏的软件</li>
<li>游戏引擎对于我们的意义——门槛低，效率高</li>
<li>如何学习游戏引擎——软件操作、公共 API、核心系统</li>
</ol>
<p>Unity 就是一个做游戏的工具软件，它可以让开发游戏事半功倍。我们将通过我们学习的 C#程序语言，作为和这个工具沟通的媒介，制作出最终的游戏产品。</p>
<h1 id="新建工程和工程文件夹"><a href="#新建工程和工程文件夹" class="headerlink" title="新建工程和工程文件夹"></a>新建工程和工程文件夹</h1><h2 id="工程文件夹"><a href="#工程文件夹" class="headerlink" title="工程文件夹"></a>工程文件夹</h2><ol>
<li>Assets:工程资源文件夹(美术资源，脚本等等)</li>
<li>Library:库文件夹(Unity 自动生成管理)</li>
<li>Logs:日志文件夹，记录特殊信息(Unity 自动生成管理)</li>
<li>obj:编译产生中间文件(Unity 自动生成管理)</li>
<li>Packages:包配置信息(Unity 自动生成管理)</li>
<li>ProjectSettings:工程设置信息(Unity 自动生成管理)</li>
</ol>
<h1 id="Unity-界面基础"><a href="#Unity-界面基础" class="headerlink" title="Unity 界面基础"></a>Unity 界面基础</h1><h1 id="Scene-和-Hierarchy-窗口-知识点"><a href="#Scene-和-Hierarchy-窗口-知识点" class="headerlink" title="Scene 和 Hierarchy 窗口 知识点"></a>Scene 和 Hierarchy 窗口 知识点</h1><h2 id="Scene-和-Hierarchy"><a href="#Scene-和-Hierarchy" class="headerlink" title="Scene 和 Hierarchy"></a>Scene 和 Hierarchy</h2><p>场景窗口和层级窗口是息息相关的<br>层级窗口中看到的内容就是场景窗口中的显示对象</p>
<h2 id="Hierarchy-层级窗口"><a href="#Hierarchy-层级窗口" class="headerlink" title="Hierarchy 层级窗口"></a>Hierarchy 层级窗口</h2><p>我们可以在 Hierarchy 窗口中创建或拖入各种游戏对象比如：模型、光源、图片 UI 等等内容</p>
<p>层级窗口中显示的，就是一个场景中的所有对象</p>
<p>在此窗口右键，可创建一些简单的 3D 物体，并对对象进行一些简单操作（复制，粘贴，克隆等）。</p>
<p>在物体前，可以选择是否显示和是否可选。</p>
<h2 id="Scene-场景窗口"><a href="#Scene-场景窗口" class="headerlink" title="Scene 场景窗口"></a>Scene 场景窗口</h2><p>窗口上方工具条内容</p>
<ol>
<li>渲染模式<ol>
<li>Shaded：着色器模式</li>
<li>Wireframe：网格模式</li>
</ol>
</li>
<li>2D、3D 视图切换</li>
<li>光源、音效、特效显示开启</li>
<li>辅助线显示</li>
<li>Gizmos：辅助功能，控制场景上提示图标等</li>
<li>搜索栏</li>
<li>场景轴向</li>
</ol>
<h3 id="坐标轴"><a href="#坐标轴" class="headerlink" title="坐标轴"></a>坐标轴</h3><p>关于 Unity 中的 3D 世界坐标轴</p>
<p>红色为 X 轴正向，绿色为 Y 轴正向，蓝色为 Z 轴正向</p>
<p>以屏幕为参照物：垂直屏幕向内为 Z 正方向，平行屏幕向右为 X 正方向，平行屏墓向上为 Y 正方向</p>
<p>点击坐标轴中间方块，变为 ISO（正交试图）</p>
<p>点击不同坐标轴，切换到对应视图（正视图，侧视图，俯视图等）</p>
<h3 id="快捷工具栏"><a href="#快捷工具栏" class="headerlink" title="快捷工具栏"></a>快捷工具栏</h3><p>Q：手动工具，可使用鼠标左键平移视角</p>
<p>W：移动工具，物体移动</p>
<p>E：旋转工具，物体旋转</p>
<p>R：缩放工具，物体缩放</p>
<p>T：矩形工具（2D）</p>
<p>Y：综合工具，随意选择、移动、旋转、缩放物体</p>
<p>Global&#x2F;Local：世界&#x2F;本地坐标系，旋转时，轴的相对目标</p>
<p>Global&#x2F;Local 右边那个：移动物体时，一次只移动一步长（米），步长可在。</p>
<h3 id="快捷键操作"><a href="#快捷键操作" class="headerlink" title="快捷键操作"></a>快捷键操作</h3><h4 id="左键相关"><a href="#左键相关" class="headerlink" title="左键相关"></a>左键相关</h4><p>鼠标单击:选中单个物体</p>
<p>鼠标框选:选中多个物体</p>
<p>Ctrl+鼠标单击:多选物体</p>
<p>鼠标右键按下+移动鼠标:旋转视口</p>
<p>长按 ALT 键+鼠标左键+移动鼠标:相对观察视口中心点旋转</p>
<h4 id="右键相关"><a href="#右键相关" class="headerlink" title="右键相关"></a>右键相关</h4><p>鼠标右键按下+移动鼠标:旋转视口心</p>
<p>鼠标右键按下+WASD:漫游场景</p>
<p>鼠标右键按下+WASD+Shift:快速漫游场景</p>
<p>长按 ALT 键+鼠标右键+移动鼠标:相对屏幕中心点拉近拉远</p>
<h4 id="中键相关"><a href="#中键相关" class="headerlink" title="中键相关"></a>中键相关</h4><p>滚动鼠标中间:相对屏幕中心点拉近拉远</p>
<p>鼠标中间按下+移动鼠标:平移观察视口</p>
<p>长按 ALT 键+滚动鼠标中间:鼠标指哪就朝哪拉近拉远</p>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><p>选中物体之后，按 F 键:居中显示物体<br>(或者在层级窗口中双击对象)</p>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>所有的游戏对象都会出现在</p>
<p>Scene 场景窗口和 Hierarchy 层级窗口中需要掌握的就是熟练快捷的在</p>
<p>Scene 窗口中操作游戏物体（位置旋转缩放)</p>
<h1 id="Game-和-Project-窗口-知识点"><a href="#Game-和-Project-窗口-知识点" class="headerlink" title="Game 和 Project 窗口 知识点"></a>Game 和 Project 窗口 知识点</h1><h2 id="Game-游戏窗口"><a href="#Game-游戏窗口" class="headerlink" title="Game 游戏窗口"></a>Game 游戏窗口</h2><p>Game 游戏窗口中显示的内容；</p>
<p>是场景中<strong>摄像机</strong>，拍摄范围内的游戏对象是玩家通过屏幕能看到的东西</p>
<p>1.引擎中运行游戏</p>
<p>⒉ 暂停运行</p>
<p>3.逐帧运行</p>
<p>Display1：显示设备选择</p>
<p>FreeAspect：屏幕分辨率</p>
<p>Scale：缩放（一般为 1）</p>
<p>Maximize On Play：运行时全屏</p>
<p>Stats：渲染统计信息</p>
<h2 id="Project-工程窗口"><a href="#Project-工程窗口" class="headerlink" title="Project 工程窗口"></a>Project 工程窗口</h2><p>窗口中显示的内容主要是，Assets 文件夹中的所有内容。</p>
<p>主要用来<strong>管理资源、脚本</strong>文件，所有游戏资源都会显示在该窗口中。</p>
<p>在此窗口中，右键资源，可以对其进行一些操作。</p>
<p>常用的有</p>
<p><strong>Show In Explorer</strong>：将当前选中的资源，在文件资源管理器下显示</p>
<p><strong>Create</strong>：创建一个指定类型的资源</p>
<h3 id="Project-工程窗口默认文件夹"><a href="#Project-工程窗口默认文件夹" class="headerlink" title="Project 工程窗口默认文件夹"></a>Project 工程窗口默认文件夹</h3><p>默认文件夹（老版本没有）</p>
<p>Assets：资源文件夹，游戏资源全部都放这里。</p>
<p>Scenes：里面有一个默认空场景</p>
<p>Packages：官方拓展包</p>
<h3 id="Project-工程窗口关键功能"><a href="#Project-工程窗口关键功能" class="headerlink" title="Project 工程窗口关键功能"></a>Project 工程窗口关键功能</h3><ol>
<li>窗口设置：右上角三点</li>
<li>创建相关资源文件：左上角+，或者右键 create</li>
<li>查找</li>
<li>按资源类型查找：t:type</li>
<li>按名字查找</li>
</ol>
<h3 id="资源类型"><a href="#资源类型" class="headerlink" title="资源类型"></a>资源类型</h3><p>图片格式：jpg、png、tga</p>
<p>模型格式：fbx、max、maya</p>
<p>音效：wav、mp3、ogg</p>
<p>文本：txt、json、bytes</p>
<p>视频：mp4</p>
<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><p>Game 游戏界面，是玩家玩游戏看到的画面</p>
<p>界面中重要功能是：分辨率设置项、渲染统计界面</p>
<p>Project 工程界面，是我们用于管理游戏资源和代码的</p>
<p>重要的是知道支持的主要资源类型</p>
<h1 id="Inspector-和-Console-窗口-知识点"><a href="#Inspector-和-Console-窗口-知识点" class="headerlink" title="Inspector 和 Console 窗口 知识点"></a>Inspector 和 Console 窗口 知识点</h1><h2 id="Inspector-和-Console"><a href="#Inspector-和-Console" class="headerlink" title="Inspector 和 Console"></a>Inspector 和 Console</h2><p>Inspector 检查窗口：查看场景中游戏对象关联的 C#脚本信息</p>
<p>Console 控制台窗口：用于查看调试信息的窗口；报错、警告、测试打印都可以显示在其中</p>
<h2 id="Inspector-检查窗口"><a href="#Inspector-检查窗口" class="headerlink" title="Inspector 检查窗口"></a>Inspector 检查窗口</h2><p>不选择场景中游戏对象或，不进行任何相关设置，该界面不会显示任何信息</p>
<p>当选择场景中意游戏对象时，该界面将显示和该游戏对象，关联的 C#脚本信息</p>
<p>红色部分：游戏对象基本设置</p>
<p>Cube-对象名字；Static-静态；Tag-标签；Layer-层级；</p>
<p>蓝色部分：关联的 C#脚本</p>
<p>Transform-位置旋转缩放信息组件；</p>
<p>绿色部分：脚本的公共成员变量</p>
<p>Add Component：添加组件</p>
<img src="【唐老狮】Unity四部曲.assets/image-20230206212132572.png" alt="image-20230206212132572" style="zoom: 50%;" />

<h2 id="Console-控制台窗口"><a href="#Console-控制台窗口" class="headerlink" title="Console 控制台窗口"></a>Console 控制台窗口</h2><p>默认未开启，可以在 Window——&gt;General 中开启，或者使用快捷键：Ctrl+Shift+C</p>
<p>该窗口，将显示代码编译过程中，或者游戏运行过程中的报错、警告、测试信息，主要用于查错和调试用。</p>
<ol>
<li>清空控制台</li>
<li>相同内容折叠显示</li>
<li>运行时清空</li>
<li>构建时清空</li>
<li>报错暂停运行</li>
<li>是否显示错误信息</li>
<li>是否显示警告信息</li>
<li>是否显示打印信息</li>
</ol>
<img src="【唐老狮】Unity四部曲.assets/image-20230206213323118.png" alt="image-20230206213323118" style="zoom: 50%;" />

<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h2><ol>
<li>Inspector 检查窗口：用于设置游戏对象具体信息</li>
<li>Console 控制台窗口：用于显示调试信息，报错、警告、打印信息等</li>
<li>Scene 场景窗口：所有游戏对象所在地</li>
<li>Hierarchy 层级窗口：所有游戏的对象名单</li>
<li>Game 游戏窗口：玩家看到的游戏画面</li>
<li>Project 工程窗口：所有游戏资源和脚本内容</li>
</ol>
<p>在 Unity 中做游戏就像在拍戏</p>
<p>Scene 是舞台，所有演员都在舞台上</p>
<p>Hierarchy 是舞台演员名单</p>
<p>Game 是摄像机拍到的画面</p>
<p>Inspector 可以看到每个演员的剧本，它要扮演什么角色</p>
<p>Project 是后台，所有未上场的演员和没有使用的剧本都在这里</p>
<p>Console 是表演过程中的信息反馈</p>
<h2 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h2><p>在场景中用 Cube 堆砌一个，有 4 层 Cube 高的金字塔出来，摄像机要斜向下 45 度拍摄它。</p>
<h1 id="工具栏和父子关系-知识点"><a href="#工具栏和父子关系-知识点" class="headerlink" title="工具栏和父子关系 知识点"></a>工具栏和父子关系 知识点</h1><h2 id="工具栏"><a href="#工具栏" class="headerlink" title="工具栏"></a>工具栏</h2><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230206220330717.png" alt="image-20230206220330717"></p>
<ol>
<li><p>文件操作：新建工程，新建场景，工程打包等等</p>
<ol>
<li>Build Settings：工程打包</li>
</ol>
</li>
<li><p>编辑操作：对象编辑操作相关，工程设置，引擎设置相关</p>
<ol>
<li><strong>shift+F</strong>：视角锁定对象</li>
<li>ctrl+alt+数字：将选中的物体编组</li>
<li>ctrl+shift+数字：选中编组中的物体</li>
<li><strong>Project Settings</strong>：项目设置，对应工程文件夹的 ProjectSettings 文件夹</li>
<li><strong>Preferences</strong>：首选项，包含很多编辑器的设置</li>
<li>Shortcuts：快捷键设置</li>
<li><strong>Grid and Snap Settings</strong>：步长设置</li>
</ol>
</li>
<li><p>资源操作：基本等同于<strong>Project 窗口中右键</strong>相关功能，其他功能为导入相关的功能。</p>
</li>
<li><p>对象操作：基本等同于 Hierarchy 窗口中右键相关功能</p>
<ol>
<li><strong>MoveToVie</strong>：将选中物体移动到视线中心</li>
<li><strong>AlignWithView</strong>：将选中物体移动到视角位置</li>
<li><strong>AlignVieToSelected</strong>：将视角移动到选中的物体位置</li>
<li><strong>ToggleActiveState</strong>：激活&#x2F;失活对象</li>
</ol>
</li>
<li><p>脚本操作：Unity 自带的脚本，可以添加各系统中的脚本</p>
</li>
<li><p>窗口：可以打开 Unity 各核心系统的窗口</p>
<blockquote>
<p>注意：AssetStore 在高版本 Unity 已经没有了</p>
</blockquote>
</li>
<li><p>帮助：检查更新，查看版本等等功能</p>
<ol>
<li>UnityManual：Unity 使用手册</li>
<li>ScriptingReference：脚本使用说明</li>
</ol>
</li>
</ol>
<p>File 中的重要选项：<strong>BuildSetting</strong>（工程发布打包）</p>
<p>Edit 中的重要选项：<strong>Project Setting</strong>（工程各系统设置）；<strong>Preferences</strong>（首选项，可以设置编程软件）</p>
<p>GameObject 中的重要选项：<strong>MoveToView、Align With View、Align View to Selected</strong>（几种快捷设置位置的功能）</p>
<p>MoveToView：ctrl+alt+F</p>
<p>Align With View：ctrl+shift+F</p>
<h2 id="对象的父子关系"><a href="#对象的父子关系" class="headerlink" title="对象的父子关系"></a>对象的父子关系</h2><p>对象在另一个对象的右下，就说明他们存在父子关系</p>
<ol>
<li>子对象会随着父对象的变化而变化</li>
<li>子对象 Inspector 窗口中 Transform 信息是相对父对象的<ol>
<li>选择 Inspector 的 debug 模式，可以看到子对象是 Local 坐标，即相对于父对象的坐标</li>
</ol>
</li>
<li>Pivot：锚点，默认为本身，但会根据子对象改变</li>
<li>Global：全局，世界坐标，一般来说，对象在世界坐标，对象根据世界坐标操作。</li>
<li>Local：本地坐标，对象根据自身的本地坐标操作</li>
</ol>
<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h2><ol>
<li><p>上方工具栏：</p>
<p>目前只需要记住工具栏中的几个重要选项即可</p>
<p>哪里打包程序？哪里设置编程软件？哪里可以打开其它窗口？</p>
</li>
<li><p>父子关系：</p>
<p>对象之间产生父子关系后，如何相互影响？</p>
<p>爸爸干嘛，儿子干嘛</p>
<p>儿子干嘛，爸爸不管</p>
</li>
</ol>
<h2 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h2><p>在场景中用自带几何体拼一个坦克出来，坦克有身体、炮台、炮管、四个轮子。<br>他们有共同的父对象，父对象移动，其它部件跟随移动，炮管跟着炮台转向。</p>
<h1 id="Unity-工作原理"><a href="#Unity-工作原理" class="headerlink" title="Unity 工作原理"></a>Unity 工作原理</h1><h1 id="反射机制和游戏场景-知识点"><a href="#反射机制和游戏场景-知识点" class="headerlink" title="反射机制和游戏场景 知识点"></a>反射机制和游戏场景 知识点</h1><h2 id="1-Unity-中的反射机制"><a href="#1-Unity-中的反射机制" class="headerlink" title="1.Unity 中的反射机制"></a>1.Unity 中的反射机制</h2><p>Unity 引擎本质是一个软件，使用它时是处于运行中的<br>我们是在一个运行中的软件里制作游戏的，Unity 开发的本质就是<br>在 Unity 引擎的基础上，利用反射和引擎提供的各种功能，进行的拓展开发</p>
<h3 id="回忆一下反射的概念"><a href="#回忆一下反射的概念" class="headerlink" title="回忆一下反射的概念"></a>回忆一下反射的概念</h3><p>程序正在运行时，可以查看其它程序集或者自身的元数据</p>
<p>一个<strong>运行的程序查看本身或者其它程序的元数据的行为</strong>就叫做反射</p>
<p>在程序运行时，通过反射可以得到其它程序集或者自己程序集中<br>代码的各种信息，比如类，函数，变量，对象等等<br>我们可以实例化它们，执行它们，操作它们</p>
<h3 id="场景中对象的本质是什么"><a href="#场景中对象的本质是什么" class="headerlink" title="场景中对象的本质是什么"></a>场景中对象的本质是什么</h3><p>GameObject 类对象是 Unity 引擎提供给我们的<br>作为场景中所有对象的根本<br>在游戏场景中出现一个对象<br>不管是图片、模型、音效、摄像机等等都是<br>依附于<strong>GameObject 对象</strong>的</p>
<p>拟人化记忆：GameObject 就是没有剧本的演员</p>
<h3 id="Transform-是什么"><a href="#Transform-是什么" class="headerlink" title="Transform 是什么"></a>Transform 是什么</h3><p>GameObject 对象作为一个出现在舞台（3D 场景）中的演员<br>必须有一个表示自己所在位置的信息<br>Transform 就是一个必不可少的剧本<br>它的本质就是发了一本表示位置的剧本给演员<br>（相当于就是用一个 Transform 类对象和 GameObject 类对象进行关联）<br>用于设置和得到演员在世界中的位置角度缩放等信息</p>
<h3 id="反射机制的体现"><a href="#反射机制的体现" class="headerlink" title="反射机制的体现"></a>反射机制的体现</h3><p>除了 Transform 这个表示位置的标配剧本外<br>我们可以为这个演员（GameObject）关联各种剧本（C#脚本）<br>让它按照我们剧本中（代码逻辑中）的命令来处理事情<br>而为演员添加剧本的这个过程，就是在利用反射 new 一个新的剧本对象和演员（GameObject）对象进行关联，让其按我们的命令做事。</p>
<h3 id="图示表现"><a href="#图示表现" class="headerlink" title="图示表现"></a>图示表现</h3><img src="【唐老狮】Unity四部曲.assets/image-20230207172851069.png" alt="image-20230207172851069"  />

<h3 id="举例体现"><a href="#举例体现" class="headerlink" title="举例体现"></a>举例体现</h3><p>前提：Unity 帮助我们实现了对象查找和关联</p>
<ol>
<li><p>修改 Inspector 面板中 Transform 的内容</p>
<p><strong>利用反射</strong>：<strong>已知对象，类名，变量名，通过反射为该对象设置变量</strong></p>
</li>
<li><p>新建一个脚本后，添加给一个指定的 GameObject 对象</p>
<p><strong>利用反射</strong>：<strong>已知类名，可以获取所有公共成员，故可以在 Inspector 面板上创建各公共字段信息</strong></p>
</li>
</ol>
<h2 id="2-游戏场景"><a href="#2-游戏场景" class="headerlink" title="2.游戏场景"></a>2.游戏场景</h2><h3 id="基本知识点"><a href="#基本知识点" class="headerlink" title="基本知识点"></a>基本知识点</h3><ol>
<li><p>游戏场景的保存：ctrl+s</p>
</li>
<li><p>游戏场景的新建：在 Project 窗口 Assets-&gt;Scenew 文件夹下创建</p>
</li>
<li><p>多个游戏场景叠加显示：</p>
<p>可将多个场景拖到 Hierarchy 窗口，进行同时渲染（没啥用，最多可以复制两个场景不同的东西）</p>
</li>
</ol>
<h3 id="游戏场景的本质"><a href="#游戏场景的本质" class="headerlink" title="游戏场景的本质"></a>游戏场景的本质</h3><p>游戏场景文件，后缀为.unity</p>
<p>它的本质就是一个配置文件</p>
<p>Unity 有一套自己识别处理它的机制</p>
<p>但是本质就是把场景对象相关信息读取出来</p>
<p>通过反射来创建各个对象关联各个脚本对象</p>
<blockquote>
<p>简单来说：</p>
<p>就是 Unity 通过读取写入这个场景文件，获取对象信息，在 Unity 运行时，用 C#反射来实例化并编辑对象</p>
<p>这些对象的所有字段（成员变量）、组件，都在场景文件当中</p>
<p>比如下面的 MyCube，它本身是一个 GameObejct，有一个 TransForm 组件</p>
<p>这个 GameOjbect 的 m_Name 是 MyCube</p>
<p>其他字段参考：<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/GameObject.html">UnityEngine.GameObject - Unity 脚本 API</a></p>
<p>也就是说，我们可以<strong>直接修改场景文件</strong>，修改后 Unity 会提示你重新加载场景，你的修改就会被体现</p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/image-20230207201038126.png" alt="image-20230207201038126" style="zoom:50%;" />

<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230207200403732.png" alt="image-20230207200403732"></p>
<h1 id="Unity-脚本基础"><a href="#Unity-脚本基础" class="headerlink" title="Unity 脚本基础"></a>Unity 脚本基础</h1><h1 id="预设体和资源包的导入导出-知识点"><a href="#预设体和资源包的导入导出-知识点" class="headerlink" title="预设体和资源包的导入导出 知识点"></a>预设体和资源包的导入导出 知识点</h1><h2 id="1-预制体"><a href="#1-预制体" class="headerlink" title="1.预制体"></a>1.预制体</h2><h3 id="什么是预制体？"><a href="#什么是预制体？" class="headerlink" title="什么是预制体？"></a>什么是预制体？</h3><p>Prefab：预先制作好的的物体，文件后缀<strong>.prefab</strong></p>
<p><strong>Prefab 在 Scene 当中的所有实例都是一样的</strong></p>
<p>我们可以将在场景当中配置好的物体，拖入到 Assets-&gt;Prefabs 文件夹当中，使得其变为一个预制体（prefab）</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230207204550367.png" alt="image-20230207204550367"></p>
<h3 id="预制体的本质"><a href="#预制体的本质" class="headerlink" title="预制体的本质"></a>预制体的本质</h3><p>我们可以文本形式打开.prefab 文件，发现它和场景文件（.unity)文件一样，是一个配置文件。</p>
<p>原理同场景文件。</p>
<blockquote>
<p>注意：中文在这些配置文件中以 Unicode 编码体现，所以不能直接查找到中文</p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/image-20230207204916608.png" alt="image-20230207204916608" style="zoom:50%;" />

<h3 id="Prefab-的修改"><a href="#Prefab-的修改" class="headerlink" title="Prefab 的修改"></a>Prefab 的修改</h3><p>在 Scene 窗口修改（添加东西）Prefab 之后，在 Inspector 窗口</p>
<p>选择<strong>Overrides</strong>：</p>
<p><strong>Revert All</strong>（重置所有）：重置所有预制体实例为初始（本来）状态。</p>
<p>Apple All（应用所有）：应用修改到所有预制体实例</p>
<p>Open Prefab：在 Project<strong>双击</strong>或者在 Inspector <strong>Open</strong>预制体，打开预制体修改模式，这是用来专门修改预制体的，所有修改都会应用。</p>
<h3 id="UnPack-Prefab"><a href="#UnPack-Prefab" class="headerlink" title="UnPack Prefab"></a>UnPack Prefab</h3><p>选中物体右键后，可以选择 UnPack Prefab，解除与预制体的关系。</p>
<h3 id="实例物体右键-Prefab"><a href="#实例物体右键-Prefab" class="headerlink" title="实例物体右键-&gt;Prefab"></a>实例物体右键-&gt;Prefab</h3><p>有一些有关于物体的 Prefab 的操作，比如 Select Assets（选中预制体源文件）</p>
<h2 id="2-导入导出资源包"><a href="#2-导入导出资源包" class="headerlink" title="2.导入导出资源包"></a>2.导入导出资源包</h2><p>在 Project 窗口，右键后可以选择导入（Import Package）导出（Export Package）资源包。</p>
<p>资源包文件后缀：**.unitypackage**</p>
<h1 id="脚本基本规则-知识点"><a href="#脚本基本规则-知识点" class="headerlink" title="脚本基本规则 知识点"></a>脚本基本规则 知识点</h1><h2 id="1-创建规则"><a href="#1-创建规则" class="headerlink" title="1.创建规则"></a>1.创建规则</h2><ol>
<li><p>不在 VS 中创建脚本了</p>
</li>
<li><p>可以放在 Assets 文件夹下的任何位置（建议同—文件夹管理，一般使用一个 Scripts 文件夹管理)</p>
</li>
<li><p>类名和文件名必须—致,不然不能挂载（因为反射机制创建对象，会通过文件名去找 Type）</p>
<p>挂载：将此脚本作为一个组件添加到某个物体当中</p>
</li>
<li><p>建议不要使用中文名命名</p>
</li>
<li><p>没有特殊需求不用管命名空间</p>
</li>
<li><p>创建的脚本默认继承 MonoBehavior</p>
</li>
</ol>
<h2 id="2-MonoBehavior-基类"><a href="#2-MonoBehavior-基类" class="headerlink" title="2.MonoBehavior 基类"></a>2.MonoBehavior 基类</h2><ol>
<li><p>创建的脚本默认都<strong>继承 MonoBehaviour</strong>，继承了它才<strong>能够</strong>挂载在 GameObject 上</p>
</li>
<li><p>继承了 MonoBehavior 的脚本<strong>不能 new 只能挂</strong>!!! ! !! !!</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/alexhu2010q/article/details/106695166">Unity 的坑——避免用 New 来创建继承于 MonoBehaviour 脚本的对象_弹吉他的小刘鸭的博客-CSDN 博客_unity 銝要 ew</a></p>
</blockquote>
</li>
<li><p>继承了 MonnBehavior 的脚本不要去写构造函数，因为我们不会去 new 它，写构造函数没有任何意义</p>
</li>
<li><p>继承了 MonoBehavior 的脚本可以在一个对象上挂多个（如果没有加 DisallowMultipleComponent 特性)</p>
<p>DisallowMultipleComponent 特性：不允许挂载多个相同脚本。</p>
</li>
<li><p>继承 MonoBehavior 的类也可以再次被继承，遵循面向对象继承多态的规则</p>
<p>再次继承后的类脚本，也可以挂载到物体上。</p>
</li>
</ol>
<h2 id="3-不继承-MonoBehavior-的类"><a href="#3-不继承-MonoBehavior-的类" class="headerlink" title="3.不继承 MonoBehavior 的类"></a>3.不继承 MonoBehavior 的类</h2><ol>
<li>不继承 Mono 的类不能挂载在 GameObject 上</li>
<li>不继承 Mono 的类想怎么写怎么写，如果要使用需要自己 new</li>
<li>不继承 Mono 的类<strong>一般是单例模式的类</strong>（用于<strong>管理模块</strong>）或者<strong>数据结构类</strong>（用于存储数据）</li>
<li>不继承 Mono 的类不用保留默认出现的几个函数</li>
</ol>
<h2 id="4-脚本执行的顺序"><a href="#4-脚本执行的顺序" class="headerlink" title="4.脚本执行的顺序"></a>4.脚本执行的顺序</h2><p>Project Settings-&gt;Script Execution Order</p>
<p>或者选择脚本-&gt;Inspector-&gt;Execution Order（右上角）</p>
<p>可以设置脚本执行顺序</p>
<h2 id="5-默认脚本内容"><a href="#5-默认脚本内容" class="headerlink" title="5.默认脚本内容"></a>5.默认脚本内容</h2><p>脚本模板路径</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EditorVersion\Editor\Data\Resources\ScriptTemplates</span><br></pre></td></tr></table></figure>

<p>修改对应模板文件即可。</p>
<h2 id="习题-1"><a href="#习题-1" class="headerlink" title="习题"></a>习题</h2><ol>
<li><p>为什么继承 MonoBehavior 的类不能写构造函数?</p>
<p>因为继承 MonoBehavior 的类不能 new，构造函数也就没有意义。</p>
<p>Unity 会在这种类的构造函数进行一些内部的操作，如果强行 new 出来，会被 UnityObject 重写 ToString，得到一个”null”字符串，但是仍然可以调用一些函数。</p>
</li>
<li><p>为什么继承 MonoBehavior 的类不能直接 new 出来用，要挂载?</p>
<p>由于继承 MonoBehavior 的类，都是组件，而组件就是设计用来挂载的。</p>
<blockquote>
<p>The MonoBehaviour base class is the only base class from where you can derive your own components from</p>
<p>Unity 的代码看似用的 C#，实际上底层是翻译成 C++使用的，所以不能完全从.Net 的角度来看 Unity 的设计思路，Unity 为什么这么设计语言，我也没有找到定论，这里只能做一个大概的猜测，猜测这么做的原因主要有两点：</p>
<p>1、在 C#里，对于 Object，用 new 关键字来创建对象，会调用该类的构造函数，但 Unity 引擎对于 MonoBehaviour 类的对象，需要利用其构造函数做一些引擎内的事情，所以不提倡使用 new 关键字调用其构造函数，而是用 Awake 和 Start 函数来代替构造函数的功能。举个例子，下面部分是 MonoBehaviour 在 C#这边的部分源码，可以看到，引擎自己在里面使用了构造函数：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MonoBehaviour.bindings.cs文件夹</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">UnityEngine</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// MonoBehaviour is the base class every script derives from.</span></span><br><span class="line">    [<span class="meta">RequiredByNativeCode</span>]</span><br><span class="line">    [<span class="meta">ExtensionOfNativeClass</span>]</span><br><span class="line">    [<span class="meta">NativeHeader(<span class="string">&quot;Runtime/Mono/MonoBehaviour.h&quot;</span>)</span>]</span><br><span class="line">    [<span class="meta">NativeHeader(<span class="string">&quot;Runtime/Scripting/DelayedCallUtility.h&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MonoBehaviour</span> : <span class="title">Behaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MonoBehaviour</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            ConstructorCheck(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">		...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、把 ScriptComponents 组件统一用 AddComponent 或 Instantiate 函数来创建，可能是一种类似工厂模式的设计理念，旨在统一管理对象的创建。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/alexhu2010q/article/details/106695166">Unity 的坑——避免用 New 来创建继承于 MonoBehaviour 脚本的对象<em>unity 銝要 ew</em>弹吉他的小刘鸭的博客-CSDN 博客</a></p>
</blockquote>
</li>
<li><p>请写一个类用于说明不继承 MonoBehavior 的类对于我们的作用</p>
<p>管理资源的类，一般不需要继承 MonoBehavior，因为它不需要挂载到场景当中，作为组件存在。</p>
<p>数据结构类一般也不需要继承 MonoBehavior，因为数据只需要读取，也不需要挂载到场景当中，作为组件存在。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SceneMgr</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SceneMgr instance = <span class="keyword">new</span> SceneMgr();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SceneMgr</span>()</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SceneMgr Instance</span><br><span class="line">    &#123;</span><br><span class="line">    	<span class="keyword">get</span> =&gt; <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Func</span>()</span> &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="唐老狮答案"><a href="#唐老狮答案" class="headerlink" title="唐老狮答案"></a>唐老狮答案</h3><p>第 1 题</p>
<p>因为 MonoBehaviour 不能 new 只能挂我们不会通过构造函数实例化对象写构造函数没有意义</p>
<p>第二题</p>
<ol>
<li>这是 Unity 定下的规则；</li>
<li>继承 MonoBehavior 的类只能挂载在 GameObject 上配合使用</li>
</ol>
<p>第三题</p>
<p>数据结构类或者单例管理类</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//玩家信息类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerInfo</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">string</span> name;</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">bool</span> sex;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">int</span> def;</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">int</span> hp;</span><br><span class="line">	<span class="keyword">public</span> <span class="built_in">int</span> maxHp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//怪物管理类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MonsterMgr</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MonsterMgr instance = <span class="keyword">new</span> MonsterMgr();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> MonsterMgr Instance =&gt; instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="生命周期函数-知识点"><a href="#生命周期函数-知识点" class="headerlink" title="生命周期函数 知识点"></a>生命周期函数 知识点</h1><h2 id="知识点一-了解帧的概念"><a href="#知识点一-了解帧的概念" class="headerlink" title="知识点一 了解帧的概念"></a>知识点一 了解帧的概念</h2><h3 id="什么是帧"><a href="#什么是帧" class="headerlink" title="什么是帧?"></a>什么是帧?</h3><p>游戏的本质就是一个死循环；每—次循环处理游戏逻辑，就会更新一次画面。</p>
<p>之所以能看到画面在动，是因为，切换画面的速度到达—定时人眼就认为画面是流畅的。</p>
<p>—帧就是执行一次循环。</p>
<p>FPS（Frame Per Second）：即每秒帧数。</p>
<p>人眼舒适放松时可视帧数是每秒 24 帧</p>
<blockquote>
<p>电影就是 24 帧的</p>
</blockquote>
<p>游戏卡顿的原因：跑 1 帧游戏逻辑中的计算量过大，或者 CPU 不给力，不能在—帧的时间内处理完所有游戏逻辑。</p>
<h3 id="Unity-当中的游戏死循环"><a href="#Unity-当中的游戏死循环" class="headerlink" title="Unity 当中的游戏死循环"></a>Unity 当中的游戏死循环</h3><p>Unity 底层已经帮助我们做好了死循环，我们需要学习 Unity 的生命周期函数，利用它做好的规则来执行我们的游戏逻辑就行了。</p>
<h2 id="知识点二-生命周期函数的概念"><a href="#知识点二-生命周期函数的概念" class="headerlink" title="知识点二 生命周期函数的概念"></a>知识点二 生命周期函数的概念</h2><p>所有继承 MonoBehavior 的脚本 最终都会挂载到 GameObject 游戏对象上。</p>
<p>生命周期函数 就是该脚本对象依附的 GameObject 对象从<strong>出生到消亡</strong>整个<strong>生命周期</strong>中，会通过反射自动调用的一些特殊函数。</p>
<p>Unity 帮助我们记录了一个 GameObject 对象依附了哪些脚本；</p>
<p>会自动的得到这些对象，通过反射去执行一些固定名字的函数</p>
<h2 id="知识点三-生命周期函数"><a href="#知识点三-生命周期函数" class="headerlink" title="知识点三 生命周期函数"></a>知识点三 生命周期函数</h2><img src="【唐老狮】Unity四部曲.assets/生命周期函数图.bmp" style="zoom: 67%;" />

<blockquote>
<p>物理碰撞触发相关函数将在后讲解</p>
</blockquote>
<p>注意：</p>
<p>生命周期函数的访问修饰符一般为<strong>private</strong>和<strong>protected</strong>；</p>
<p>因为不需要在外部自己调用生命周期函数，都是 Unity 自己帮助我们调用的。</p>
<p>这是一种观察者模式。</p>
<h3 id="Awake"><a href="#Awake" class="headerlink" title="Awake"></a>Awake</h3><p>出生时调用，类似构造函数一个对象只会调用一次</p>
<p>当对象（自己这个类对象）<strong>被创建时</strong> 才会调用该生命周期函数。</p>
<p>类似构造函数的存在，我们可以在一个类对象<strong>刚创建</strong>进行一些初始化操作</p>
<blockquote>
<p>Awake 在加载脚本实例时调用。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.Awake.html">MonoBehaviour-Awake() - Unity 脚本 API</a></p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="在-Unity-中打印信息的两种方式"><a href="#在-Unity-中打印信息的两种方式" class="headerlink" title="在 Unity 中打印信息的两种方式"></a>在 Unity 中打印信息的两种方式</h3><ol>
<li><p>没有继承 MOnoBehavior 类的时候,使用</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Debug.Log(str);</span><br></pre></td></tr></table></figure>
</li>
<li><p>继承了 MonoBehavior，有一个现成的方法可以使用</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(str);</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="OnEnable"><a href="#OnEnable" class="headerlink" title="OnEnable"></a>OnEnable</h3><p>依附的 GameObject 对象每次激活时调用</p>
<p>对于我们来说，想要当一个对象<strong>被激活时</strong>，进行一些逻辑处理，就可以写在这个函数。</p>
<blockquote>
<p>该函数在对象变为启用和激活状态时调用。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.OnEnable.html">MonoBehaviour-OnEnable() - Unity 脚本 API</a></p>
</blockquote>
<h3 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h3><p>从自己被创建出来后，第一次帧更新之前调用，—个对象只会<strong>调用一次</strong>。</p>
<p>主要作用还是用于<strong>初始化信息</strong>的，但是它相对 Awake 来说 要晚一点。</p>
<p>因为它是在对象，进行第一次帧更新之前才会执行的。</p>
<blockquote>
<p>在首次调用任何 Update 方法之前启用脚本时，在帧上调用 Start。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.OnEnable.html">MonoBehaviour-OnEnable() - Unity 脚本 API</a></p>
</blockquote>
<h3 id="FixedUpdate"><a href="#FixedUpdate" class="headerlink" title="FixedUpdate"></a>FixedUpdate</h3><p>物理帧更新，固定间隔时间执行，间隔时间可以设置。</p>
<p>它主要是用于进行<strong>物理更新</strong>，它是每一帧的执行的。但是，这里的帧和游戏帧有点不同。</p>
<p>它的时间间隔是可以在 ProjectSettings 中的 Time 里去设置的。</p>
<h3 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h3><p>逻辑帧更新每帧执行。</p>
<p>主要用于处理游戏核心逻辑更新的函数。</p>
<blockquote>
<p>如果启用了 MonoBehaviour，则每帧调用 Update。</p>
<p>在实现任何类型的游戏脚本时，<code>Update</code> 都是最常用函数。 但并非所有 <code>MonoBehaviour</code> 脚本都需要 Update。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.Update.html">MonoBehaviour-Update() - Unity 脚本 API</a></p>
</blockquote>
<h3 id="LateUpdate"><a href="#LateUpdate" class="headerlink" title="LateUpdate"></a>LateUpdate</h3><p>每帧执行，于 Update 之后执行。</p>
<p>一般这个更新是用来处理 摄像机位置更新相关内容的；</p>
<p>Update 和 LateUpdate 之间 Unity 进了一些处理，处理我们动画相关的更新。</p>
<p>摄像机的控制一般写在这里，因为要等渲染完成之后才查看。</p>
<blockquote>
<p>如果启用了 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Behaviour.html">Behaviour</a>，则每帧调用 LateUpdate。</p>
<p>LateUpdate 在调用所有 Update 函数后调用。 这对于安排脚本的执行顺序很有用。例如，跟随摄像机应始终在 LateUpdate 中实现， 因为它跟踪的对象可能已在 Update 中发生移动。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.LateUpdate.html">MonoBehaviour-LateUpdate() - Unity 脚本 API</a></p>
</blockquote>
<h3 id="OnDisable"><a href="#OnDisable" class="headerlink" title="OnDisable"></a>OnDisable</h3><p>依附的 GameObject 对象每次激活时调用。</p>
<p>如果我们希望在一个对象失活时做一些处理 就可以在该函数中写逻辑。</p>
<blockquote>
<p>该函数在行为被禁用时调用。</p>
<p>当对象销毁时也会调用该函数，它可用于任何清理代码。 当编译完成后重新加载脚本时，将调用 OnDisable，并在加载脚本后调用 OnEnable。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.OnDisable.html">MonoBehaviour-OnDisable() - Unity 脚本 API</a></p>
</blockquote>
<h3 id="OnDestroy"><a href="#OnDestroy" class="headerlink" title="OnDestroy"></a>OnDestroy</h3><p>对象销毁时调用，依附的 GameObject 对象被删除时。</p>
<p>注意：调用此方法，将会调用一次 OnDisable，因为此时对象失活一次。</p>
<blockquote>
<p>销毁附加的行为将导致游戏或场景收到 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.OnDestroy.html">OnDestroy</a>。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.OnDestroy.html">MonoBehaviour-OnDestroy() - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点四-生命周期函数-支持继承多态"><a href="#知识点四-生命周期函数-支持继承多态" class="headerlink" title="知识点四 生命周期函数 支持继承多态"></a>知识点四 生命周期函数 支持继承多态</h2><p>即使父类脚本没有挂载，子类挂载了，也可以执行父类方法。</p>
<h2 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h2><p>这些生命周期函数，如果你不打算在其中写逻辑，那就不要在这些出生命周期函数。</p>
<p>因为如果你重写了这些函数，即使里面没有内容，Unity 也会通过反射获取并执行，增加一些额外性能消耗。</p>
<p>其他：</p>
<ol>
<li>脚本可以挂载到场景当中的任意对象当中。</li>
<li>一个对象挂载的脚本，就实例化了一个类，是一份独特的唯一实例，不和这个类的其他实例互通（静态除外）。</li>
<li>当场景当中的脚本一开始就处于失活状态时，不会调用生命周期函数。</li>
</ol>
<h2 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h2><ol>
<li><p>生命周期函数都在何时执行，执行的先后顺序是什么？</p>
<p>Awake：在加载脚本实例时调用（类似构造函数）</p>
<p>OnEnable：在脚本实例被激活是调用。</p>
<p>Start：在游戏帧更新开始前调用。</p>
<p>FixedUpdate：物理帧更新，根据设定的物理时间调用。</p>
<p>Update：游戏帧更新，游戏中每一帧调用。</p>
<p>LateUpdate：在所有 Update 执行完成后调用，可以用来设置摄像机跟随。</p>
<p>OnDisable：在脚本实例失活时调用。</p>
<p>OnDestroy：在对象被销毁时调用。</p>
</li>
<li><p>生命周期函数并不是基类中的成员，为什么 Unity 可以自动的执行这些特殊的函数。</p>
<p>通过反射。</p>
</li>
</ol>
<h2 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h2><p>2：</p>
<p>Unity 帮助我们记录了场景上的所有 GameObject 对象以及各个关联的脚本对象；</p>
<p>在游戏执行的特定时机（对象创建时，失活激活时，帧更新时)；</p>
<p>它会通过函数名反射得到脚本对象中对应的生命周期函数，然后在这些特定时机执行他们。</p>
<h1 id="脚本基本规则补充-关于继承-Mono-的类的构造函数"><a href="#脚本基本规则补充-关于继承-Mono-的类的构造函数" class="headerlink" title="脚本基本规则补充 关于继承 Mono 的类的构造函数"></a>脚本基本规则补充 关于继承 Mono 的类的构造函数</h1><p>我们要知道，虽然建议大家不在继承 MonoBehavior 的类中写构造函数</p>
<p>但是不意味着我们不能写，当我们在继承 MonoBehavior 的类中写无参构造函数时，你会发现在编辑模式下或者运行后，只要该脚本挂载在场景中，那么该无参构造函数是会被自动执行的。</p>
<p>因为 Unity 的工作原理中提到的反射机制，Unity 实际上通过反射帮助我们实例化了该脚本对象，既然要实例化那么肯定是需要 new 的，只不过 Unity 中不需要我们自己 new 继承了 MonoBehavior 的类，只要挂载后 Unity 帮助我们做了这件事。</p>
<p>那么为什么不建议大家写构造函数呢？</p>
<p>1.Unity 的规则就是，继承 MonoBehavior 的脚本不能 new 只能挂载</p>
<p>2.生命周期函数的 Awake 是类似构造函数的存在，当对象出生就会自动调用</p>
<p>3.写构造函数反而在结构上会破坏 Unity 设计上的规范</p>
<p>总结：</p>
<p>如果继承 MonoBehavior 的脚本想要进行初始化相关，可以在 Awake 或者 Start 中进行，搞清这两个生命周期函数的执行时机，根据需求选择在哪里进行初始化。</p>
<p>切记！！继承 MonoBehavior 的脚本不要 new，不要 new，不要 new！！</p>
<h1 id="不同对象的生命周期函数是在同一个线程中执行的吗？"><a href="#不同对象的生命周期函数是在同一个线程中执行的吗？" class="headerlink" title="不同对象的生命周期函数是在同一个线程中执行的吗？"></a>不同对象的生命周期函数是在同一个线程中执行的吗？</h1><p>答案：Unity 中所有对象上挂载的生命周期函数都是在一个主线程中按先后执行的</p>
<p>理解：Unity 会主动把场景上的对象，对象上挂载的脚本都统统记录下来，在主线程的死循环中，按顺序按时机的通过反射，执行记录的对象身上挂载的脚本的对应生命周期函数</p>
<h1 id="Inspector-窗口可编辑的变量-知识点"><a href="#Inspector-窗口可编辑的变量-知识点" class="headerlink" title="Inspector 窗口可编辑的变量 知识点"></a>Inspector 窗口可编辑的变量 知识点</h1><p>Inspector 显示的可编辑内容就是脚本的成员变量</p>
<h2 id="知识点一-私有和保护无法显示编辑"><a href="#知识点一-私有和保护无法显示编辑" class="headerlink" title="知识点一 私有和保护无法显示编辑"></a>知识点一 私有和保护无法显示编辑</h2><p>私有和保护无法显示在 Inspector 窗口当中进行编辑。</p>
<h2 id="知识点二-让私有的和保护的也可以被显示"><a href="#知识点二-让私有的和保护的也可以被显示" class="headerlink" title="知识点二 让私有的和保护的也可以被显示"></a>知识点二 让私有的和保护的也可以被显示</h2><p>加上强制序列化字段特性</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">SerializeField</span>]</span><br></pre></td></tr></table></figure>

<p>所谓序列化就是把一个对象保存到一个文件或数据库字段中去。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">SerializeField</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span> privateInt;</span><br><span class="line">[<span class="meta">SerializeField</span>]</span><br><span class="line"><span class="keyword">protected</span> <span class="built_in">string</span> protectedStr;</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-公共的可以显示编辑"><a href="#知识点三-公共的可以显示编辑" class="headerlink" title="知识点三 公共的可以显示编辑"></a>知识点三 公共的可以显示编辑</h2><p>公共的字段可以直接在 Inspector 窗口编辑。</p>
<h2 id="知识点四-公共的也不让其显示编辑"><a href="#知识点四-公共的也不让其显示编辑" class="headerlink" title="知识点四 公共的也不让其显示编辑"></a>知识点四 公共的也不让其显示编辑</h2><p>在变量前加上特性</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HideInInspector</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> publicInt2 = <span class="number">50</span>;</span><br></pre></td></tr></table></figure>

<h2 id="知识点五-大部分类型都能显示编辑"><a href="#知识点五-大部分类型都能显示编辑" class="headerlink" title="知识点五 大部分类型都能显示编辑"></a>知识点五 大部分类型都能显示编辑</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">int</span>[] array;</span><br><span class="line"><span class="keyword">public</span> List&lt;<span class="built_in">int</span>&gt; list;</span><br><span class="line"><span class="keyword">public</span> E_TestEnum type;</span><br><span class="line"><span class="keyword">public</span> GameObject gameObj;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字典不能被Inspector窗口显示</span></span><br><span class="line"><span class="keyword">public</span> Dictionary&lt;<span class="built_in">int</span>, <span class="built_in">string</span>&gt; dic;</span><br><span class="line"><span class="comment">//自定义类型变量</span></span><br><span class="line"><span class="keyword">public</span> MyStruct myStruct;</span><br><span class="line"><span class="keyword">public</span> MyClass myClass;</span><br></pre></td></tr></table></figure>

<h2 id="知识点六-让自定义类型可以被访问"><a href="#知识点六-让自定义类型可以被访问" class="headerlink" title="知识点六 让自定义类型可以被访问"></a>知识点六 让自定义类型可以被访问</h2><p>加上序列化特性</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">System.Serializable</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>字典怎样都不行</p>
</blockquote>
<h2 id="知识点七-一些辅助特性"><a href="#知识点七-一些辅助特性" class="headerlink" title="知识点七 一些辅助特性"></a>知识点七 一些辅助特性</h2><h3 id="1-分组说明特性-Header"><a href="#1-分组说明特性-Header" class="headerlink" title="1.分组说明特性 Header"></a>1.分组说明特性 Header</h3><p>为成员分组，Header 特性</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Header(<span class="string">&quot;基础属性&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> age;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">bool</span> sex;</span><br><span class="line">[<span class="meta">Header(<span class="string">&quot;战斗属性&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> atk;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> def;</span><br></pre></td></tr></table></figure>

<h3 id="2-悬停注释-Tooltip"><a href="#2-悬停注释-Tooltip" class="headerlink" title="2.悬停注释 Tooltip"></a>2.悬停注释 Tooltip</h3><p>为变量添加说明</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Tooltip(<span class="string">&quot;闪避&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> miss;</span><br></pre></td></tr></table></figure>

<h3 id="3-间隔特性-Space"><a href="#3-间隔特性-Space" class="headerlink" title="3.间隔特性 Space()"></a>3.间隔特性 Space()</h3><p>让两个字段间出现间隔</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Space()</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> crit;</span><br></pre></td></tr></table></figure>

<h3 id="4-修饰数值的滑条范围-Range"><a href="#4-修饰数值的滑条范围-Range" class="headerlink" title="4.修饰数值的滑条范围 Range"></a>4.修饰数值的滑条范围 Range</h3><p>[Range(最小值, 最大值)]</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Range(0,10)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">float</span> luck;</span><br></pre></td></tr></table></figure>

<h3 id="5-多行显示字符串"><a href="#5-多行显示字符串" class="headerlink" title="5.多行显示字符串"></a>5.多行显示字符串</h3><p>默认不写参数显示 3 行，写参数就是对应行</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">Multiline(5)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">string</span> tips;</span><br></pre></td></tr></table></figure>

<h3 id="6-滚动条显示字符串"><a href="#6-滚动条显示字符串" class="headerlink" title="6.滚动条显示字符串"></a>6.滚动条显示字符串</h3><p>默认不写参数就是超过 3 行显示滚动条</p>
<p>[TextArea(3, 4)]</p>
<p>最少显示 3 行，最多 4 行，超过 4 行就显示滚动条</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">TextArea(3,4)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">string</span> myLife;</span><br></pre></td></tr></table></figure>

<h3 id="7-为变量添加快捷方法"><a href="#7-为变量添加快捷方法" class="headerlink" title="7.为变量添加快捷方法"></a>7.为变量添加快捷方法</h3><p>ContextMenuItem</p>
<p>参数 1 显示按钮名</p>
<p>参数 2 方法名 不能有参数</p>
<p>[ContextMenuItem(“显示按钮名”, “方法名”)]</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">ContextMenuItem(<span class="string">&quot;重置钱&quot;</span>, <span class="string">&quot;Test&quot;</span>)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> money;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Test</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    money = <span class="number">99</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-为方法添加特性能够在-Inspector-中执行"><a href="#8-为方法添加特性能够在-Inspector-中执行" class="headerlink" title="8.为方法添加特性能够在 Inspector 中执行"></a>8.为方法添加特性能够在 Inspector 中执行</h3><p>[ContextMenu(“测试函数”)]</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">ContextMenu(<span class="string">&quot;哈哈哈哈&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">TestFun</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;测试方法&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ol>
<li>Inspector 窗口中的变量关联的就是对象的成员变量，运行时改变他们就是在改变成员变量</li>
<li>拖曳到 GameObject 对象后 再改变脚本中变量默认值 界面上不会改变</li>
<li>运行中修改的信息不会保存</li>
</ol>
<h2 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h2><ol>
<li><p>如何让公共成员不在 lnspector 面板上设置<br>如何让私有或保护成员可以在 lnspector 面板上设置</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">HideOnInspector</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> publicInt;</span><br><span class="line">[<span class="meta">SerializeField</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span> privateInt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>为什么加不同的特性，在 lnspector 窗口上会有不同的效果请说出你的理解</p>
<p>因为 Unity 在通过使用反射加载类时，会判断拥有的特性，然后按对应特性实现对应功能。</p>
</li>
</ol>
<p>答案</p>
<p>2.因为 Unity 中是通过反射得到类的信息，然后在 Inspector 窗口中显示字段信息。Unity 内部通过反射获取字段的特性，当具有一些特殊特性时，便会做对应的处理。</p>
<h1 id="MonoBehavior-中的重要内容-知识点"><a href="#MonoBehavior-中的重要内容-知识点" class="headerlink" title="MonoBehavior 中的重要内容 知识点"></a>MonoBehavior 中的重要内容 知识点</h1><p>继承链：</p>
<p>MonoBehavior-&gt;Behavior-&gt;Component-&gt;Object</p>
<p>所以，这期其实是讲的这些类当中的一些方法属性。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/MonoBehaviour.html">UnityEngine.MonoBehaviour - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Behaviour.html">UnityEngine.Behaviour - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Component.html">UnityEngine.Component - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Object.html">UnityEngine.Object - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-重要成员"><a href="#知识点一-重要成员" class="headerlink" title="知识点一 重要成员"></a>知识点一 重要成员</h2><p>1.获取依附的 GameObject</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.gameObject.name);</span><br></pre></td></tr></table></figure>

<p>2.获取依附的 GameObject 的位置信息</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到对象位置信息</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.position);	<span class="comment">//位置</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.eularAngeles);	<span class="comment">//角度</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.lossyScale);	<span class="comment">//缩放大小</span></span><br></pre></td></tr></table></figure>

<p>这种写法和上面是一样的效果，都是得到依附的对象的位置信息</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.gameObject.transform</span><br></pre></td></tr></table></figure>

<p>3.获取脚本是否激活</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.enabled = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<p>获取别的脚本对象 依附的 gameobject 和 transform 位置信息</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(otherLesson3.gameObject.name);</span><br><span class="line">print(otherLesson3.transform.position);</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-重要方法"><a href="#知识点二-重要方法" class="headerlink" title="知识点二 重要方法"></a>知识点二 重要方法</h2><h3 id="1-得到自己挂载的单个脚本"><a href="#1-得到自己挂载的单个脚本" class="headerlink" title="1.得到自己挂载的单个脚本"></a>1.得到自己挂载的单个脚本</h3><p>根据脚本名获取</p>
<p>获取脚本的方法，如果获取失败，就是没有对应的脚本，会默认返回空。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Lesson3_Test t = <span class="keyword">this</span>.GetComponent(<span class="string">&quot;Lesson3_Test&quot;</span>) <span class="keyword">as</span> Lesson3_Test;</span><br></pre></td></tr></table></figure>

<p>根据 Type 获取</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t = t.GetComponent(<span class="keyword">typeof</span>(Lesson3_Test)) <span class="keyword">as</span> Lesson3_Test;</span><br></pre></td></tr></table></figure>

<p>根据泛型获取，建议使用泛型获取，因为不用二次转换</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t = <span class="keyword">this</span>.GetComponent&lt;Lesson3_Test&gt;();</span><br></pre></td></tr></table></figure>

<p>只要你能得到场景中别的对象或者对象依附的脚本</p>
<p>那你就可以获取到它的所有信息</p>
<h3 id="2-得到自己挂载的多个脚本"><a href="#2-得到自己挂载的多个脚本" class="headerlink" title="2.得到自己挂载的多个脚本"></a>2.得到自己挂载的多个脚本</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Lesson3[] array = <span class="keyword">this</span>.GetComponents&lt;Lesson3&gt;();</span><br><span class="line"></span><br><span class="line">List&lt;Lesson3&gt; list = <span class="keyword">new</span> List&lt;Lesson3&gt;();</span><br><span class="line"><span class="keyword">this</span>.GetComponents&lt;Lesson3&gt;(list);</span><br></pre></td></tr></table></figure>

<h3 id="3-得到子对象挂载的脚本-它默认也会找自己身上是否挂载该脚本"><a href="#3-得到子对象挂载的脚本-它默认也会找自己身上是否挂载该脚本" class="headerlink" title="3.得到子对象挂载的脚本(它默认也会找自己身上是否挂载该脚本)"></a>3.得到子对象挂载的脚本(它默认也会找自己身上是否挂载该脚本)</h3><p>函数是有一个参数的，默认不传 是 false，意思就是，如果子对象失活，是不会去找这个对象上是否有某个脚本的。如果传 true 即使失活 也会找。</p>
<p>得子对象挂载脚本，单个</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">t = <span class="keyword">this</span>.GetComponentInChildren&lt;Lesson3_Test&gt;(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p>得子对象挂载脚本，多个</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Lesson3_Test[] lts = <span class="keyword">this</span>.GetComponentsInChildren&lt;Lesson3_Test&gt;(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">List&lt;Lesson3_Test&gt; list2 = <span class="keyword">new</span> List&lt;Lesson3_Test&gt;();</span><br><span class="line"><span class="keyword">this</span>.GetComponetsInChildren&lt;Lesson3_Test&gt;(<span class="literal">true</span>, list2);</span><br></pre></td></tr></table></figure>

<h3 id="4-得到父对象挂载的脚本-它默认也会找自己身上是否挂载该脚本"><a href="#4-得到父对象挂载的脚本-它默认也会找自己身上是否挂载该脚本" class="headerlink" title="4.得到父对象挂载的脚本(它默认也会找自己身上是否挂载该脚本)"></a>4.得到父对象挂载的脚本(它默认也会找自己身上是否挂载该脚本)</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t = <span class="keyword">this</span>.GetComponentInParent&lt;Lesson3_Test&gt;();</span><br><span class="line"></span><br><span class="line">lts = <span class="keyword">this</span>.GetComponentsInParent&lt;Lesson3_Test&gt;();</span><br><span class="line"><span class="keyword">this</span>.GetComponentsInParent&lt;Lesson3_Test&gt;(lts);</span><br></pre></td></tr></table></figure>

<h3 id="5-尝试获取脚本"><a href="#5-尝试获取脚本" class="headerlink" title="5.尝试获取脚本"></a>5.尝试获取脚本</h3><p>提供了一个更加安全的，获取单个脚本的方法。如果得到了，会返回 true。</p>
<p>然后再来进行逻辑处理即可。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.TryGetComponent&lt;Lesson3_Test&gt;(<span class="keyword">out</span> l3t)) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="练习题-3"><a href="#练习题-3" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h3><p>请说出一个继承了 MonoBehavior 的脚本中<br>this、this.gameObject、this.transform 分别代表什么?</p>
<p>this：代表自己；this.gameObject：依附的对象；this.transform：依附的对象上的 transform。</p>
<h3 id="第二题"><a href="#第二题" class="headerlink" title="第二题"></a>第二题</h3><p>一个脚本 A，一个脚本 B，他们都挂在一个 GameObject 上</p>
<p>实现在 A 中的 Start 函数中让 B 脚本失活，请用代码失活。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        B bComp = <span class="keyword">this</span>.GetComponent&lt;B&gt;();</span><br><span class="line">        <span class="keyword">if</span> (bComp != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            bComp.enabled = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第三题"><a href="#第三题" class="headerlink" title="第三题"></a>第三题</h3><p>—个脚本 A 一个脚本 B，脚本 A 挂在 A 对象上，脚本 B 挂在 B 对象上。</p>
<p>实现在 A 脚本的 Start 函数中将 B 对象上的 B 脚本失活。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject bObj;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (bObj != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            bObj.GetComponent&lt;B&gt;().enabled = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="基础知识-总结"><a href="#基础知识-总结" class="headerlink" title="基础知识 总结"></a>基础知识 总结</h1><p>学习 Unity，其实首先是学习 Unity 编辑器的基本使用。</p>
<p>然后学习 Unity 自带的脚本，如果 GameObject，Transform 等等。</p>
<p>当 Unity 自带脚本不能满足我们自己的需求时，就需要自定义脚本。</p>
<p>自定义脚本往往实现我们自己想要的效果。</p>
<p>当游戏运行后，挂载到物体上的脚本其实会通过反射实例化为一个个对象。</p>
<p>每一个物体上的脚本都是独立的一个个对象。</p>
<h1 id="Unity-重要组件和-API"><a href="#Unity-重要组件和-API" class="headerlink" title="Unity 重要组件和 API"></a>Unity 重要组件和 API</h1><h1 id="GameObject-成员变量-知识点"><a href="#GameObject-成员变量-知识点" class="headerlink" title="GameObject 成员变量 知识点"></a>GameObject 成员变量 知识点</h1><p>继承链：</p>
<p>GameObject-&gt;Object</p>
<p>所以，这期其实是讲的这些类当中的一些方法属性。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Object.html">UnityEngine.Object - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/GameObject.html">UnityEngine.GameObject - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-重要成员（字段）"><a href="#知识点一-重要成员（字段）" class="headerlink" title="知识点一 重要成员（字段）"></a>知识点一 重要成员（字段）</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//名字</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.name);</span><br><span class="line"><span class="keyword">this</span>.gameObject.name = <span class="string">&quot;Panzi&quot;</span>;</span><br><span class="line">print(<span class="keyword">this</span>.gameObject.name);</span><br><span class="line"><span class="comment">//是否激活</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.activeSelf);</span><br><span class="line"><span class="comment">//是否是静态</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.isStatic);</span><br><span class="line"><span class="comment">//层级</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.layer);</span><br><span class="line"><span class="comment">//标签</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.tag);</span><br><span class="line"><span class="comment">//transform</span></span><br><span class="line"><span class="comment">//this.transform 上一节课讲解的 通过Mono去得到的依附对象的GameObject的位置信息</span></span><br><span class="line"><span class="comment">//他们得到的信息是一样 都是依附的GameObject的位置信息</span></span><br><span class="line">print(<span class="keyword">this</span>.gameObject.transform.position);</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-GameObject-中的静态方法"><a href="#知识点二-GameObject-中的静态方法" class="headerlink" title="知识点二 GameObject 中的静态方法"></a>知识点二 GameObject 中的静态方法</h2><h3 id="创建自带几何体"><a href="#创建自带几何体" class="headerlink" title="创建自带几何体"></a>创建自带几何体</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只要得到了一个GameObject对象 我就可以得到它身上挂在的任何脚本信息</span></span><br><span class="line"><span class="comment">//通过obj.GetComponent来得去</span></span><br><span class="line">GameObject obj = GameObject.CreatePrimitive(PrimitiveType.Cube);</span><br><span class="line">obj.name = <span class="string">&quot;唐老狮创建的立方体&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查找对象相关的知识"><a href="#查找对象相关的知识" class="headerlink" title="查找对象相关的知识"></a>查找对象相关的知识</h3><ol>
<li>无法找到失活的对象，只能找到激活的对象。</li>
<li>如果场景中存在多个满足条件的对象，我们无法准确确定找到的是谁。</li>
</ol>
<p>得到某一个单个对象 目前有 2 种方式了</p>
<ol>
<li>是 public 从外部面板拖 进行关联</li>
<li>通过 API 去找</li>
</ol>
<h4 id="通过对象名查找"><a href="#通过对象名查找" class="headerlink" title="通过对象名查找"></a>通过对象名查找</h4><p>通过对象名无法查找到多个对象，如果场景中存在多个满足条件的对象，我们无法准确确定找到的是谁。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过对象名查找</span></span><br><span class="line"><span class="comment">//这个查找效率比较低下  因为他会在场景中的所有对象去查找</span></span><br><span class="line"><span class="comment">//没有找到 就会返回null</span></span><br><span class="line">GameObject obj2 = GameObject.Find(<span class="string">&quot;唐老狮&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>( obj2 != <span class="literal">null</span> )</span><br><span class="line">&#123;</span><br><span class="line">    print(obj2.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;没有找到对应对象&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="通过-tag-来查找对象"><a href="#通过-tag-来查找对象" class="headerlink" title="通过 tag 来查找对象"></a>通过 tag 来查找对象</h4><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//GameObject obj3 = GameObject.FindWithTag(&quot;Player&quot;);</span></span><br><span class="line"><span class="comment">//该方法和上面这个方法 效果一样 只是名字不一样而已</span></span><br><span class="line">GameObject obj3 = GameObject.FindGameObjectWithTag(<span class="string">&quot;Player&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (obj3 != <span class="literal">null</span>)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;根据tag找的对象&quot;</span> + obj3.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;根据tag没有找到对应对象&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过tag找到多个对象</span></span><br><span class="line"><span class="comment">//它也是 只能找到 激活对象 无法找到失活对象</span></span><br><span class="line">GameObject[] objs = GameObject.FindGameObjectsWithTag(<span class="string">&quot;Player&quot;</span>);</span><br><span class="line">print(<span class="string">&quot;找到tag为Player对象的个数&quot;</span> + objs.Length);</span><br></pre></td></tr></table></figure>

<h4 id="其他方法"><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h4><p>还有几个查找对象相关是用的比较少的方法 是 GameObject 父类 Object 提供的方法</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//它可以找到场景中挂载的某一个脚本对象</span></span><br><span class="line"><span class="comment">//效率更低 上面的GameObject.Find 和通过FindWithTag找 只是遍历对象</span></span><br><span class="line"><span class="comment">//这个方法 不仅要遍历对象 还要遍历对象上挂载的脚本</span></span><br><span class="line">Lesson4 o = GameObject.FindObjectOfType&lt;Lesson4&gt;();	<span class="comment">//不止这一个</span></span><br><span class="line">print(o.gameObject.name);</span><br></pre></td></tr></table></figure>

<h3 id="额外知识补充"><a href="#额外知识补充" class="headerlink" title="额外知识补充"></a>额外知识补充</h3><p>Unity 中的 Object 和 C#中的万物之父的区别：</p>
<p>Unity 里面的 Object 不是指的万物之父 object；</p>
<p>Unity 里的 Object 命名空间在 UnityEngine 中的 Object 类，也是集成万物之父的一个自定义类。</p>
<p>C#中的 Object 命名空间是在 System 中的</p>
<blockquote>
<p>就是两个不同命名空间的同名类，与 Unity 相关的类都继承 UnityEngine 命名空间中的基类</p>
</blockquote>
<h3 id="实例化对象（克隆对象）的方法"><a href="#实例化对象（克隆对象）的方法" class="headerlink" title="实例化对象（克隆对象）的方法"></a>实例化对象（克隆对象）的方法</h3><p>实例化(克隆)对象 它的作用 是根据一个 GameObject 对象 创建出一个和它一模一样的对象</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GameObject obj5 = GameObject.Instantiate(myObj);</span><br><span class="line"><span class="comment">//以后学了更多知识点 就可以在这操作obj5</span></span><br><span class="line"><span class="comment">//如果你继承了 MonoBehavior 其实可以不用写GameObject一样可以使用</span></span><br><span class="line"><span class="comment">//因为 这个方法时Unity里面的 Object基类提供给我们的 所以可以直接用</span></span><br><span class="line"><span class="comment">//Instantiate(myObj);</span></span><br></pre></td></tr></table></figure>

<h3 id="删除对象的方法"><a href="#删除对象的方法" class="headerlink" title="删除对象的方法"></a>删除对象的方法</h3><p>删除对象有两种作用：</p>
<ol>
<li>是删除指定的一个游戏对象</li>
<li>是删除一个指定的脚本对象</li>
</ol>
<p>注意：这个 Destroy 方法 不会马上移除对象，只是给这个对象加了一个移除标识；<br>一般情况下 它会在下一帧时把这个对象移除并从内存中移除</p>
<p>如果没有特殊需求 就是一定要马上移除一个对象的话，建议使用上面的 Destroy 方法</p>
<p>因为 是<strong>异步的</strong> 降低卡顿的几率。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是UnityEngine.Object当中的方法</span></span><br><span class="line">GameObject.Destroy(myObj2);</span><br><span class="line"><span class="comment">//第二个参数 代表延迟几秒钟删除</span></span><br><span class="line">GameObject.Destroy(obj5, <span class="number">5</span>);</span><br><span class="line"><span class="comment">//Destroy不仅可以删除对象 还可以删除脚本</span></span><br><span class="line"><span class="comment">//GameObject.Destroy(this);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果是继承MonoBehavior的类 不用写GameObject</span></span><br><span class="line"><span class="comment">//Destroy(myObj2);</span></span><br><span class="line"><span class="comment">//DestroyImmediate(myObj);</span></span><br></pre></td></tr></table></figure>

<p>下面这个方法 就是立即把对象 从内存中移除 C 了</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GameObject.DestroyImmediate(myObj);	<span class="comment">//立即删除这个对象</span></span><br></pre></td></tr></table></figure>

<h3 id="过场景不移除"><a href="#过场景不移除" class="headerlink" title="过场景不移除"></a>过场景不移除</h3><p>默认情况，在切换场景时，场景中对象都会被自动删除掉；</p>
<p>如果你希望某个对象，过场景不被移除。下面这句代码 就是不想谁过场景被移除，就传谁。</p>
<p>一般都是传依附的<strong>GameObject 对象</strong>。</p>
<p>比如下面这句代码的意思 就是自己依附的 GameObject 对象 过场景不被删除</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//是UnityEngine.Object当中的方法</span></span><br><span class="line">GameObject.DontDestroyOnLoad(<span class="keyword">this</span>.gameObject);</span><br><span class="line"><span class="comment">//如果继承MOnoBehavior也可以直接写</span></span><br><span class="line"><span class="comment">//DontDestroyOnLoad(this.gameObject);</span></span><br></pre></td></tr></table></figure>

<h2 id="知识点三-GameObject-中的成员方法"><a href="#知识点三-GameObject-中的成员方法" class="headerlink" title="知识点三 GameObject 中的成员方法"></a>知识点三 GameObject 中的成员方法</h2><h3 id="创建空物体"><a href="#创建空物体" class="headerlink" title="创建空物体"></a>创建空物体</h3><p>new 一个 GameObject 就是在创建一个空物体</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GameObject obj6 = <span class="keyword">new</span> GameObject();</span><br><span class="line">GameObject obj7 = <span class="keyword">new</span> GameObject(<span class="string">&quot;唐老狮创建的空物体&quot;</span>);</span><br><span class="line">GameObject obj8 = <span class="keyword">new</span> GameObject(<span class="string">&quot;顺便加脚本的空物体&quot;</span>, <span class="keyword">typeof</span>(Lesson2),<span class="keyword">typeof</span>(Lesson1));</span><br></pre></td></tr></table></figure>

<h3 id="为对象添加脚本"><a href="#为对象添加脚本" class="headerlink" title="为对象添加脚本"></a>为对象添加脚本</h3><p>继承 MOnoBehavior 的脚本 是不能够去 new ；</p>
<p>如果想要动态的添加继承 MonoBehavior 的脚本，在某一个对象上，直接使用 GameObject 提供的方法即可</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Lesson1 les1 = obj6.AddComponent(<span class="keyword">typeof</span>(Lesson1)) <span class="keyword">as</span> Lesson1;</span><br><span class="line"><span class="comment">//用泛型更方便</span></span><br><span class="line">Lesson2 les2 = obj6.AddComponent&lt;Lesson2&gt;();</span><br><span class="line"><span class="comment">//通过返回值，可以得到加入的脚本信息</span></span><br><span class="line"><span class="comment">//来进行一些处理</span></span><br><span class="line"><span class="comment">//得到脚本的成员方 和继承Mono的类得到脚本的方法 一模一样</span></span><br></pre></td></tr></table></figure>

<h3 id="标签比较"><a href="#标签比较" class="headerlink" title="标签比较"></a>标签比较</h3><p>下面两种比较的方法是一样的.</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.gameObject.CompareTag(<span class="string">&quot;Player&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;对象的标签 是 Player&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.gameObject.tag == <span class="string">&quot;Player&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;对象的标签 是 Player&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="设置激活失活"><a href="#设置激活失活" class="headerlink" title="设置激活失活"></a>设置激活失活</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//false 失活</span></span><br><span class="line"><span class="comment">//true 激活</span></span><br><span class="line">obj6.SetActive(<span class="literal">false</span>);</span><br><span class="line">obj7.SetActive(<span class="literal">false</span>);</span><br><span class="line">obj8.SetActive(<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<h3 id="广播消息"><a href="#广播消息" class="headerlink" title="广播消息"></a>广播消息</h3><blockquote>
<p>次要的成员方法 了解即可，不建议使用。</p>
<p>强调：下面讲的方法，都不建议大家使用，效率比较低。</p>
</blockquote>
<p>通过广播或者发送消息的形式，让自己或者别人 执行某些行为方法。</p>
<p>通知自己执行什么行为。</p>
<p>命令自己，去执行这个 TestFun 这个函数，会在自己身上挂在的所有脚本去找这个名字的函数。</p>
<p>它会去找到，自己身上所有的脚本，有这个名字的函数去执行。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.gameObject.SendMessage(<span class="string">&quot;TestFun&quot;</span>);</span><br><span class="line"><span class="keyword">this</span>.gameObject.SendMessage(<span class="string">&quot;TestFun2&quot;</span>, <span class="number">199</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//广播行为 让自己和自己的子对象执行</span></span><br><span class="line"><span class="comment">//this.gameObject.BroadcastMessage(&quot;函数名&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//向父对象和自己发送消息 并执行</span></span><br><span class="line"><span class="comment">//this.gameObject.SendMessageUpwards(&quot;函数名&quot;);</span></span><br></pre></td></tr></table></figure>

<h2 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h2><p>GameObject 的常用内容</p>
<p>基本成员变量：名字，失活激活状态，标签，层级等等。</p>
<p>静态方法相关：创建自带几何体，查找场景中对象，实例化对象，删除对象，过场景不移除。</p>
<p>成员方法：为对象动态添加指定脚本，设置失活激活的状态，和 MonoBehavior 中相同的得到脚本相关的方法。</p>
<h2 id="练习题-4"><a href="#练习题-4" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-1"><a href="#第一题-1" class="headerlink" title="第一题"></a>第一题</h3><p>1.一个空物体上挂了一个脚本，游戏运行时该脚本可以实例化出之前的坦克预设体</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson4_P1</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject tankPrefab;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Instantiate(tankPrefab);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>答案</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    GameObject tank = GameObject.Find(<span class="string">&quot;tank&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (tank != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//找到场景当中的坦克再创建</span></span><br><span class="line">        Instantiate(tank);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二题-1"><a href="#第二题-1" class="headerlink" title="第二题"></a>第二题</h3><p>2.—个脚本 A，─ 个脚本 B，脚本 A 挂在 A 对象上，脚本 B 挂在 B 对象上。</p>
<p>实现在 A 脚本的 Start 函数中将 B 对象上的 B 脚本失活（用 GameObject 相关知识做)。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">A</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        GameObject obj = GameObject.Find(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (obj != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            obj.GetComponent&lt;B&gt;().enabled = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第三题-1"><a href="#第三题-1" class="headerlink" title="第三题"></a>第三题</h3><p>3.一个对象 A 和一个对象 B，在 A 上挂一个脚本，通过这个脚本可以让 B 对象改名，失活，延迟删除，立即删除。可以在 lnspector 窗口进行设置，让 B 实现不同的效果(提示: GameObject、枚举)</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> E_Do_Type</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//改名</span></span><br><span class="line">    ChangeName,</span><br><span class="line">    <span class="comment">//失活</span></span><br><span class="line">    ActiveFlase,</span><br><span class="line">    <span class="comment">//延迟删除</span></span><br><span class="line">    DelayDes,</span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    Des,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson4_A1</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//申明一个枚举 表示不同的状态</span></span><br><span class="line">    <span class="keyword">public</span> E_Do_Type type = E_Do_Type.ChangeName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过Inspector窗口 关联B 这种方式 更加效率</span></span><br><span class="line">    <span class="keyword">public</span> GameObject B;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (type)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> E_Do_Type.ChangeName:</span><br><span class="line">                B.name = <span class="string">&quot;B改名&quot;</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> E_Do_Type.ActiveFlase:</span><br><span class="line">                B.SetActive(<span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> E_Do_Type.DelayDes:</span><br><span class="line">                Destroy(B, <span class="number">5</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> E_Do_Type.Des:</span><br><span class="line">                DestroyImmediate(B);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="literal">default</span>:</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Time-知识点"><a href="#Time-知识点" class="headerlink" title="Time 知识点"></a>Time 知识点</h1><p>Time 相关内容主要用来干啥?</p>
<p>时间相关内容 主要 用于游戏中参与位移、记时、时间暂停等</p>
<blockquote>
<p>这期主要讲 Time 的一些字段</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Time.html">UnityEngine.Time - Unity 脚本 API</a></p>
<p>一般来说，单机游戏或者测试时，使用物理时间 Time，网络游戏，使用服务器时间。</p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/image-20230211222931169.png" alt="image-20230211222931169" style="zoom: 80%;" />

<img src="【唐老狮】Unity四部曲.assets/image-20230211223129063.png" alt="image-20230211223129063"  />

<h2 id="知识点一-时间缩放比例"><a href="#知识点一-时间缩放比例" class="headerlink" title="知识点一 时间缩放比例"></a>知识点一 时间缩放比例</h2><p>时间停止</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time.timeScale = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p>正常</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time.timeScale = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>2 倍速</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Time.timeScale = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-帧间隔时间"><a href="#知识点二-帧间隔时间" class="headerlink" title="知识点二 帧间隔时间"></a>知识点二 帧间隔时间</h2><p>帧间隔时间：Time.<strong>deltaTime</strong>，最近的一帧用了多长时间（秒），受 scale 影响</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;帧间隔时间&quot;</span> + Time.deltaTime);</span><br></pre></td></tr></table></figure>

<p>不受 scale 影响的帧间隔时间：Time.<strong>unscaledDeltaTime</strong>;</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;不受timeScale影响的帧间隔时间&quot;</span> + Time.unscaledDeltaTime);</span><br></pre></td></tr></table></figure>

<p>帧间隔时间，主要是用来<strong>计算位移</strong>。</p>
<p><strong>路程 &#x3D; 时间 * 速度</strong></p>
<p>根据需求，选择参与计算的间隔时间。</p>
<p>如果希望游戏暂停时就不动的，那就使用<strong>deltaTime</strong>；</p>
<p>如果希望不受暂停影响，使用<strong>unscaledDeltaTime</strong>。</p>
<h2 id="知识点三-游戏开始到现在的时间"><a href="#知识点三-游戏开始到现在的时间" class="headerlink" title="知识点三 游戏开始到现在的时间"></a>知识点三 游戏开始到现在的时间</h2><p>Time.time：游戏当前时间（游戏未运行时为 0）</p>
<p>它主要用来计时 单机游戏中计时，受 scale 影响</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;游戏开始到现在的时间:&quot;</span> + Time.time);</span><br></pre></td></tr></table></figure>

<p>不受 scale 影响</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">&quot;不受scale影响的游戏开始到现在的时间:&quot;</span> + Time.unscaledTime);</span><br></pre></td></tr></table></figure>

<h2 id="知识点四-物理帧间隔时间"><a href="#知识点四-物理帧间隔时间" class="headerlink" title="知识点四 物理帧间隔时间"></a>知识点四 物理帧间隔时间</h2><p>固定物理帧时间运行的函数为<strong>FixedUpdate</strong>，这个物理帧时间是可以设置的。</p>
<p>物理帧间隔时间：Time.<strong>fixedDeltaTime</strong>;</p>
<p>受 scale 影响</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Time.fixedDeltaTime);</span><br></pre></td></tr></table></figure>

<p>不受 scale 影响</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Time.fixedUnscaledDeltaTime);</span><br></pre></td></tr></table></figure>

<h2 id="知识点五-帧数"><a href="#知识点五-帧数" class="headerlink" title="知识点五 帧数"></a>知识点五 帧数</h2><p>从开始到现在游戏跑了多少帧(次循环)</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Time.frameCount);</span><br></pre></td></tr></table></figure>

<h2 id="练习题-5"><a href="#练习题-5" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-2"><a href="#第一题-2" class="headerlink" title="第一题"></a>第一题</h3><p>在哪里可以设置物理更新的间隔时间?</p>
<p>答：工具栏-&gt;Edit-&gt;ProjectSettings-&gt;Time</p>
<h3 id="第二题-2"><a href="#第二题-2" class="headerlink" title="第二题"></a>第二题</h3><p>请问 Time 中的各个时间对于我们来说，可以用来做什么？至少选择两个时间变量来进行说明。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Time.html">UnityEngine.Time - Unity 脚本 API</a></p>
<p>各种时间加上 unsacled 就是不受 Time.timeScale 影响。</p>
</blockquote>
<p>Time.timeScale：时间缩放比例，用来控制时间的快慢。</p>
<p>Time.deltaTime，Time.unscaledDeltaTime：帧时间间隔，可以用来计算行走的路程，路程 &#x3D; 时间 * 速度。</p>
<p>Time.time：从游戏开始到现在经过的时间，可以用来计时。</p>
<p>Time.fixedDeltaTime：物理帧间隔时间，用来处理物理效果</p>
<h1 id="必不可少的-Transform"><a href="#必不可少的-Transform" class="headerlink" title="必不可少的 Transform"></a>必不可少的 Transform</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<h1 id="Vector3-基础和位置相关-知识点"><a href="#Vector3-基础和位置相关-知识点" class="headerlink" title="Vector3 基础和位置相关 知识点"></a>Vector3 基础和位置相关 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<h2 id="Transform-主要用来干嘛？"><a href="#Transform-主要用来干嘛？" class="headerlink" title="Transform 主要用来干嘛？"></a>Transform 主要用来干嘛？</h2><p>游戏对象（GameObject）<strong>位移、旋转、缩放、父子关系、坐标转换</strong>等相关操作都由它处理。</p>
<p>它是 Unity 提供的<strong>极其重要的类</strong></p>
<blockquote>
<p>用于表示 3D 向量和点。</p>
<p>Unity 内部使用该结构传递 3D 位置和方向。 此外，它还包含用于执行常见向量操作的函数。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Vector3.html">UnityEngine.Vector3 - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-必备知识点-Vector3-基础"><a href="#知识点一-必备知识点-Vector3-基础" class="headerlink" title="知识点一 必备知识点 Vector3 基础"></a>知识点一 必备知识点 Vector3 基础</h2><p>Vector3 主要是用来表示三维坐标系中的一个点或者一个向量。</p>
<p>声明</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vector3 v1 = <span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>Vector 的基本计算</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//其实就是运算符重载</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> +(Vector3 a, Vector3 b)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> -(Vector3 a, Vector3 b)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> -(Vector3 a)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> *(Vector3 a, <span class="built_in">float</span> d)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> *(<span class="built_in">float</span> d, Vector3 a)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 <span class="keyword">operator</span> /(Vector3 a, <span class="built_in">float</span> d)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="keyword">operator</span> ==(Vector3 lhs, Vector3 rhs)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">bool</span> <span class="keyword">operator</span> !=(Vector3 lhs, Vector3 rhs)</span><br></pre></td></tr></table></figure>

<p>常用静态成员，大部分用来表示一个方向</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 zero =&gt; zeroVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 one =&gt; oneVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 forward =&gt; forwardVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 back =&gt; backVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 up =&gt; upVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 down =&gt; downVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 left =&gt; leftVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 right =&gt; rightVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 positiveInfinity =&gt; positiveInfinityVector;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Vector3 negativeInfinity =&gt; negativeInfinityVector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 zeroVector = <span class="keyword">new</span> Vector3(<span class="number">0f</span>, <span class="number">0f</span>, <span class="number">0f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 oneVector = <span class="keyword">new</span> Vector3(<span class="number">1f</span>, <span class="number">1f</span>, <span class="number">1f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 upVector = <span class="keyword">new</span> Vector3(<span class="number">0f</span>, <span class="number">1f</span>, <span class="number">0f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 downVector = <span class="keyword">new</span> Vector3(<span class="number">0f</span>, <span class="number">-1f</span>, <span class="number">0f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 leftVector = <span class="keyword">new</span> Vector3(<span class="number">-1f</span>, <span class="number">0f</span>, <span class="number">0f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 rightVector = <span class="keyword">new</span> Vector3(<span class="number">1f</span>, <span class="number">0f</span>, <span class="number">0f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 forwardVector = <span class="keyword">new</span> Vector3(<span class="number">0f</span>, <span class="number">0f</span>, <span class="number">1f</span>);</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">readonly</span> Vector3 backVector = <span class="keyword">new</span> Vector3(<span class="number">0f</span>, <span class="number">0f</span>, <span class="number">-1f</span>);</span><br></pre></td></tr></table></figure>

<p>常用的一个方法</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回两点之间距离</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">float</span> <span class="title">Distance</span>(<span class="params">Vector3 a, Vector3 b</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">float</span> num = a.x - b.x;</span><br><span class="line">    <span class="built_in">float</span> num2 = a.y - b.y;</span><br><span class="line">    <span class="built_in">float</span> num3 = a.z - b.z;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">float</span>)Math.Sqrt(num * num + num2 * num2 + num3 * num3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-位置"><a href="#知识点二-位置" class="headerlink" title="知识点二 位置"></a>知识点二 位置</h2><h3 id="position-和-localPostion"><a href="#position-和-localPostion" class="headerlink" title="position 和 localPostion"></a>position 和 localPostion</h3><p>相对世界坐标系</p>
<p>通过 position 得到的位置，是相对于世界坐标系的原点的位置，可能和面板上显示的是不一样的。</p>
<p>因为如果对象有父子关系，并且父对象位置不在原点，那么和面板上肯定就是不一样的</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.transform.position);</span><br></pre></td></tr></table></figure>

<p>相对父对象</p>
<p>这两个坐标 对于我们来说很重要，如果你想以面板坐标为准来进行位置设置。</p>
<p>那一定是通过 localPosition 来进行设置的。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.transform.localPosition);</span><br></pre></td></tr></table></figure>

<p>position 和 localPositio 可能出现是一样的情况，是因为父对象是原点或者没有父对象。</p>
<h3 id="修改位置"><a href="#修改位置" class="headerlink" title="修改位置"></a>修改位置</h3><p>注意：位置的赋值不能直接改变 x，y，z 只能整体改变</p>
<blockquote>
<p>因为 position 是结构体，而结构体是值类型，获取 x 时，返回的是一个值副本，这样修改就没啥用啦。</p>
<p>Unity 干脆直接将他设置为不能修改</p>
<p>所以需要使用一个 Vector 中转一下。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32821435/article/details/79938144">在 Unity 中不能对 transform.position.x&#x2F;y&#x2F;z 直接赋值的原因探究_自然妙有猫仙人的博客-CSDN 博客_transform.position.x</a></p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.position = <span class="keyword">new</span> Vector3(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">this</span>.transform.localPosition = Vector3.up * <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果只想改一个值x y和z要保持原有坐标一致</span></span><br><span class="line"><span class="comment">//1.直接赋值</span></span><br><span class="line"><span class="keyword">this</span>.transform.position = <span class="keyword">new</span> Vector3(<span class="number">19</span>, <span class="keyword">this</span>.transform.position.y, <span class="keyword">this</span>.transform.position.z);</span><br><span class="line"><span class="comment">//2.先取出来 再赋值</span></span><br><span class="line"><span class="comment">//虽然不能直接改 transform的 xyz 但是 Vector3是可以直接改 xyz的</span></span><br><span class="line"><span class="comment">//所以可以先取出来改Vector3 再重新赋值</span></span><br><span class="line">Vector3 vPos = <span class="keyword">this</span>.transform.localPosition;</span><br><span class="line">vPos.x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">this</span>.transform.localPosition = vPos;</span><br></pre></td></tr></table></figure>

<h3 id="获取以当前物体为参照的其他朝向位置"><a href="#获取以当前物体为参照的其他朝向位置" class="headerlink" title="获取以当前物体为参照的其他朝向位置"></a>获取以当前物体为参照的其他朝向位置</h3><p>如果你想得到对象当前的一个朝向 ，那么就是通过 transform.出来的</p>
<p>注意：这个方向是相对于<strong>本物体</strong>的！！</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对象当前的各朝向</span></span><br><span class="line"><span class="comment">//对象当前的面朝向</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.forward);</span><br><span class="line"><span class="comment">//对象当前的头顶朝向</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.up);</span><br><span class="line"><span class="comment">//对象当前的右手边</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.right);</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-位移"><a href="#知识点三-位移" class="headerlink" title="知识点三 位移"></a>知识点三 位移</h2><p>在多维坐标系上，由于存在多个轴，自然就存在方向。</p>
<p>路程 &#x3D; 方向 _ 速度 _ 时间</p>
<h3 id="方式一，自己计算"><a href="#方式一，自己计算" class="headerlink" title="方式一，自己计算"></a>方式一，自己计算</h3><p>用当前的位置 + 我要动多长距离，得出最终所在的位置</p>
<p>移动后的位置 &#x3D; 当前位置 + 方向 _ 速度 _ 时间</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.position = <span class="keyword">this</span>.transform.position + <span class="keyword">this</span>.transform.up * <span class="number">1</span> * Time.deltaTime;</span><br><span class="line"><span class="comment">//复合运算</span></span><br><span class="line"><span class="keyword">this</span>.transform.position += <span class="keyword">this</span>.transform.forward * <span class="number">1</span> * Time.deltaTime;</span><br></pre></td></tr></table></figure>

<h3 id="方式二，调用-API"><a href="#方式二，调用-API" class="headerlink" title="方式二，调用 API"></a>方式二，调用 API</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.Translate.html">Transform-Translate - Unity 脚本 API</a></p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Transform.Translate;</span><br><span class="line"><span class="comment">//6个重载，常用的是下面这个</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Translate</span>(<span class="params">Vector3 translation, [DefaultValue(<span class="string">&quot;Space.Self&quot;</span></span>)] Space relativeTo)</span></span><br></pre></td></tr></table></figure>

<p>根据 <code>translation</code> 的方向和距离移动变换。</p>
<p>参数一：表示位移多少，路程 &#x3D; 方向 _ 速度 _ 时间。</p>
<p>参数二：表示相对坐标系默认该参数是相对于自己坐标系的。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1相对于世界坐标系的Z轴动，始终是朝世界坐标系的Z轴正方向移动</span></span><br><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward * <span class="number">1</span> * Time.deltaTime, Space.World);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2相对于世界坐标的，自己的面朝向去动，始终朝自己的面朝向移动</span></span><br><span class="line"><span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.forward * <span class="number">1</span> * Time.deltaTime, Space.World);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3相对于自己的坐标系 下的 自己的面朝向向量移动 （一定不会这样让物体移动） XXXXXXX</span></span><br><span class="line"><span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.forward * <span class="number">1</span> * Time.deltaTime, Space.Self);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4相对于自己的坐标系 下的 Z轴正方向移动  始终朝自己的面朝向移动</span></span><br><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward * <span class="number">1</span> * Time.deltaTime, Space.Self);</span><br></pre></td></tr></table></figure>

<p>注意：一般使用 API 来进行位移</p>
<h2 id="总结-7"><a href="#总结-7" class="headerlink" title="总结"></a>总结</h2><h3 id="Vector3"><a href="#Vector3" class="headerlink" title="Vector3"></a>Vector3</h3><p>如何声明？提供的常用静态属性和一个计算距离的方法是什么？</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vector3 v = <span class="keyword">new</span> Vector3(x, y, z);</span><br></pre></td></tr></table></figure>

<p>提供的常用静态属性：zero，one，forward，left，right，up，down</p>
<p>一个计算距离的方法：Vector.Distanve(v1, v2);</p>
<h3 id="位置（transform-position"><a href="#位置（transform-position" class="headerlink" title="位置（transform.position)"></a>位置（transform.position)</h3><h4 id="相对于世界坐标系和相对于父对象这两个坐标的区别"><a href="#相对于世界坐标系和相对于父对象这两个坐标的区别" class="headerlink" title="相对于世界坐标系和相对于父对象这两个坐标的区别?"></a>相对于世界坐标系和相对于父对象这两个坐标的区别?</h4><p>世界坐标：无论物体做了任何的转换（移动，旋转等），世界三个轴方向仍然不变。</p>
<p>本地坐标：<br>如果物体无父对象，本地坐标就是世界坐标。</p>
<p>如果物体有父对象，本地坐标就是就是相对于父对象的坐标计算出来的坐标（根据父对象的位置进行偏移）。</p>
<h4 id="不能够单独修改-xyz，只能一起统一改？"><a href="#不能够单独修改-xyz，只能一起统一改？" class="headerlink" title="不能够单独修改 xyz，只能一起统一改？"></a>不能够单独修改 xyz，只能一起统一改？</h4><p>因为 position 是结构体，而值类型返回的是值副本，所以需要通过中转一个 Vector 修改。</p>
<h3 id="位移（transform-Translate"><a href="#位移（transform-Translate" class="headerlink" title="位移（transform.Translate)"></a>位移（transform.Translate)</h3><h4 id="自己修改"><a href="#自己修改" class="headerlink" title="自己修改"></a>自己修改</h4><p>路程 &#x3D; 方向 _ 速度 _ 时间</p>
<p>新位置 &#x3D; 原位置 + 路程向量</p>
<h4 id="调用-API"><a href="#调用-API" class="headerlink" title="调用 API"></a>调用 API</h4><p>通常使用 API 进行位移。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Translate(Vector3 translation, [DefaultValue(<span class="string">&quot;Space.Self&quot;</span>)] Space relativeTo)</span><br></pre></td></tr></table></figure>

<p>translation：路程（带方向）</p>
<p>relativeTo：参照坐标系</p>
<h2 id="练习题-6"><a href="#练习题-6" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-3"><a href="#第一题-3" class="headerlink" title="第一题"></a>第一题</h3><p>1.一个空对象上挂了一个脚本，这个脚本可以让游戏运行时，在场景中创建出一个 n 层由 Cube 构成的金字塔(提示:实例化预设体或者实例化自带几何体方法)</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InstantiateGoldenTower</span>(<span class="params"><span class="built_in">int</span> n = <span class="number">7</span></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    GameObject GoldenTower = <span class="keyword">new</span> GameObject(<span class="string">&quot;GoldenTower&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> k = <span class="number">0</span>; k &lt; (n - i); ++k)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; (n - i); ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                GameObject cube = GameObject.CreatePrimitive(PrimitiveType.Cube);</span><br><span class="line">                cube.transform.position = <span class="keyword">new</span> Vector3((k + <span class="number">0.5f</span> * i), i, (j + <span class="number">0.5f</span> * i));</span><br><span class="line">                cube.transform.parent = GoldenTower.transform;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二题-3"><a href="#第二题-3" class="headerlink" title="第二题"></a>第二题</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward, Space.World);</span><br><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward, Space.Self);</span><br><span class="line"><span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.forward, Space.Self);</span><br><span class="line"><span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.forward, Space.World);</span><br></pre></td></tr></table></figure>

<p>这四个方法，哪些才能让对象朝自己的面朝向移动?为何?(可以画图说明)</p>
<p>第二个方法可以，因为是按照本地坐标系，然后朝前移动的。就是按照自己的方向朝自己的前面移动。</p>
<p>第四个方法可以，因为是按照世界坐标系，并且是朝自己前面移动的。</p>
<h3 id="第三题-2"><a href="#第三题-2" class="headerlink" title="第三题"></a>第三题</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Translate(Vector3.forward * Time.deltaTime * <span class="number">1f</span>, Space.Self);</span><br><span class="line"><span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.forward * Time.deltaTime, Space.World);</span><br></pre></td></tr></table></figure>

<h1 id="角度和旋转-知识点"><a href="#角度和旋转-知识点" class="headerlink" title="角度和旋转 知识点"></a>角度和旋转 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<p>注意：面板上显示的，都是相对于父对象（local 本地）的坐标或角度。</p>
<h2 id="知识点一-角度相关"><a href="#知识点一-角度相关" class="headerlink" title="知识点一 角度相关"></a>知识点一 角度相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform-eulerAngles.html">Transform-eulerAngles - Unity 脚本 API</a></p>
</blockquote>
<p>相对世界坐标角度</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.transform.eulerAngles);</span><br><span class="line"><span class="keyword">this</span>.transform.eulerAngles = <span class="keyword">new</span> Vector3(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>相对父对象角度</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.transform.localEulerAngles);</span><br><span class="line"><span class="keyword">this</span>.transform.localEulerAngles = <span class="keyword">new</span> Vector3(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>注意：设置角度和设置位置一样，不能单独设置 xyz 要一起设置。</p>
<p>如果我们希望改变的角度是面板上显示的内容，那一定是改变相对父对象（本地）的角度。</p>
<h2 id="知识点二-旋转相关"><a href="#知识点二-旋转相关" class="headerlink" title="知识点二 旋转相关"></a>知识点二 旋转相关</h2><p>自己计算（省略不讲了 和位置一样 不停改变角度即可）</p>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><p>自转</p>
<p>每个轴，具体转多少度</p>
<p>Transform.Rotate</p>
<blockquote>
<p>使用 Transform.Rotate 以各种方式旋转 GameObjects。通常以欧拉角而不是四元数提供旋转。</p>
<p>可以在世界轴或本地轴中指定旋转。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.Rotate.html">Transform-Rotate - Unity 脚本 API</a></p>
</blockquote>
<p>第一个参数 相当于 是旋转的角度 每一帧<br>第二个参数 默认不填 就是相对于自己坐标系 进行的旋转</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//每个轴 具体转多少度</span></span><br><span class="line"><span class="comment">//第一个参数 相当于 是旋转的角度 每一帧</span></span><br><span class="line"><span class="comment">//第二个参数 默认不填 就是相对于自己坐标系 进行的旋转</span></span><br><span class="line"><span class="keyword">this</span>.transform.Rotate(<span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>) * Time.deltaTime);</span><br><span class="line"><span class="keyword">this</span>.transform.Rotate(<span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>) * Time.deltaTime, Space.World);</span><br><span class="line"></span><br><span class="line"><span class="comment">//相对于某个轴 转多少度</span></span><br><span class="line"><span class="comment">//参数一：是相对哪个轴进行转动</span></span><br><span class="line"><span class="comment">//参数二：是转动的 角度 是多少</span></span><br><span class="line"><span class="comment">//参数三：默认不填 就是相对于自己的坐标系 进行旋转</span></span><br><span class="line"><span class="comment">//       如果填  可以填写相对于 世界坐标系进行旋转</span></span><br><span class="line"><span class="keyword">this</span>.transform.Rotate(Vector3.right, <span class="number">10</span> * Time.deltaTime);</span><br><span class="line"><span class="keyword">this</span>.transform.Rotate(Vector3.right, <span class="number">10</span> * Time.deltaTime, Space.World);</span><br><span class="line"></span><br><span class="line"><span class="comment">//相对于某一个点转</span></span><br><span class="line"><span class="comment">//参数一：相当于哪一个点 转圈圈</span></span><br><span class="line"><span class="comment">//参数二：相对于那一个点的 哪一个轴转圈圈</span></span><br><span class="line"><span class="comment">//参数三：转的度数  旋转速度 * 时间</span></span><br><span class="line"><span class="keyword">this</span>.transform.RotateAround(Vector3.zero, Vector3.right, <span class="number">10</span> * Time.deltaTime);</span><br></pre></td></tr></table></figure>

<h2 id="练习题-7"><a href="#练习题-7" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-4"><a href="#第一题-4" class="headerlink" title="第一题"></a>第一题</h3><p>1.使用你之前创建的坦克预设体，在坦克下面加一个底座（用自带几何体即可)让其可以原地旋转，类似一个展览台</p>
<p>将坦克作为展示盘的子对象，然后围绕自身 y 轴旋转。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.Rotate(Vector3.up * <span class="number">10</span> * Time.deltaTime);</span><br></pre></td></tr></table></figure>

<h3 id="第二题-4"><a href="#第二题-4" class="headerlink" title="第二题"></a>第二题</h3><p>2.在第一题的基础上，让坦克的炮台可以自动左右来回旋转，炮管可以自动上下抬起</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson7_P</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject tankBattery;</span><br><span class="line">    <span class="keyword">public</span> GameObject tankGunBarrel;</span><br><span class="line">    <span class="built_in">int</span> upDownFlag = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">int</span> leftRightFlag = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        tankBattery = GameObject.Find(<span class="string">&quot;炮台&quot;</span>);</span><br><span class="line">        tankGunBarrel = GameObject.Find(<span class="string">&quot;炮管&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//整体旋转</span></span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up * <span class="number">10</span> * Time.deltaTime);</span><br><span class="line">        <span class="comment">//炮台左右旋转</span></span><br><span class="line">        tankBattery?.transform.Rotate(Vector3.up * <span class="number">10</span> * leftRightFlag * Time.deltaTime);</span><br><span class="line">        <span class="keyword">if</span> (tankBattery?.transform.eulerAngles.y &gt; <span class="number">180f</span> || tankBattery?.transform.eulerAngles.y &lt; <span class="number">-180f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            leftRightFlag = -leftRightFlag;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//炮管上下旋转</span></span><br><span class="line">        tankGunBarrel?.transform.Rotate(Vector3.right * <span class="number">10</span> * upDownFlag * Time.deltaTime);</span><br><span class="line">        <span class="keyword">if</span> (tankGunBarrel?.transform.eulerAngles.x &gt; <span class="number">16f</span> || tankGunBarrel?.transform.eulerAngles.x &lt; <span class="number">-20f</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            upDownFlag = -upDownFlag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意，localEulerAngles 是没有负数的！！</p>
</blockquote>
<h3 id="第三题-3"><a href="#第三题-3" class="headerlink" title="第三题"></a>第三题</h3><p>3.请用 3 个球体，模拟太阳、地球、月亮之间的旋转移动</p>
<blockquote>
<p>写的不太对，不要看</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson7_P3</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject sun;</span><br><span class="line">    <span class="keyword">public</span> GameObject earth;</span><br><span class="line">    <span class="keyword">public</span> GameObject moon;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        sun = GameObject.Find(<span class="string">&quot;sun&quot;</span>);</span><br><span class="line">        earth = GameObject.Find(<span class="string">&quot;earth&quot;</span>);</span><br><span class="line">        moon = GameObject.Find(<span class="string">&quot;moon&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        sun.transform.Rotate(Vector3.up * <span class="number">30</span> * Time.deltaTime, Space.Self);</span><br><span class="line">        earth.transform.RotateAround(sun.transform.position, Vector3.up, <span class="number">20</span> * Time.deltaTime);</span><br><span class="line">        moon.transform.RotateAround(earth.transform.position, Vector3.up, <span class="number">10</span> * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="答案-1"><a href="#答案-1" class="headerlink" title="答案"></a>答案</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson7_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> rotateSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> headRotateSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> pkPosRotateSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//头部位置信息</span></span><br><span class="line">    <span class="keyword">public</span> Transform head;</span><br><span class="line">    <span class="keyword">public</span> Transform pkPos;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Transform dq;</span><br><span class="line">    <span class="keyword">public</span> Transform ty;</span><br><span class="line">    <span class="keyword">public</span> Transform yl;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="comment">//1.使用你之前创建的坦克预设体，在坦克下面加一个底座（用自带几何体即可）</span></span><br><span class="line">        <span class="comment">//让其可以原地旋转，类似一个展览台</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//2.在第一题的基础上，让坦克的炮台可以自动左右来回旋转，炮管可以自动上下抬起</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题三</span></span><br><span class="line">        <span class="comment">//3.请用3个球体，模拟太阳、地球、月亮之间的旋转移动</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up, rotateSpeed * Time.deltaTime);</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//炮台左右来回旋转</span></span><br><span class="line">        head.Rotate(Vector3.up, headRotateSpeed * Time.deltaTime);</span><br><span class="line">        <span class="comment">//炮管上下来回旋转</span></span><br><span class="line">        pkPos.Rotate(Vector3.right, pkPosRotateSpeed * Time.deltaTime);</span><br><span class="line">        <span class="comment">//通过head.localEulerAngles得到的角度 不会出现负数的情况</span></span><br><span class="line">        <span class="comment">//虽然界面上显示出了负数 但是 通过代码获取 始终 只能得到0~360之间的数</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//只能是0到360 那就只有特殊判断了</span></span><br><span class="line">        <span class="keyword">if</span> (!(head.localEulerAngles.y &gt;= <span class="number">315</span> &amp;&amp; head.localEulerAngles.y &lt;= <span class="number">360</span>) &amp;&amp;</span><br><span class="line">            head.localEulerAngles.y &gt;= <span class="number">45</span> &amp;&amp; headRotateSpeed &gt; <span class="number">0</span>)</span><br><span class="line">            headRotateSpeed = -headRotateSpeed;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (!(head.localEulerAngles.y &lt;= <span class="number">45</span> &amp;&amp; head.localEulerAngles.y &gt;= <span class="number">0</span>) &amp;&amp;</span><br><span class="line">                  head.localEulerAngles.y &lt;= <span class="number">315</span> &amp;&amp; headRotateSpeed &lt; <span class="number">0</span>)</span><br><span class="line">            headRotateSpeed = -headRotateSpeed;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//只能是0到360 那就只有特殊判断了</span></span><br><span class="line">        <span class="keyword">if</span> (!(pkPos.localEulerAngles.x &gt;= <span class="number">350</span> &amp;&amp; pkPos.localEulerAngles.x &lt;= <span class="number">360</span>) &amp;&amp;</span><br><span class="line">            pkPos.localEulerAngles.x &gt;= <span class="number">10</span> &amp;&amp; pkPosRotateSpeed &gt; <span class="number">0</span>)</span><br><span class="line">            pkPosRotateSpeed = -pkPosRotateSpeed;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (!(pkPos.localEulerAngles.x &lt;= <span class="number">10</span> &amp;&amp; pkPos.localEulerAngles.x &gt;= <span class="number">0</span>) &amp;&amp;</span><br><span class="line">                  pkPos.localEulerAngles.x &lt;= <span class="number">350</span> &amp;&amp; pkPosRotateSpeed &lt; <span class="number">0</span>)</span><br><span class="line">            pkPosRotateSpeed = -pkPosRotateSpeed;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题三</span></span><br><span class="line">        <span class="comment">//太阳自转</span></span><br><span class="line">        ty.Rotate(Vector3.up, <span class="number">10</span> * Time.deltaTime);</span><br><span class="line">        <span class="comment">//地球自转</span></span><br><span class="line">        dq.Rotate(Vector3.up, <span class="number">10</span> * Time.deltaTime);</span><br><span class="line">        <span class="comment">//月亮自转</span></span><br><span class="line">        yl.Rotate(Vector3.up, <span class="number">10</span> * Time.deltaTime);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//地球公转</span></span><br><span class="line">        dq.RotateAround(ty.position, Vector3.up, <span class="number">10</span> * Time.deltaTime);</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="缩放和看向-知识点"><a href="#缩放和看向-知识点" class="headerlink" title="缩放和看向 知识点"></a>缩放和看向 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-缩放"><a href="#知识点一-缩放" class="headerlink" title="知识点一 缩放"></a>知识点一 缩放</h2><p>注意：lossyScale 不能修改</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//相对世界坐标系</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.lossyScale);</span><br><span class="line"><span class="comment">//相对本地坐标系（父对象）</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.localScale);</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：</span></span><br><span class="line"><span class="comment">//1.同样缩放不能只改xyz 只能一起改(相对于世界坐标系的缩放大小只能得 不能改)</span></span><br><span class="line"><span class="comment">//所以 我们一般要修改缩放大小 都是改的 相对于父对象的 缩放大小 localScale</span></span><br><span class="line"><span class="keyword">this</span>.transform.localScale = <span class="keyword">new</span> Vector3(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.Unity没有提供关于缩放的API</span></span><br><span class="line"><span class="comment">//之前的 旋转 位移 都提供了 对应的 API 但是 缩放并没有</span></span><br><span class="line"><span class="comment">//如果你想要 让 缩放 发生变化 只能自己去写(自己算)</span></span><br><span class="line"><span class="keyword">this</span>.transform.localScale += Vector3.one * Time.deltaTime;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-看向"><a href="#知识点二-看向" class="headerlink" title="知识点二 看向"></a>知识点二 看向</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.LookAt.html">Transform-LookAt - Unity 脚本 API</a></p>
</blockquote>
<p>让一个对象的面朝向，可以一直看向某一个点或者某一个对象。</p>
<p>看向一个点，相对于世界坐标系的。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.LookAt(Vector3.zero);</span><br></pre></td></tr></table></figure>

<p>看向一个对象就传入一个对象的 Transform 信息。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.LookAt(lookAtObj);</span><br></pre></td></tr></table></figure>

<h2 id="总结-8"><a href="#总结-8" class="headerlink" title="总结"></a>总结</h2><p>缩放相关：</p>
<p>相对于世界坐标系的缩放，只能得，不能改，只能去修改相对于本地坐标系的缩放（相对于父对象）。</p>
<p>没有提供对应的 API 来 缩放变化 只能自己算</p>
<p>看向：LookAt 看向一个点 或者一个对象。一定记住，是写在 Update 里面才会不停变化。</p>
<h2 id="练习题-8"><a href="#练习题-8" class="headerlink" title="练习题"></a>练习题</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson8_p</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> GameObject camera;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        camera = GameObject.Find(<span class="string">&quot;Main Camera&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">LateUpdate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        camera.transform.LookAt(GameObject.Find(<span class="string">&quot;展示台&quot;</span>).transform);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="父子关系-知识点"><a href="#父子关系-知识点" class="headerlink" title="父子关系 知识点"></a>父子关系 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-获取和设置父对象"><a href="#知识点一-获取和设置父对象" class="headerlink" title="知识点一 获取和设置父对象"></a>知识点一 获取和设置父对象</h2><p>获取父对象</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.transform.parent.name);</span><br></pre></td></tr></table></figure>

<p>设置父对象，断绝父子关系</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.parent = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<p>设置父对象 <code>认爸爸</code></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.parent = GameObject.Find(<span class="string">&quot;Father2&quot;</span>).transform;</span><br></pre></td></tr></table></figure>

<p>通过 API 来进行父子关系的设置</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.SetParent(<span class="literal">null</span>);<span class="comment">//断绝父子关系</span></span><br><span class="line"><span class="keyword">this</span>.transform.SetParent(GameObject.Find(<span class="string">&quot;Father2&quot;</span>).transform);<span class="comment">//认爸爸</span></span><br></pre></td></tr></table></figure>

<p>重载</p>
<p>参数一：目标父对象。<br>参数二：是否保留世界坐标的 位置 角度 缩放 信息。</p>
<p>true：会保留世界坐标下的状态和父对象进行计算，得到本地坐标系的信息，原来缩放怎么样，还是怎么样。</p>
<p>false：不会保留会直接把世界坐标系下的位置角度缩放，直接赋值到本地坐标系下，会参照父对象进行坐标缩放变换。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.SetParent(GameObject.Find(<span class="string">&quot;Father3&quot;</span>).transform, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-抛妻弃子"><a href="#知识点二-抛妻弃子" class="headerlink" title="知识点二 抛妻弃子"></a>知识点二 抛妻弃子</h2><p>就是和自己的所有儿子，断绝关系，没有父子关系了。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.DetachChildren();</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-获取子对象"><a href="#知识点三-获取子对象" class="headerlink" title="知识点三 获取子对象"></a>知识点三 获取子对象</h2><h3 id="transform-Find"><a href="#transform-Find" class="headerlink" title="transform.Find"></a>transform.Find</h3><p>按名字查找儿子，找到儿子的 transform 信息</p>
<p><strong>transform.Find</strong>方法，是能够找到<strong>失活的对象</strong>的 ！！！！！</p>
<p>GameObject 相关的 查找 是不能找到失活对象的</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="keyword">this</span>.transform.Find(<span class="string">&quot;Cube (1)&quot;</span>).name);</span><br></pre></td></tr></table></figure>

<p>他只能找到自己的儿子 找不到自己的孙子 ！！！！！！</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//GameObject是Cube (1)的子对象</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.Find(<span class="string">&quot;GameObject&quot;</span>).name);</span><br></pre></td></tr></table></figure>

<p>虽然它的效率比 GameObject.Find 要高一些，但是前提是你必须知道父亲是谁才能找。</p>
<h3 id="遍历儿子"><a href="#遍历儿子" class="headerlink" title="遍历儿子"></a>遍历儿子</h3><p>先获取子对象数量</p>
<ol>
<li>失活的儿子也会算数量</li>
<li>找不到孙子所以孙子不会算数量</li>
</ol>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是一个字段</span></span><br><span class="line">print(<span class="keyword">this</span>.transform.childCount);</span><br></pre></td></tr></table></figure>

<p>再通过 transform.GetChild(index)获取。</p>
<p>通过索引号，去得到自己对应的儿子。如果编号超出了儿子数量的范围，会直接报错。</p>
<p>返回值是<strong>transform</strong>，可以得到对应儿子的位置相关信息。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.transform.GetChild(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.transform.childCount; i++)</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;儿子的名字：&quot;</span> + <span class="keyword">this</span>.transform.GetChild(i).name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点四-儿子的操作"><a href="#知识点四-儿子的操作" class="headerlink" title="知识点四 儿子的操作"></a>知识点四 儿子的操作</h2><p>一个对象，判断自己是不是另一个对象的儿子。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(son.IsChildOf(<span class="keyword">this</span>.transform))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;是我的儿子&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>得到自己作为儿子的编号，编号<strong>从 0 开始</strong>。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(son.GetSiblingIndex());</span><br></pre></td></tr></table></figure>

<p>把自己设置为第一个儿子</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">son.SetAsFirstSibling();</span><br></pre></td></tr></table></figure>

<p>把自己设置为最后一个儿子</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">son.SetAsLastSibling();</span><br></pre></td></tr></table></figure>

<p>把自己设置为指定个儿子</p>
<p>就算你填的数量 超出了范围（负数或者更大的数） 不会报错 会直接设置成最后一个编号</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">son.SetSiblingIndex(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="总结-9"><a href="#总结-9" class="headerlink" title="总结"></a>总结</h2><p>设置父对象相关的内容</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.SetParent(obj, <span class="literal">true</span>/<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<p>获取子对象</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.childCount;</span><br></pre></td></tr></table></figure>

<p>抛弃妻子</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">transform.DetachChildren();</span><br></pre></td></tr></table></figure>

<p>儿子的操作</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">transform.IsChildOf(obj);</span><br><span class="line">transform.GetSiblingIndex();</span><br><span class="line">transform.SetSiblingIndex(<span class="built_in">int</span>);</span><br><span class="line">transform.SetAsFirstSibling();</span><br><span class="line">transform.SetAsLastSibling();</span><br></pre></td></tr></table></figure>

<h2 id="练习题-9"><a href="#练习题-9" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-5"><a href="#第一题-5" class="headerlink" title="第一题"></a>第一题</h3><p>请为 Transform 写一个拓展方法，可以将它的子对象按名字的长短进行排序改变他们的顺序，名字短的在前面，名字长的在后面。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Lesson9_P</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">SortByName</span>(<span class="params"><span class="keyword">this</span> Transform transform</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//这里可以使用List</span></span><br><span class="line">        Transform[] trans = <span class="keyword">new</span> Transform[transform.childCount];</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; transform.childCount; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            trans[i] = transform.GetChild(i);</span><br><span class="line">        &#125;</span><br><span class="line">        Array.Sort(trans, (a, b) =&gt; a.name.Length &lt; b.name.Length ? <span class="number">-1</span> : <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; trans.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            trans[i].SetSiblingIndex(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二题-5"><a href="#第二题-5" class="headerlink" title="第二题"></a>第二题</h3><p>请为 Transform 写一个拓展方法，传入一个名字查找子对象，即使是子对象的子对象也能查找到</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Transform <span class="title">FindInAllSubObject</span>(<span class="params"><span class="keyword">this</span> Transform parent, <span class="built_in">string</span> name</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    Transform ret = parent.Find(name);</span><br><span class="line">    <span class="keyword">if</span> (ret == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; parent.childCount; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            ret = parent.GetChild(i).FindInAllSubObject(name);</span><br><span class="line">            <span class="keyword">if</span> (ret != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> ret;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="答案-2"><a href="#答案-2" class="headerlink" title="答案"></a>答案</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">Tools</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 这个方法 是我们为Transform写的一个拓展方法</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 主要用来把子对象按名字长短排序</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;obj&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Sort</span>(<span class="params"> <span class="keyword">this</span> Transform obj</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//有什么知识点 是和排序相关</span></span><br><span class="line">        <span class="comment">//使用List的排序 比较符合我们的需求</span></span><br><span class="line">        <span class="comment">//我们的思路 就是把子对象 放到一个 list容器中 然后对list进行排序</span></span><br><span class="line">        <span class="comment">//排序完毕后 遍历list 去设置 这个顺序中的 对象的 子对象位置</span></span><br><span class="line">        List&lt;Transform&gt; list = <span class="keyword">new</span> List&lt;Transform&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; obj.childCount; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            list.Add(obj.GetChild(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//这是根据 名字长短进行排序 利用的 是list的排序</span></span><br><span class="line">        list.Sort((a, b) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.name.Length &lt; b.name.Length)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//根据 list中的排序结果 重新设置每一个对象的 索引编号</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; list.Count; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            list[i].SetSiblingIndex(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 根据名字找到 子对象 不管藏多深</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;father&quot;&gt;</span>调用方法的对象<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;childName&quot;&gt;</span>要找的对象名字<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Transform <span class="title">CustomFind</span>(<span class="params"> <span class="keyword">this</span> Transform father, <span class="built_in">string</span> childName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//如何查找子对象的子对象</span></span><br><span class="line">        <span class="comment">//我要找的对象</span></span><br><span class="line">        Transform target = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//先从自己身上的子对象找</span></span><br><span class="line">        target = father.Find(childName);</span><br><span class="line">        <span class="keyword">if</span> (target != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> target;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//如果在自己身上没有找到 那就去找自己的子对象的子对象</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; father.childCount; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//让子对象去帮我找 有没有这个名字的对象</span></span><br><span class="line">            <span class="comment">//递归</span></span><br><span class="line">            target = father.GetChild(i).CustomFind(childName);</span><br><span class="line">            <span class="comment">//找到了 直接返回</span></span><br><span class="line">            <span class="keyword">if</span> (target != <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span> target;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="坐标转换-知识点"><a href="#坐标转换-知识点" class="headerlink" title="坐标转换 知识点"></a>坐标转换 知识点</h1><blockquote>
<p>世界坐标系指向是永远不变的，而本地坐标系指向是会随着自身旋转而改变的。</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Transform.html">UnityEngine.Transform - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-世界坐标转本地坐标"><a href="#知识点一-世界坐标转本地坐标" class="headerlink" title="知识点一 世界坐标转本地坐标"></a>知识点一 世界坐标转本地坐标</h2><p>世界坐标系转本地坐标系，可以帮助我们大概判断一个相对位置。</p>
<p>将世界坐标系的点转换为相对本地坐标系的点。</p>
<blockquote>
<p>这个相对于本地坐标系是指：以当前物体坐标为中心</p>
<p>比如世界坐标(0,0,0)相对于坐标(-5, 0, 5)的本地坐标，就是(0,0,0)-&gt;(-5, 0, -5)</p>
<p>就是以(-5, 0, 5)为中心(0,0,0)，当前坐标相对于(-5, 0, 5)的坐标是什么。</p>
</blockquote>
<p>受到缩放影响（会除以缩放值）</p>
<p><strong>transform.InverseTransformPoint</strong>：世界坐标系的<strong>点</strong>，转换为相对本地坐标系的<strong>点</strong>（受到缩放影响）</p>
<p><strong>transform.InverseTransformVector</strong>：世界坐标系的<strong>方向</strong>，转换为相对本地坐标系的<strong>方向</strong> （受到缩放影响）</p>
<p><strong>transform.InverseTransformDirection</strong>：世界坐标系的<strong>方向</strong>，转换为相对本地坐标系的<strong>方向</strong> （不受缩放影响）</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//受缩放影响</span></span><br><span class="line">print(<span class="string">&quot;转换后的点 &quot;</span> + <span class="keyword">this</span>.transform.InverseTransformPoint(Vector3.forward));</span><br><span class="line">print(<span class="string">&quot;转换后的方向(受缩放影响)&quot;</span> + <span class="keyword">this</span>.transform.InverseTransformVector(Vector3.forward));</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//世界坐标系的方向 转换 为相对本地坐标系的方向</span></span><br><span class="line"><span class="comment">//不受缩放影响</span></span><br><span class="line">print(<span class="string">&quot;转换后的方向&quot;</span> + <span class="keyword">this</span>.transform.InverseTransformDirection(Vector3.forward));</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-本地坐标转世界坐标"><a href="#知识点二-本地坐标转世界坐标" class="headerlink" title="知识点二 本地坐标转世界坐标"></a>知识点二 本地坐标转世界坐标</h2><blockquote>
<p>常用，比如我们需要在我们的前面释放一个技能，需要释放到世界坐标。</p>
<p>那么，我们就直接将我们坐标的前面的坐标，转换成世界坐标就可以了。</p>
</blockquote>
<p><strong>transform.TransformPoint</strong>：本地坐标系的<strong>点</strong>，转换为相对世界坐标系的<strong>点</strong> （受到缩放影响）</p>
<p><strong>transform.TransformDirection</strong>：本地坐标系的<strong>方向</strong>，转换为相对世界坐标系的<strong>方向</strong>（受到缩放影响）</p>
<p><strong>transform.TransformVector</strong>：本地坐标系的<strong>方向</strong>，转换为相对世界坐标系的方向（不受缩放影响）</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//本地坐标系的点 转换 为相对世界坐标系的点 受到缩放影响</span></span><br><span class="line">print(<span class="string">&quot;本地 转 世界 点&quot;</span> + <span class="keyword">this</span>.transform.TransformPoint(Vector3.forward));</span><br><span class="line"></span><br><span class="line"><span class="comment">//本地坐标系的方向 转换 为相对世界坐标系的方向</span></span><br><span class="line"><span class="comment">//不受缩放影响</span></span><br><span class="line">print(<span class="string">&quot;本地 转 世界 方向&quot;</span> + <span class="keyword">this</span>.transform.TransformDirection(Vector3.forward));</span><br><span class="line"><span class="comment">//受缩放影响</span></span><br><span class="line">print(<span class="string">&quot;本地 转 世界 方向&quot;</span> + <span class="keyword">this</span>.transform.TransformVector(Vector3.forward));</span><br></pre></td></tr></table></figure>

<h2 id="练习题-10"><a href="#练习题-10" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-6"><a href="#第一题-6" class="headerlink" title="第一题"></a>第一题</h3><p>一个物体 A，不管它在什么位置，写一个方法，只要执行这个方法就可以在它的左前方(-1,0,1)，处创建一个空物体</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateObj</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    GameObject obj = <span class="keyword">new</span> GameObject(<span class="string">&quot;左前方的物体&quot;</span>);</span><br><span class="line">    obj.transform.position = <span class="keyword">this</span>.transform.TransformPoint(<span class="keyword">new</span> Vector3(<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二题-6"><a href="#第二题-6" class="headerlink" title="第二题"></a>第二题</h3><p>一个物体 A，不管它在什么位置，写一个方法，只要执行这个方法就可以在它的前方创建出 3 个球体，位置分别是（0,0,1）,（0,0,2）,（0,0,3）</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateSphere</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        GameObject obj = GameObject.CreatePrimitive(PrimitiveType.Sphere);</span><br><span class="line">        obj.transform.position = <span class="keyword">this</span>.transform.TransformPoint(<span class="keyword">new</span> Vector3(<span class="number">0</span>, <span class="number">0</span>, i + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="答案-3"><a href="#答案-3" class="headerlink" title="答案"></a>答案</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson10_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">ContextMenu(<span class="string">&quot;左前方创建空物体&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TestFun1</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="comment">//一个物体A，不管它在什么位置，写一个方法，只要执行这个方法就可以在它的左前方（-1,0,1）处创建一个空物体</span></span><br><span class="line">        <span class="comment">//Vector3 pos = this.transform.TransformPoint(new Vector3(-1, 0, 1));</span></span><br><span class="line">        GameObject obj = <span class="keyword">new</span> GameObject(<span class="string">&quot;左前方物体&quot;</span>);</span><br><span class="line">        obj.transform.position = <span class="keyword">this</span>.transform.TransformPoint(<span class="keyword">new</span> Vector3(<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">ContextMenu(<span class="string">&quot;面前创建3个球体&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TestFun2</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//一个物体A，不管它在什么位置，写一个方法，只要执行这个方法就可以在它的前方创建出3个球体，</span></span><br><span class="line">        <span class="comment">//位置分别是（0,0,1）,（0,0,2）,（0,0,3）</span></span><br><span class="line">        <span class="comment">//GameObject obj = GameObject.CreatePrimitive(PrimitiveType.Sphere);</span></span><br><span class="line">        <span class="comment">//obj.transform.position = this.transform.TransformPoint(new Vector3(0, 0, 1));</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//obj = GameObject.CreatePrimitive(PrimitiveType.Sphere);</span></span><br><span class="line">        <span class="comment">//obj.transform.position = this.transform.TransformPoint(new Vector3(0, 0, 2));</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//obj = GameObject.CreatePrimitive(PrimitiveType.Sphere);</span></span><br><span class="line">        <span class="comment">//obj.transform.position = this.transform.TransformPoint(new Vector3(0, 0, 3));</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            GameObject obj = GameObject.CreatePrimitive(PrimitiveType.Sphere);</span><br><span class="line">            obj.transform.position = <span class="keyword">this</span>.transform.TransformPoint(Vector3.forward * i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Input-鼠标键盘输入-知识点"><a href="#Input-鼠标键盘输入-知识点" class="headerlink" title="Input 鼠标键盘输入 知识点"></a>Input 鼠标键盘输入 知识点</h1><p>注意：输入相关内容肯定是写在 Update 中的</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Input.html">UnityEngine.Input - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-鼠标在屏幕位置"><a href="#知识点一-鼠标在屏幕位置" class="headerlink" title="知识点一 鼠标在屏幕位置"></a>知识点一 鼠标在屏幕位置</h2><p>屏幕坐标的原点是在屏幕的左下角，往右是 X 轴正方向，往上时 Y 轴正方向。</p>
<p>返回值时 Vector3，但是只有 x 和 y 有值。z 一直是 0，是因为屏幕本来就是 2D 的 不存在 Z 轴。</p>
<h2 id="知识点二-检测鼠标输入"><a href="#知识点二-检测鼠标输入" class="headerlink" title="知识点二 检测鼠标输入"></a>知识点二 检测鼠标输入</h2><p>鼠标按下相关检测，对于我们来说</p>
<p>比如： 1.可以做发射子弹；2.可以控制摄像机 转动</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//鼠标按下一瞬间 进入</span></span><br><span class="line"><span class="comment">//0左键 1右键 2中键</span></span><br><span class="line"><span class="comment">//只要按下的这一瞬间 进入一次</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetMouseButtonDown(<span class="number">0</span>) )</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;鼠标左键按下了&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//鼠标抬起一瞬间 进入</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetMouseButtonUp(<span class="number">0</span>) )</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;鼠标左键抬起了&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//鼠标长按按下抬起都会进入</span></span><br><span class="line"><span class="comment">//就是 当按住按键不放时 会一直进入 这个判断</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetMouseButton(<span class="number">1</span>))</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;右键按下&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中键滚动</span></span><br><span class="line"><span class="comment">//返回值的 y -1往下滚  0没有滚  1往上滚</span></span><br><span class="line"><span class="comment">//它的返回值 是Vector的值 我们鼠标中键滚动 会改变其中的Y值</span></span><br><span class="line">print(Input.mouseScrollDelta);</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-检测键盘输入"><a href="#知识点三-检测键盘输入" class="headerlink" title="知识点三 检测键盘输入"></a>知识点三 检测键盘输入</h2><p>注意：如果使用字符串重载，则只能传入小写字母字符串。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比如说 按一个键释放一个技能或者切换武器 等等的操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//键盘按下</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetKeyDown(KeyCode.W) )</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;W键按下&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//传入字符串的重载</span></span><br><span class="line"><span class="comment">//这里传入的 字符串 不能是大写的 不然会报错</span></span><br><span class="line"><span class="comment">//只能传入小写字符串</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetKeyDown(<span class="string">&quot;q&quot;</span>) )</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;q按下&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//键盘抬起</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetKeyUp(KeyCode.W) )</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;W键抬起&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//键盘长按</span></span><br><span class="line"><span class="keyword">if</span>( Input.GetKey(KeyCode.W) )</span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;W键长按&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点四-检测默认轴输入"><a href="#知识点四-检测默认轴输入" class="headerlink" title="知识点四 检测默认轴输入"></a>知识点四 检测默认轴输入</h2><p>我们学习鼠标、键盘输入，主要是用来控制玩家,比如旋转、位移等等。</p>
<p>所以 Unity 提供了更方便的方法，来帮助我们控制对象的位移和旋转。</p>
<p><strong>Input.GetAxis(string)<strong>，</strong>Input.GetAxisRaw(string)</strong></p>
<blockquote>
<p>注意：这个参数，是可以设置的，在 Edit-&gt;ProjectSettings-&gt;InputManager</p>
<p>GetAxisRaw 的返回值是-1 或 1 或 0。</p>
<p>GeAxisRaw 的返回值就是一个在【-1，1】精确的 float 值。</p>
</blockquote>
<p>参数：</p>
<p><strong>Horizontal</strong>：水平移动，检测 A，D</p>
<p><strong>Vertical</strong>：垂直移动，检测 W，S</p>
<p><strong>Mouse X</strong>：鼠标水平移动</p>
<p><strong>Mouse Y</strong>：鼠标垂直移动</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//键盘AD按下时 返回 -1到1之间的变换</span></span><br><span class="line"><span class="comment">//相当于 得到得这个值 就是我们的 左右方向 我们可以通过它来控制 对象左右移动 或者左右旋转</span></span><br><span class="line"><span class="built_in">float</span> h = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">print(h);</span><br><span class="line"></span><br><span class="line"><span class="comment">//键盘SW按下时 返回 -1到1之间的变换</span></span><br><span class="line"><span class="comment">//得到得这个值 就是我们的 上下方向 我们可以通过它来控制 对象上下移动 或者上下旋转</span></span><br><span class="line">print(Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//鼠标横向移动时 -1 到 1 左 右</span></span><br><span class="line">print(Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//鼠标竖向移动时  -1 到 1 下 上</span></span><br><span class="line">print(Input.GetAxis(<span class="string">&quot;Mouse Y&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//我们默认的 GetAxis方法 是有渐变的 会总 -1~0~1之间 渐变 会出现小数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//GetAxisRaw方法 和 GetAxis使用方式相同</span></span><br><span class="line"><span class="comment">//只不过 它的返回值 只会是 -1 0 1 不会有中间值</span></span><br></pre></td></tr></table></figure>

<h1 id="Input-触摸手柄陀螺仪-知识点"><a href="#Input-触摸手柄陀螺仪-知识点" class="headerlink" title="Input 触摸手柄陀螺仪 知识点"></a>Input 触摸手柄陀螺仪 知识点</h1><h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><p>是否有任意键或鼠标长按</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.anyKey) ...</span><br></pre></td></tr></table></figure>

<p>是否有任意键或鼠标按下</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.anyKeyDown) ...</span><br></pre></td></tr></table></figure>

<p>获取当前帧输入的是什么按键</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这一帧的键盘输入</span></span><br><span class="line">print(Input.inputString);</span><br></pre></td></tr></table></figure>

<h2 id="手柄输入相关"><a href="#手柄输入相关" class="headerlink" title="手柄输入相关"></a>手柄输入相关</h2><p>得到连接的手柄的所有按钮名字</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>[] strs = Input.GetJoystickNames();</span><br></pre></td></tr></table></figure>

<p>某一个手柄键按下</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Input.GetButtonDown(<span class="string">&quot;Jump&quot;</span>))</span><br></pre></td></tr></table></figure>

<p>某一个手柄键抬起</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Input.GetButton(<span class="string">&quot;Jump&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="移动设备触摸相关"><a href="#移动设备触摸相关" class="headerlink" title="移动设备触摸相关"></a>移动设备触摸相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Touch.html">UnityEngine.Touch - Unity 脚本 API</a></p>
</blockquote>
<p>触摸次数。保证在整个帧期间不会更改。（只读）</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Input.touchCount &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    Touch t1 = Input.touches[<span class="number">0</span>];</span><br><span class="line">    <span class="comment">//位置</span></span><br><span class="line">    print(t1.position);</span><br><span class="line">    <span class="comment">//相对上次位置的变化</span></span><br><span class="line">    print(t1.deltaPosition);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>是否启用多点触控</p>
<blockquote>
<p>该属性指示系统是否处理多点触控。</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Input.multiTouchEnabled = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<h2 id="陀螺仪（重力感应）"><a href="#陀螺仪（重力感应）" class="headerlink" title="陀螺仪（重力感应）"></a>陀螺仪（重力感应）</h2><p>是否开启陀螺仪 必须开启 才能正常使用</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Input.gyro.enabled = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>重力加速度向量</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Input.gyro.gravity);</span><br></pre></td></tr></table></figure>

<p>旋转速度</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Input.gyro.rotationRate);</span><br></pre></td></tr></table></figure>

<p>陀螺仪当前的旋转四元数</p>
<p>比如，可以用这个角度信息来控制场景上的一个 3D 物体受到重力影响</p>
<p>手机怎么动它怎么动</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Input.gyro.attitude);</span><br></pre></td></tr></table></figure>

<h2 id="总结-10"><a href="#总结-10" class="headerlink" title="总结"></a>总结</h2><p>Input 类提供大部分和输入相关的内容：鼠标、键盘、触屏、手柄、重力感应。</p>
<p>对于我们目前来说，鼠标、键盘是必须掌握的核心知识。</p>
<p>今天必须记住鼠标键盘输入相关的 API，GetAxis 等等。</p>
<h2 id="练习题-11"><a href="#练习题-11" class="headerlink" title="练习题"></a>练习题</h2><p>把这道题的代码保留好，之后的题会用到。</p>
<h3 id="第一题-7"><a href="#第一题-7" class="headerlink" title="第一题"></a>第一题</h3><p>1.使用之前的坦克预设体，用 WASD 键控制坦克的前景后退，左右转向</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson11_P</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">float</span> horizontal = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">float</span> vertical = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">        vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up * <span class="number">50</span> * horizontal * Time.deltaTime);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * <span class="number">5</span> * vertical* Time.deltaTime, Space.Self);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二题-7"><a href="#第二题-7" class="headerlink" title="第二题"></a>第二题</h3><p>2.在上一题的基础上，鼠标左右移动控制炮台的转向</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson11_P</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">float</span> horizontal = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">float</span> vertical = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">float</span> mouseHorizontal = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">float</span> moveSpeed = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">float</span> roateSpeed = <span class="number">50</span>;</span><br><span class="line">    Transform tankBattery;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        tankBattery = <span class="keyword">this</span>.transform.Find(<span class="string">&quot;炮台&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">        vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up * roateSpeed * horizontal * Time.deltaTime);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * moveSpeed * vertical* Time.deltaTime, Space.Self);</span><br><span class="line"></span><br><span class="line">        mouseHorizontal = Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>);</span><br><span class="line">        tankBattery.Rotate(Vector3.up * roateSpeed * mouseHorizontal * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="屏幕相关-Screen-知识点"><a href="#屏幕相关-Screen-知识点" class="headerlink" title="屏幕相关 Screen 知识点"></a>屏幕相关 Screen 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Screen.html">UnityEngine.Screen - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-静态属性"><a href="#知识点一-静态属性" class="headerlink" title="知识点一 静态属性"></a>知识点一 静态属性</h2><h3 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h3><p>当前屏幕设备分辨率</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Resolution r = Screen.currentResolution;</span><br><span class="line">print(<span class="string">&quot;当前屏幕分辨率的宽&quot;</span> + r.width + <span class="string">&quot;高&quot;</span> + r.height);</span><br></pre></td></tr></table></figure>

<p>屏幕窗口当前宽高</p>
<p>这得到的是当前窗口的宽高，不是设备分辨率的宽高。</p>
<p>一般写代码，要用窗口宽高做计算时，就用他们。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(Screen.width);</span><br><span class="line">print(Screen.height);</span><br></pre></td></tr></table></figure>

<p>屏幕休眠模式</p>
<blockquote>
<p>节能设置，允许屏幕在无用户交互一段时间后变暗。</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Screen.sleepTimeout = SleepTimeout.NeverSleep;</span><br></pre></td></tr></table></figure>

<h3 id="不常用"><a href="#不常用" class="headerlink" title="不常用"></a>不常用</h3><p>运行时是否全屏模式</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Screen.fullScreen = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p>窗口模式：</p>
<p>独占全屏：FullScreenMode.ExclusiveFullScreen</p>
<p>全屏窗口：FullScreenMode.FullScreenWindow</p>
<p>最大化窗口：FullScreenMode.MaximizedWindow</p>
<p>窗口模式：FullScreenMode.Windowed</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Screen.fullScreenMode = FullScreenMode.Windowed;</span><br></pre></td></tr></table></figure>

<p>移动设备屏幕转向相关</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//移动设备屏幕转向相关</span></span><br><span class="line"><span class="comment">//允许自动旋转为左横向 Home键在左</span></span><br><span class="line">Screen.autorotateToLandscapeLeft = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//允许自动旋转为右横向 Home键在右</span></span><br><span class="line">Screen.autorotateToLandscapeRight = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//允许自动旋转到纵向 Home键在下</span></span><br><span class="line">Screen.autorotateToPortrait = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//允许自动旋转到纵向倒着看 Home键在上</span></span><br><span class="line">Screen.autorotateToPortraitUpsideDown = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//指定屏幕显示方向</span></span><br><span class="line">Screen.orientation = ScreenOrientation.Landscape;</span><br></pre></td></tr></table></figure>

<h2 id="练习题-12"><a href="#练习题-12" class="headerlink" title="练习题"></a>练习题</h2><p>1.在输入习题的基础上，鼠标滚轮控制控制炮管的抬起放下</p>
<p>2.在上一题的基础上，加入长按鼠标右键移动鼠标可以让摄像机围着坦克旋转，改变观察坦克的视角</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson12_P</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">float</span> horizontal = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">float</span> vertical = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">float</span> mouseHorizontal = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">float</span> mouseVertical = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">float</span> moveSpeed = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">float</span> rotateSpeed = <span class="number">50</span>;</span><br><span class="line">    Transform tankBattery;</span><br><span class="line">    Transform tankGunBarrel;</span><br><span class="line">    Transform camera;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        tankBattery = <span class="keyword">this</span>.transform.Find(<span class="string">&quot;炮台&quot;</span>);</span><br><span class="line">        tankGunBarrel = tankBattery.Find(<span class="string">&quot;炮管&quot;</span>);</span><br><span class="line">        camera = <span class="keyword">this</span>.transform.Find(<span class="string">&quot;Main Camera&quot;</span>);</span><br><span class="line">        camera.LookAt(<span class="keyword">this</span>.transform);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">        vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up * rotateSpeed * horizontal * Time.deltaTime);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * moveSpeed * vertical * Time.deltaTime, Space.Self);</span><br><span class="line"></span><br><span class="line">        mouseHorizontal = Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>);</span><br><span class="line">        mouseVertical = Input.GetAxis(<span class="string">&quot;Mouse Y&quot;</span>);</span><br><span class="line">        tankBattery.Rotate(Vector3.up * rotateSpeed * mouseHorizontal * Time.deltaTime);</span><br><span class="line"></span><br><span class="line">        tankGunBarrel.Rotate(Vector3.left * rotateSpeed * Input.mouseScrollDelta * Time.deltaTime);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Input.GetMouseButton(<span class="number">1</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            camera.RotateAround(<span class="keyword">this</span>.transform.position, Vector3.up, rotateSpeed * mouseHorizontal * Time.deltaTime);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="答案-4"><a href="#答案-4" class="headerlink" title="答案"></a>答案</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson11_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> rotateSpeed = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Transform head;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> headRotateSpeed = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Transform pkPos;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> pkRotateSpeed = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//子弹预设体</span></span><br><span class="line">    <span class="keyword">public</span> GameObject bulletObj;</span><br><span class="line">    <span class="comment">//子弹将要出现的位置</span></span><br><span class="line">    <span class="keyword">public</span> Transform bulletPos;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="comment">//1.使用之前的坦克预设体，用WASD键控制坦克的前景后退，左右转向</span></span><br><span class="line">        <span class="comment">//Transform当中的 位移 自转 相关知识点</span></span><br><span class="line">        <span class="comment">//键盘输入相关知识点</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Input.GetAxis(&quot;Horizontal&quot;); 水平方向 -1到1之间的值 0就是没有按下</span></span><br><span class="line">        <span class="comment">//Input.GetAxis(&quot;Vertical&quot;);  竖直方向 -1到1之间的值 0就是没有按下</span></span><br><span class="line">        <span class="comment">//ws键 控制位移</span></span><br><span class="line">        <span class="comment">// 这公式 是 ： 前进方向 * 速度 * 时间 * 当前是否移动（-1~1 相当于 正向还是反向的感觉 不按就不动 0）</span></span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * moveSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ad键 控制 左右转向</span></span><br><span class="line">        <span class="comment">// 这公式 是 ： 转动的轴 * 速度 * 时间 * 当前是否移动（-1~1 相当于 正向还是反向的感觉 不按就不动 0）</span></span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up * rotateSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>));</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//2.在上一题的基础上，鼠标左右移动控制炮台的转向</span></span><br><span class="line">        <span class="comment">//鼠标输入相关</span></span><br><span class="line">        <span class="comment">//Input.GetAxis(&quot;Mouse X&quot;);</span></span><br><span class="line">        <span class="comment">// 这公式 是 ： 转动的轴 * 速度 * 时间 * 当前是否移动（-1~1 相当于 正向还是反向的感觉 不按就不动 0）</span></span><br><span class="line">        head.Rotate(Vector3.up * headRotateSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>));</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Lesson12 练习题一</span></span><br><span class="line">        <span class="comment">//1.在输入习题的基础上，鼠标滚轮控制控制炮管的抬起放下</span></span><br><span class="line">        <span class="comment">//Input.mouseScrollDelta.y</span></span><br><span class="line">        pkPos.Rotate(Vector3.right * pkRotateSpeed * Time.deltaTime * Input.mouseScrollDelta.y);</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Lesson16 练习题一</span></span><br><span class="line">        <span class="keyword">if</span>( Input.GetMouseButtonDown(<span class="number">0</span>) )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//实例化一个子弹对象</span></span><br><span class="line">            GameObject obj = Instantiate(bulletObj);</span><br><span class="line">            <span class="comment">//设置对象的位置</span></span><br><span class="line">            obj.transform.position = bulletPos.position;</span><br><span class="line">            <span class="comment">//角度</span></span><br><span class="line">            <span class="comment">//obj.transform.rotation = bulletPos.rotation;</span></span><br><span class="line">            <span class="comment">//角度</span></span><br><span class="line">            obj.transform.eulerAngles = bulletPos.eulerAngles;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson12_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//摄像机看向的对象</span></span><br><span class="line">    <span class="keyword">public</span> Transform target;</span><br><span class="line">    <span class="comment">//摄像机旋转的速度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> roundSpeed = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="comment">//1.在输入习题的基础上，鼠标滚轮控制控制炮管的抬起放下</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//2.在上一题的基础上，加入长按鼠标右键移动鼠标</span></span><br><span class="line">        <span class="comment">// 可以让摄像机围着坦克旋转，改变观察坦克的视角</span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.LookAt(target);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用 绕着某一个点 的某一个轴 旋转的知识点 进行处理</span></span><br><span class="line">        <span class="comment">//鼠标 右键按下 知识点</span></span><br><span class="line">        <span class="keyword">if</span>( Input.GetMouseButton(<span class="number">1</span>) )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.transform.RotateAround(target.position, <span class="comment">//围绕的点</span></span><br><span class="line">                Vector3.up, <span class="comment">//哪个轴</span></span><br><span class="line">                roundSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>));<span class="comment">//速度 Mouse X -1到1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Camera-可编辑参数-知识点"><a href="#Camera-可编辑参数-知识点" class="headerlink" title="Camera 可编辑参数 知识点"></a>Camera 可编辑参数 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Camera.html">Camera component - Unity 手册</a></p>
</blockquote>
<h2 id="常用重要的"><a href="#常用重要的" class="headerlink" title="常用重要的"></a>常用重要的</h2><h3 id="Clear-Flags"><a href="#Clear-Flags" class="headerlink" title="Clear Flags"></a>Clear Flags</h3><p>设置如何清除背景。</p>
<blockquote>
<p>确定将清除屏幕的哪些部分。使用多个摄像机来绘制不同游戏元素时，这会很方便</p>
</blockquote>
<p>SkyBox：天空盒，主要用于 3D 游戏。</p>
<p>SolidColor：颜色填充，一般用于 2D 游戏。</p>
<p><strong>Depth only</strong>：叠加渲染，只渲染当前 Depth 上的物体，配合 Depth 使用。</p>
<p>Dont’t clear：不移除上一帧的渲染，一般不使用。</p>
<h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>背景颜色，配合 SolidColor 使用。</p>
<h3 id="Culling-Mask"><a href="#Culling-Mask" class="headerlink" title="Culling Mask"></a>Culling Mask</h3><blockquote>
<p>包含或忽略要由摄像机渲染的对象层。在检视面板中将层分配到对象。</p>
</blockquote>
<p>确定需要渲染的层级。</p>
<h3 id="Projection"><a href="#Projection" class="headerlink" title="Projection"></a>Projection</h3><blockquote>
<p>切换摄像机模拟透视的功能。</p>
</blockquote>
<p>Perspective：摄像机将以完整透视角度渲染对象。</p>
<p>Orthographic：摄像机将均匀渲染对象，没有透视感。</p>
<blockquote>
<p><strong>注意</strong>：在正交模式下不支持延迟渲染。始终使用前向渲染。</p>
</blockquote>
<h3 id="FOV-Axis"><a href="#FOV-Axis" class="headerlink" title="FOV Axis"></a>FOV Axis</h3><p>摄像机视口轴。</p>
<h3 id="Field-of-view"><a href="#Field-of-view" class="headerlink" title="Field of view"></a>Field of view</h3><p>根据轴进行大小调整。</p>
<h3 id="Size"><a href="#Size" class="headerlink" title="Size"></a>Size</h3><p>正交视口大小。</p>
<h3 id="Clipping-Planes"><a href="#Clipping-Planes" class="headerlink" title="Clipping Planes"></a>Clipping Planes</h3><p>裁剪屏幕距离，在 near-far 区间内，才能被看到，如果不在这个区间，将被裁剪。</p>
<p>Near：最近距离</p>
<p>Far：最远距离</p>
<h3 id="Depth"><a href="#Depth" class="headerlink" title="Depth"></a>Depth</h3><p>渲染顺序上的深度。</p>
<p>数字越小越先被渲染，越大越后被渲染。</p>
<h3 id="TargetTexture"><a href="#TargetTexture" class="headerlink" title="TargetTexture"></a>TargetTexture</h3><p>渲染纹理</p>
<p>可以把摄像机画面渲染到—张图，上主要用于制作小地图</p>
<p>在 Project 右键创建 Render Texture</p>
<h3 id="Occlusion-Culling"><a href="#Occlusion-Culling" class="headerlink" title="Occlusion Culling"></a>Occlusion Culling</h3><p>是否启用剔除遮挡，一般默认勾选。</p>
<p>是否渲染看不见的物体（比如一个物体在另一个物体后面，看不到）</p>
<h2 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h2><h3 id="Viewport-Rect"><a href="#Viewport-Rect" class="headerlink" title="Viewport Rect"></a>Viewport Rect</h3><p>视口范围，屏幕上将绘制该摄像机视图的位置。</p>
<p>主要用于双摄像机游戏，0~1 相当于宽高百分比。</p>
<h3 id="Rendering-Path"><a href="#Rendering-Path" class="headerlink" title="Rendering Path"></a>Rendering Path</h3><p>渲染路径，不常用，了解即可。</p>
<h3 id="HDR"><a href="#HDR" class="headerlink" title="HDR"></a>HDR</h3><p>是否允许高动态范围渲染</p>
<h3 id="MSAA"><a href="#MSAA" class="headerlink" title="MSAA"></a>MSAA</h3><p>是否允许抗锯齿</p>
<h3 id="Dynamic-Resolution"><a href="#Dynamic-Resolution" class="headerlink" title="Dynamic Resolution"></a>Dynamic Resolution</h3><p>是否允许动态分辨率呈现</p>
<h3 id="Target-Display"><a href="#Target-Display" class="headerlink" title="Target Display"></a>Target Display</h3><p>用于哪个显示器，主要用来开发有多个屏幕的平台游戏。</p>
<h2 id="练习题-13"><a href="#练习题-13" class="headerlink" title="练习题"></a>练习题</h2><p>1.请用两个摄像机实现分屏效果</p>
<p>用之前制作的可以移动的坦克，一个摄像机俯视坦克跟随移动一个摄像机在炮口位置跟随坦克炮口移动。</p>
<p>2.场景上有两个物体 A 和 B，有两个摄像机 A 和 B。A 摄像机渲染 A，B 摄像机渲染 B，玩家能在 Game 窗口同时看到 A 和 B</p>
<h1 id="Camera-代码相关-知识点"><a href="#Camera-代码相关-知识点" class="headerlink" title="Camera 代码相关 知识点"></a>Camera 代码相关 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Camera.html">UnityEngine.Camera - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-重要静态成员"><a href="#知识点一-重要静态成员" class="headerlink" title="知识点一 重要静态成员"></a>知识点一 重要静态成员</h2><p>注意：主摄像机的 tag 一定是 MainCamera，不然 MainCamera 回事空的</p>
<h3 id="1-获取摄像机"><a href="#1-获取摄像机" class="headerlink" title="1.获取摄像机"></a>1.获取摄像机</h3><p>如果用之前的知识，来获取摄像机，需要使用 Find 或者对象关联。</p>
<p>Unity 提供了直接获取的方法。</p>
<p>如果想通过这种方式,快速获取主摄像机，那么场景上必须有一个 tag 为 MainCamera 的摄像机。</p>
<p>如果有多个主摄像机，则获取第一个。一般来说，只有一个主摄像机。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//主摄像机的获取</span></span><br><span class="line">print(Camera.main.name);</span><br></pre></td></tr></table></figure>

<p>获取摄像机的数量</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(Camera.allCamerasCount);</span><br></pre></td></tr></table></figure>

<p>得到所有摄像机</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Camera[] allCamera = Camera.allCameras;</span><br><span class="line">print(allCamera.Length);</span><br></pre></td></tr></table></figure>

<h3 id="2-渲染相关委托"><a href="#2-渲染相关委托" class="headerlink" title="2.渲染相关委托"></a>2.渲染相关委托</h3><p>摄像机剔除前处理的委托函数</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数是一个Camera</span></span><br><span class="line">Camera.onPreCull += (c) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>摄像机渲染后处理的委托</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数是一个Camera</span></span><br><span class="line">Camera.onPoseCull _= (c)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-重要成员"><a href="#知识点二-重要成员" class="headerlink" title="知识点二 重要成员"></a>知识点二 重要成员</h2><h3 id="1-界面上的参数-都可以在-Camera-中获取到"><a href="#1-界面上的参数-都可以在-Camera-中获取到" class="headerlink" title="1.界面上的参数 都可以在 Camera 中获取到"></a>1.界面上的参数 都可以在 Camera 中获取到</h3><p>比如 下面这句代码 就是得到主摄像机对象 上的深度 进行设置</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Camera.main.depth = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-世界坐标转屏幕坐标"><a href="#2-世界坐标转屏幕坐标" class="headerlink" title="2.世界坐标转屏幕坐标"></a>2.世界坐标转屏幕坐标</h3><p>将一个世界坐标，转换为屏幕坐标</p>
<p>我们会用这个来做的功能，最多的就是头顶血条相关的功能</p>
<p>转换过后，x 和 y 对应的就是屏幕坐标，z 对应的 是 这个 3D 物体 里我们的摄像机有多远。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector3 v = Camera.main.WorldToScreenPoint(<span class="keyword">this</span>.transform.position);</span><br><span class="line">print(v);</span><br></pre></td></tr></table></figure>

<h3 id="3-屏幕坐标转世界坐标"><a href="#3-屏幕坐标转世界坐标" class="headerlink" title="3.屏幕坐标转世界坐标"></a>3.屏幕坐标转世界坐标</h3><p>将一个屏幕坐标，转换为世界坐标</p>
<p>之所以改变 Z 轴，是因为，如果不改 Z 默认为 0。</p>
<p>转换过去的世界坐标系的点，永远都是一个点，可以理解为，视口相交的焦点。</p>
<p>如果改变了 Z，那么转换过去的世界坐标的点，就是相对于摄像机前方多少的单位的横截面上的世界坐标点。</p>
<blockquote>
<p>这个 z 就是摄像机的 z 离转换后 z 坐标的距离</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不断获取鼠标位置，然后重置物体位置。</span></span><br><span class="line">Vector3 v = Input.mousePosition;</span><br><span class="line">v.z = <span class="number">5</span>;</span><br><span class="line">obj.position = Camera.main.ScreenToWorldPoint(v);</span><br></pre></td></tr></table></figure>

<h2 id="练习题-14"><a href="#练习题-14" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-8"><a href="#第一题-8" class="headerlink" title="第一题"></a>第一题</h3><p>1.游戏画面中央有一个立方体，请将该立方体的世界坐标系位置，转换为屏幕坐标，并打印出来。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    GameObject cube = GameObject.Find(<span class="string">&quot;Lesson14&quot;</span>);</span><br><span class="line">    print(Camera.main.WorldToScreenPoint(cube.transform.position));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二题-8"><a href="#第二题-8" class="headerlink" title="第二题"></a>第二题</h3><p>2.在屏幕上点击一下鼠标，则在对应的世界坐标位置创建一个 Cube 出来。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (Input.GetMouseButtonDown(<span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        Vector3 pos = Input.mousePosition;</span><br><span class="line">        pos = Camera.main.ScreenToWorldPoint(<span class="keyword">new</span> Vector3(pos.x, pos.y, <span class="number">5</span>));</span><br><span class="line">        GameObject.CreatePrimitive(PrimitiveType.Cube).transform.position = pos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="核心系统"><a href="#核心系统" class="headerlink" title="核心系统"></a>核心系统</h1><h1 id="核心系统—光源系统基础"><a href="#核心系统—光源系统基础" class="headerlink" title="核心系统—光源系统基础"></a>核心系统—光源系统基础</h1><h1 id="光源组件-知识点"><a href="#光源组件-知识点" class="headerlink" title="光源组件 知识点"></a>光源组件 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Light.html">光源 - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-面板参数"><a href="#知识点一-面板参数" class="headerlink" title="知识点一 面板参数"></a>知识点一 面板参数</h2><img src="【唐老狮】Unity四部曲.assets/光源参数说明1.png" style="zoom: 67%;" />

<img src="【唐老狮】Unity四部曲.assets/光源参数说明2.png" style="zoom: 67%;" />

<h2 id="知识点二-代码控制"><a href="#知识点二-代码控制" class="headerlink" title="知识点二 代码控制"></a>知识点二 代码控制</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Light.html">UnityEngine.Light - Unity 脚本 API</a></p>
</blockquote>
<p>大部分是成员，直接获取修改即可。</p>
<h2 id="练习题-15"><a href="#练习题-15" class="headerlink" title="练习题"></a>练习题</h2><ol>
<li><p>通过代码结合点光源模拟一个蜡烛的光源效果</p>
<p>通过左右小幅度移动光源位置，小幅度调整光源强度实现。</p>
</li>
<li><p>通过代码结合方向光模拟白天黑夜的变化</p>
<p>通过旋转方向光实现。</p>
</li>
</ol>
<p>答案</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson15_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Light light;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> flashSpeed = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Transform lightTransform;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> rotateSpeed = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="comment">//1.通过代码结合点光源</span></span><br><span class="line">        <span class="comment">//模拟一个蜡烛的光源效果</span></span><br><span class="line">        <span class="comment">//来回横跳</span></span><br><span class="line">        light.transform.Translate(Vector3.right * moveSpeed * Time.deltaTime);</span><br><span class="line">        <span class="keyword">if</span> (light.transform.position.x &gt;= <span class="number">1</span>)</span><br><span class="line">            moveSpeed = -moveSpeed;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (light.transform.position.x &lt;= <span class="number">0.8f</span>)</span><br><span class="line">            moveSpeed = -moveSpeed;</span><br><span class="line">        <span class="comment">//闪一闪</span></span><br><span class="line">        light.intensity += flashSpeed * Time.deltaTime;</span><br><span class="line">        <span class="keyword">if</span> (light.intensity &gt;= <span class="number">1</span>)</span><br><span class="line">            flashSpeed = -flashSpeed;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(light.intensity &lt;= <span class="number">0.5f</span>)</span><br><span class="line">            flashSpeed = -flashSpeed;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//2.通过代码结合方向光</span></span><br><span class="line">        <span class="comment">//模拟白天黑夜的变化</span></span><br><span class="line">        lightTransform.Rotate(Vector3.right, rotateSpeed * Time.deltaTime);</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="光面板相关-知识点"><a href="#光面板相关-知识点" class="headerlink" title="光面板相关 知识点"></a>光面板相关 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/lighting-window.html">Lighting 窗口 - Unity 手册</a></p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/光源参数说明1.png" style="zoom:67%;" />

<img src="【唐老狮】Unity四部曲.assets/光源参数说明2.png" style="zoom:67%;" />

<h1 id="核心系统—物理系统之碰撞检测"><a href="#核心系统—物理系统之碰撞检测" class="headerlink" title="核心系统—物理系统之碰撞检测"></a>核心系统—物理系统之碰撞检测</h1><h1 id="碰撞检测之刚体-知识点"><a href="#碰撞检测之刚体-知识点" class="headerlink" title="碰撞检测之刚体 知识点"></a>碰撞检测之刚体 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/PhysicsOverview.html">面向对象的项目的 3D 物理系统 - Unity 手册</a></p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/刚体参数1.png" style="zoom:67%;" />

<img src="【唐老狮】Unity四部曲.assets/刚体参数2.png" style="zoom: 67%;" />

<img src="【唐老狮】Unity四部曲.assets/刚体参数3.png" style="zoom: 67%;" />

<h1 id="碰撞检测之碰撞器-知识点"><a href="#碰撞检测之碰撞器-知识点" class="headerlink" title="碰撞检测之碰撞器 知识点"></a>碰撞检测之碰撞器 知识点</h1><h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><img src="【唐老狮】Unity四部曲.assets/碰撞器参数说明1.png" style="zoom:50%;" />

<img src="【唐老狮】Unity四部曲.assets/碰撞器参数说明2.png" style="zoom:50%;" />

<img src="【唐老狮】Unity四部曲.assets/碰撞器参数说明3.png" style="zoom: 80%;" />

<img src="【唐老狮】Unity四部曲.assets/碰撞器参数说明4.png" style="zoom:67%;" />

<img src="【唐老狮】Unity四部曲.assets/碰撞器参数说明5.png" style="zoom: 67%;" />

<h2 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h2><ol>
<li>子物体的碰撞器参与父物体的刚体碰撞检测。</li>
<li>加了刚体的网格碰撞器必须启用 Convex，不然会报错</li>
<li>轮胎碰撞器是和整个车配合使用的，需要作为子物体，并且父物体拥有高质量和刚体，它会模拟车辆的物理效果。</li>
</ol>
<h1 id="碰撞检测之物理材质-知识点"><a href="#碰撞检测之物理材质-知识点" class="headerlink" title="碰撞检测之物理材质 知识点"></a>碰撞检测之物理材质 知识点</h1><h2 id="1-创建物理材质"><a href="#1-创建物理材质" class="headerlink" title="1.创建物理材质"></a>1.创建物理材质</h2><p>在 Project 窗口右键创建 Physic Material</p>
<h2 id="2-材质属性"><a href="#2-材质属性" class="headerlink" title="2.材质属性"></a>2.材质属性</h2><img src="【唐老狮】Unity四部曲.assets/物理材质参数说明.png" style="zoom: 67%;" />

<h1 id="碰撞检测之碰撞检测函数-知识点"><a href="#碰撞检测之碰撞检测函数-知识点" class="headerlink" title="碰撞检测之碰撞检测函数 知识点"></a>碰撞检测之碰撞检测函数 知识点</h1><h2 id="知识点回顾"><a href="#知识点回顾" class="headerlink" title="知识点回顾"></a>知识点回顾</h2><ol>
<li>如何让两个游戏物体之间产生碰撞（至少 1 个刚体 和 两个碰撞器）</li>
<li>如何让两个物体之间碰撞时表现出不同效果（物理材质）</li>
<li>触发器的作用是什么(让两个物体碰撞没有物理效果，只进行碰撞处理)</li>
</ol>
<p>注意：碰撞和触发响应函数，属于<strong>特殊的生命周期函数</strong>，也是通过反射调用</p>
<img src="【唐老狮】Unity四部曲.assets/生命周期函数图.bmp" style="zoom:67%;" />

<h2 id="知识点一-物理碰撞检测响应函数"><a href="#知识点一-物理碰撞检测响应函数" class="headerlink" title="知识点一 物理碰撞检测响应函数"></a>知识点一 物理碰撞检测响应函数</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Collider.html">UnityEngine.Collider - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Collision.html">UnityEngine.Collision - Unity 脚本 API</a></p>
</blockquote>
<p>关键参数</p>
<ol>
<li>碰撞到的对象碰撞器的信息：collision.collider</li>
<li>碰撞对象的依附对象（GameObject）：collision.gameObject</li>
<li>碰撞对象的依附对象的位置信息：collision.transform</li>
<li>触碰点数相关：collision.contactCount</li>
<li>接触点，具体的坐标：ContactPoint[] pos &#x3D; collision.contacts;</li>
</ol>
<p>只要得到了，碰撞到的对象的。任意一个信息，就可以得到它的所有信息</p>
<p>碰撞触发接触时，会自动执行这个函数</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionEnter</span>(<span class="params">Collision collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">this</span>.name + <span class="string">&quot;被&quot;</span> + collision.gameObject.name + <span class="string">&quot;碰到了&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>碰撞结束分离时，会自动执行的函数</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionExit</span>(<span class="params">Collision collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">this</span>.name + <span class="string">&quot;和&quot;</span> + collision.gameObject.name + <span class="string">&quot;结束了贴贴~&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>两个物体相互接触摩擦时，会不停的调用该函数</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionStay</span>(<span class="params">Collision collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">this</span>.name + <span class="string">&quot;和&quot;</span> + collision.gameObject.name + <span class="string">&quot;一直在贴贴&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-触发器检测响应函数"><a href="#知识点二-触发器检测响应函数" class="headerlink" title="知识点二 触发器检测响应函数"></a>知识点二 触发器检测响应函数</h2><p>触发开始的函数，当第一次接触时，会自动调用。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">this</span>.name + <span class="string">&quot;和&quot;</span> + other.gameObject.name + <span class="string">&quot;开始了贴贴&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>触发结束的函数，当水乳相融的状态结束时，会调用一次。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerExit</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">this</span>.name + <span class="string">&quot;和&quot;</span> + other.gameObject.name + <span class="string">&quot;结束了贴贴&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当两个对象水乳相融的时候，会不停调用。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerStay</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="keyword">this</span>.name + <span class="string">&quot;和&quot;</span> + other.gameObject.name + <span class="string">&quot;在贴贴&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-要明确什么时候会响应函数"><a href="#知识点三-要明确什么时候会响应函数" class="headerlink" title="知识点三 要明确什么时候会响应函数"></a>知识点三 要明确什么时候会响应函数</h2><ol>
<li>只要挂载的对象，能和别的物体产生碰撞或者触发，那么对应的这 6 个函数，就能够被响应。</li>
<li>6 个函数不是说，必须都得写；我们一般是根据需求来进行选择书写。</li>
<li>如果是一个异形物体，刚体在父对象上，如果你想通过子对象上挂脚本检测碰撞是不行的 必须挂载到这个刚体父对象上才行</li>
<li>要明确，物理碰撞和触发器响应的区别。</li>
</ol>
<h2 id="知识点四-碰撞和触发器函数都可以写成虚函数-在子类去重写逻辑"><a href="#知识点四-碰撞和触发器函数都可以写成虚函数-在子类去重写逻辑" class="headerlink" title="知识点四 碰撞和触发器函数都可以写成虚函数 在子类去重写逻辑"></a>知识点四 碰撞和触发器函数都可以写成虚函数 在子类去重写逻辑</h2><p>由于不需要我们自己调用这些碰撞函数，所以一般碰撞函数是私有或者保护的。</p>
<p>一般会把想要重写的，碰撞和触发函数，写成保护类型的；</p>
<p>没有必要写成 public，因为不会自己手动调用，都是 Unity 通过反射帮助我们自动调用的。</p>
<h2 id="练习题-16"><a href="#练习题-16" class="headerlink" title="练习题"></a>练习题</h2><ol>
<li>在之前 Input 和 Screen 中的练习题基础上，加入一个点击鼠标左键可以发射一颗子弹飞出的功能。</li>
<li>在上一题的基础上，加入子弹触碰到地面会自动消失的功能。</li>
<li>在上一题的基础上，在场景加入一些立方体，每个立方体被子弹打 3 下就会消失。</li>
</ol>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson11_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> rotateSpeed = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Transform head;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> headRotateSpeed = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Transform pkPos;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> pkRotateSpeed = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//子弹预设体</span></span><br><span class="line">    <span class="keyword">public</span> GameObject bulletObj;</span><br><span class="line">    <span class="comment">//子弹将要出现的位置</span></span><br><span class="line">    <span class="keyword">public</span> Transform bulletPos;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题一</span></span><br><span class="line">        <span class="comment">//1.使用之前的坦克预设体，用WASD键控制坦克的前景后退，左右转向</span></span><br><span class="line">        <span class="comment">//Transform当中的 位移 自转 相关知识点</span></span><br><span class="line">        <span class="comment">//键盘输入相关知识点</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Input.GetAxis(&quot;Horizontal&quot;); 水平方向 -1到1之间的值 0就是没有按下</span></span><br><span class="line">        <span class="comment">//Input.GetAxis(&quot;Vertical&quot;);  竖直方向 -1到1之间的值 0就是没有按下</span></span><br><span class="line">        <span class="comment">//ws键 控制位移</span></span><br><span class="line">        <span class="comment">// 这公式 是 ： 前进方向 * 速度 * 时间 * 当前是否移动（-1~1 相当于 正向还是反向的感觉 不按就不动 0）</span></span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * moveSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ad键 控制 左右转向</span></span><br><span class="line">        <span class="comment">// 这公式 是 ： 转动的轴 * 速度 * 时间 * 当前是否移动（-1~1 相当于 正向还是反向的感觉 不按就不动 0）</span></span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up * rotateSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>));</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题二</span></span><br><span class="line">        <span class="comment">//2.在上一题的基础上，鼠标左右移动控制炮台的转向</span></span><br><span class="line">        <span class="comment">//鼠标输入相关</span></span><br><span class="line">        <span class="comment">//Input.GetAxis(&quot;Mouse X&quot;);</span></span><br><span class="line">        <span class="comment">// 这公式 是 ： 转动的轴 * 速度 * 时间 * 当前是否移动（-1~1 相当于 正向还是反向的感觉 不按就不动 0）</span></span><br><span class="line">        head.Rotate(Vector3.up * headRotateSpeed * Time.deltaTime * Input.GetAxis(<span class="string">&quot;Mouse X&quot;</span>));</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Lesson12 练习题一</span></span><br><span class="line">        <span class="comment">//1.在输入习题的基础上，鼠标滚轮控制控制炮管的抬起放下</span></span><br><span class="line">        <span class="comment">//Input.mouseScrollDelta.y</span></span><br><span class="line">        pkPos.Rotate(Vector3.right * pkRotateSpeed * Time.deltaTime * Input.mouseScrollDelta.y);</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> Lesson16 练习题一</span></span><br><span class="line">        <span class="keyword">if</span>( Input.GetMouseButtonDown(<span class="number">0</span>) )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//实例化一个子弹对象</span></span><br><span class="line">            GameObject obj = Instantiate(bulletObj);</span><br><span class="line">            <span class="comment">//设置对象的位置</span></span><br><span class="line">            obj.transform.position = bulletPos.position;</span><br><span class="line">            <span class="comment">//角度</span></span><br><span class="line">            <span class="comment">//obj.transform.rotation = bulletPos.rotation;</span></span><br><span class="line">            <span class="comment">//角度</span></span><br><span class="line">            obj.transform.eulerAngles = bulletPos.eulerAngles;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Bullet.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BulletObj</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(Vector3.forward * moveSpeed * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//private void OnCollisionEnter(Collision collision)</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//    //问题一：如果发射子弹时  和坦克自身的碰撞和重合了 可能一开始 就会被移除</span></span><br><span class="line">    <span class="comment">//    //解决方案：判断自己碰撞到的对象 是什么 一定是特定对象 才移除自己</span></span><br><span class="line">    <span class="comment">//    if(collision.gameObject.CompareTag(&quot;Ground&quot;))</span></span><br><span class="line">    <span class="comment">//    &#123;</span></span><br><span class="line">    <span class="comment">//        //碰撞到别的东西 就让子弹小时</span></span><br><span class="line">    <span class="comment">//        //一定是移除自己依附的GameObject对象 而不是脚本自己</span></span><br><span class="line">    <span class="comment">//        Destroy(this.gameObject);</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//    //问题二：坦克本身就带有碰撞盒  当子弹和坦克自身的碰撞盒碰撞可能会产生力的作用 出现一些意想不到的效果</span></span><br><span class="line">    <span class="comment">//    //解决方案：把子弹做成触发器 这样就没有了力的作用</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//问题一：如果发射子弹时  和坦克自身的碰撞和重合了 可能一开始 就会被移除</span></span><br><span class="line">        <span class="comment">//解决方案：判断自己碰撞到的对象 是什么 一定是特定对象 才移除自己</span></span><br><span class="line">        <span class="keyword">if</span> (other.gameObject.CompareTag(<span class="string">&quot;Ground&quot;</span>) ||</span><br><span class="line">            other.gameObject.CompareTag(<span class="string">&quot;Monster&quot;</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//碰撞到别的东西 就让子弹小时</span></span><br><span class="line">            <span class="comment">//一定是移除自己依附的GameObject对象 而不是脚本自己</span></span><br><span class="line">            Destroy(<span class="keyword">this</span>.gameObject);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//问题二：坦克本身就带有碰撞盒  当子弹和坦克自身的碰撞盒碰撞可能会产生力的作用 出现一些意想不到的效果</span></span><br><span class="line">        <span class="comment">//解决方案：把子弹做成触发器 这样就没有了力的作用</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>CubeObj.cs</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CubeObj</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> HP = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//当子弹碰到我时  就减血 血量为0了 就移除</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//由于场景上 只有子弹时触发器 所以我们可以不用进行任何判断 就可以完成这个功能</span></span><br><span class="line">        <span class="comment">//减血</span></span><br><span class="line">        HP -= <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//为0就移除自己</span></span><br><span class="line">        <span class="keyword">if</span>( HP &lt;= <span class="number">0</span> )</span><br><span class="line">        &#123;</span><br><span class="line">            Destroy(<span class="keyword">this</span>.gameObject);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="碰撞检测之刚体加力-知识点"><a href="#碰撞检测之刚体加力-知识点" class="headerlink" title="碰撞检测之刚体加力 知识点"></a>碰撞检测之刚体加力 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Rigidbody.html">UnityEngine.Rigidbody - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-刚体自带添加力的方法"><a href="#知识点一-刚体自带添加力的方法" class="headerlink" title="知识点一 刚体自带添加力的方法"></a>知识点一 刚体自带添加力的方法</h2><p>给刚体加力的目标就是：让其有一个速度，朝向某一个方向移动。</p>
<h3 id="1-首先应该获取刚体组件"><a href="#1-首先应该获取刚体组件" class="headerlink" title="1.首先应该获取刚体组件"></a>1.首先应该获取刚体组件</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rigidBody = <span class="keyword">this</span>.GetComponent&lt;Rigidbody&gt;();</span><br></pre></td></tr></table></figure>

<h3 id="2-添加力"><a href="#2-添加力" class="headerlink" title="2.添加力"></a>2.添加力</h3><blockquote>
<p>加力过后，对象是否停止移动，是由阻力决定的。</p>
<p>如果阻力（Drag）为 0，那给了一个力过后，始终是不会停止运动。</p>
</blockquote>
<p>相对世界坐标系，Z 轴正方向加了一个力</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddForce</span>(<span class="params">Vector3 force</span>)</span></span><br><span class="line"><span class="function">rigidBody.<span class="title">AddForce</span>(<span class="params">Vector3.forward * <span class="number">10</span></span>)</span>;</span><br></pre></td></tr></table></figure>

<p>相对世界坐标系方法中，让对象相对于自己的面朝向移动。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rigidBody.AddForce(<span class="keyword">this</span>.transform.forward * <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>相对本地坐标施加力。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddRelativeForce</span>(<span class="params">Vector3 force</span>)</span></span><br><span class="line"><span class="function">rigidBody.<span class="title">AddRelativeForce</span>(<span class="params">Vector3.forward * <span class="number">10</span></span>)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-添加扭矩力，让其旋转"><a href="#3-添加扭矩力，让其旋转" class="headerlink" title="3.添加扭矩力，让其旋转"></a>3.添加扭矩力，让其旋转</h3><p>相对世界坐标</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddTorque</span>(<span class="params">Vector3 torque</span>)</span></span><br><span class="line"><span class="function">rigidBody.<span class="title">AddTorque</span>(<span class="params">Vector3.up * <span class="number">10</span></span>)</span>;</span><br></pre></td></tr></table></figure>

<p>相对本地坐标</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddRelativeTorque</span>(<span class="params">Vector3 torque</span>)</span></span><br><span class="line"><span class="function">rigidBody.<span class="title">AddRelativeTorque</span>(<span class="params">Vector3.up * <span class="number">10</span></span>)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-直接改变速度"><a href="#4-直接改变速度" class="headerlink" title="4.直接改变速度"></a>4.直接改变速度</h3><p>如果要直接通过改变速度，来让其移动。这个速度方向，是相对于，世界坐标系的 。</p>
<p>一定要注意这一点。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rigidBody.velocity = Vector3.forward * <span class="number">5</span>;</span><br><span class="line">rigidBody.angularVelocity = Vector3.forward * <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-模拟爆炸效果"><a href="#5-模拟爆炸效果" class="headerlink" title="5.模拟爆炸效果"></a>5.模拟爆炸效果</h3><p>模拟爆炸的力，一定是所有希望产生爆炸效果影响的对象。</p>
<p>都需要得到他们的刚体，来执行这个方法，才能都有效果。</p>
<blockquote>
<p>也就是说，这个爆炸只影响本身。</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddExplosionForce</span>(<span class="params"><span class="built_in">float</span> explosionForce, Vector3 explosionPosition, <span class="built_in">float</span> explosionRadius</span>)</span>;</span><br><span class="line"><span class="comment">//explosionForce：力大小</span></span><br><span class="line"><span class="comment">//explosionPosition：产生力的位置（世界坐标系）</span></span><br><span class="line"><span class="comment">//explosionRadius：爆炸力半径</span></span><br><span class="line">rigidBody.AddExplosionForce(<span class="number">100</span>, Vector3.zero, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-力的几种模式"><a href="#知识点二-力的几种模式" class="headerlink" title="知识点二 力的几种模式"></a>知识点二 力的几种模式</h2><h3 id="力的模式"><a href="#力的模式" class="headerlink" title="力的模式"></a>力的模式</h3><p>所有添加力的方法都有一个重载，第二个参数为添加的力的模式。</p>
<p>第二个参数，力的模式主要的作用，是计算方式不同而已。</p>
<p>由于 4 中计算方式的不同，最终的移动速度就会不同。</p>
<p>默认模式为：Force</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">AddForce</span>(<span class="params">Vector3 force, [DefaultValue(<span class="string">&quot;ForceMode.Force&quot;</span></span>)] ForceMode mode)</span></span><br><span class="line"><span class="function">rigidBody.<span class="title">AddForce</span>(<span class="params">Vector3.forward * <span class="number">10</span>, ForceMode.Acceleration</span>)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> ForceMode &#123;</span><br><span class="line">	Force = <span class="number">0</span>,</span><br><span class="line">	Acceleration = <span class="number">5</span>,</span><br><span class="line">        Impulse = <span class="number">1</span>,</span><br><span class="line">	VelocityChange = <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="动量定理"><a href="#动量定理" class="headerlink" title="动量定理"></a>动量定理</h3><p>F _ t &#x3D; m _ v，力 _ 时间 &#x3D; 质量 _ 速度<br>v &#x3D; F * t &#x2F; m;<br>F：力大小<br>t：时间<br>m：质量<br>v：速度</p>
<h3 id="1-Acceleration"><a href="#1-Acceleration" class="headerlink" title="1.Acceleration"></a>1.Acceleration</h3><p>给物体增加一个持续的加速度，<strong>忽略其质量</strong></p>
<p>v &#x3D; F * t &#x2F; m<br>F：(0,0,10)<br>t：0.02s（时间，物理帧间隔）<br>m：默认为 1（这里的 m 是质量 mass）<br>v &#x3D; 10 * 0.02 &#x2F; 1 &#x3D; 0.2 m&#x2F;s（这里的 m 是米）</p>
<p>每物理帧移动 0.2m&#x2F;s * 0.02 &#x3D; 0.004m（这里的 m 是米）</p>
<h3 id="2-Force"><a href="#2-Force" class="headerlink" title="2.Force"></a>2.Force</h3><p>给物体添加一个持续的力，与物体的质量有关</p>
<p>v &#x3D; F * t &#x2F; m<br>F：(0,0,10)<br>t：0.02s<br>m：2kg（这里的 m 是质量 mass）<br>v &#x3D; 10 *0.02&#x2F; 2 &#x3D; 0.1m&#x2F;s（这里的 m 是米）<br>每物理帧移动 0.1m &#x2F; s * 0.02 &#x3D; 0.002m（这里的 m 是米）</p>
<h3 id="3-Impulse"><a href="#3-Impulse" class="headerlink" title="3.Impulse"></a>3.Impulse</h3><p>给物体添加一个瞬间的力，与物体的质量有关，忽略时间，默认为 1。</p>
<p>v &#x3D; F * t &#x2F; m<br>F：(0,0,10)<br>t：默认为 1<br>m：2kg（这里的 m 是质量 mass）<br>v &#x3D; 10 *1 &#x2F; 2 &#x3D; 5 m&#x2F;s（这里的 m 是米）</p>
<p>每物理帧移动 5m &#x2F; s * 0.02 &#x3D; 0.1m（这里的 m 是米）</p>
<h3 id="4-VelocityChange"><a href="#4-VelocityChange" class="headerlink" title="4.VelocityChange"></a>4.VelocityChange</h3><p>给物体添加一个瞬时速度，忽略质量，忽略时间</p>
<p>v &#x3D; F * t &#x2F; m<br>F：(0,0,10)<br>t：默认为 1<br>m：默认为 1（这里的 m 是质量 mass）<br>v &#x3D; 10 * 1 &#x2F; 1 &#x3D; 10m &#x2F;s（这里的 m 是米）</p>
<p>每物理帧移动 10m&#x2F;s * 0.02 &#x3D; 0.2m（这里的 m 是米）</p>
<p>比较符合正常逻辑的模式是 Force，几个参数都参与了计算。</p>
<h2 id="知识点三-力场脚本"><a href="#知识点三-力场脚本" class="headerlink" title="知识点三 力场脚本"></a>知识点三 力场脚本</h2><p>力场组件：Constant Force</p>
<p>添加此组件，会自动给未添加 Rigidbody 组件的物体添加 Rigidbody 组件。</p>
<p>可以直接修改 Constan Force 组件上的参数，来给物体施加一个持续的力。</p>
<h2 id="练习题-17"><a href="#练习题-17" class="headerlink" title="练习题"></a>练习题</h2><p>请问现在让一个物体产生位移有几种方式?</p>
<ol>
<li>修改 transform，使用 Translate 方法。</li>
<li>给拥有 Rigidbody 的物体施加力。</li>
<li>修改 Rigidbody 的 velocity，给物体添加速度。</li>
</ol>
<h3 id="答案-5"><a href="#答案-5" class="headerlink" title="答案"></a>答案</h3><ol>
<li>直接在 Update 生命周期函数中改变 Transform 当中的 Position 属性</li>
<li>直接在 Update 生命周期函数中使用 Transform 提供的 APITransLate 这个方法</li>
<li>通过加力<ol>
<li>rigidBody.AddForce</li>
<li>rigidBody.AddRelativeForce</li>
</ol>
</li>
<li>通过改变刚体速度变量：rigidBody.velocity &#x3D; Vector3.forward * 10;</li>
</ol>
<h1 id="核心系统—音效系统"><a href="#核心系统—音效系统" class="headerlink" title="核心系统—音效系统"></a>核心系统—音效系统</h1><h1 id="音频文件导入-知识点"><a href="#音频文件导入-知识点" class="headerlink" title="音频文件导入 知识点"></a>音频文件导入 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/AudioFiles.html">音频文件 - Unity 手册</a></p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/音频导入参数1.png" style="zoom: 67%;" />

<img src="【唐老狮】Unity四部曲.assets/音频导入参数2.png" style="zoom:67%;" />

<h1 id="音频源和音频监听脚本-知识点"><a href="#音频源和音频监听脚本-知识点" class="headerlink" title="音频源和音频监听脚本 知识点"></a>音频源和音频监听脚本 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-AudioSource.html">音频源 - Unity 手册</a></p>
</blockquote>
<img src="【唐老狮】Unity四部曲.assets/音效源参数1.png" style="zoom:67%;" />

<img src="【唐老狮】Unity四部曲.assets/音效源参数2.png" style="zoom: 67%;" />

<h1 id="代码控制音频源-知识点"><a href="#代码控制音频源-知识点" class="headerlink" title="代码控制音频源 知识点"></a>代码控制音频源 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/AudioSource.html">UnityEngine.AudioSource - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/AudioClip.html">UnityEngine.AudioClip - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-代码控制播放停止"><a href="#知识点一-代码控制播放停止" class="headerlink" title="知识点一 代码控制播放停止"></a>知识点一 代码控制播放停止</h2><p>播放</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audioSource.Play();</span><br></pre></td></tr></table></figure>

<p>延迟（秒）播放</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audioSource.PlayDelayed(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p>停止播放</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audioSource.Stop();</span><br></pre></td></tr></table></figure>

<p>暂停播放</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audioSource.Pause();</span><br></pre></td></tr></table></figure>

<p>停止暂停</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audioSource.UnPause();</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-如何检测音效播放完毕"><a href="#知识点二-如何检测音效播放完毕" class="headerlink" title="知识点二 如何检测音效播放完毕"></a>知识点二 如何检测音效播放完毕</h2><p>如果你希望某一个音效播放完毕后，想要做什么事情。</p>
<p>那就可以在 Update 生命周期函数中，不停的去检测它的该属性。</p>
<p>如果是 false 就代表播放完毕了</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">audioSource.isPlaying</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-如何动态控制音效播放"><a href="#知识点三-如何动态控制音效播放" class="headerlink" title="知识点三 如何动态控制音效播放"></a>知识点三 如何动态控制音效播放</h2><h3 id="第一种方法"><a href="#第一种方法" class="headerlink" title="第一种方法"></a>第一种方法</h3><ol>
<li>使用一个空物体挂载一个 AudioSource，做成 prefab。</li>
<li>直接在要播放音效的对象上挂载脚本，控制播放</li>
<li>需要播放时，实例化挂载了音效源脚本的对象，这种方法，其实用的比较少。</li>
</ol>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Instantiate(obj);</span><br></pre></td></tr></table></figure>

<h3 id="第二种方法"><a href="#第二种方法" class="headerlink" title="第二种方法"></a>第二种方法</h3><p>用一个 AudioSource 来控制播放不同的音效</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AudioSource aus = <span class="keyword">this</span>.gameObject.AddComponent&lt;AudioSource&gt;();</span><br><span class="line">aus.clip = clip;</span><br><span class="line">aus.Play();</span><br></pre></td></tr></table></figure>

<p>潜在知识点<br>一个 GameObject 可以挂载多个 音效源脚本 AudioSource。使用时要注意，如果要挂载多个，那一定要自己管理他们，控制他们的播放、停止。不然，我们没有办法准确的获取谁是谁。</p>
<h1 id="麦克风输入相关-知识点"><a href="#麦克风输入相关-知识点" class="headerlink" title="麦克风输入相关 知识点"></a>麦克风输入相关 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Microphone.html">UnityEngine.Microphone - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-获取设备麦克风信息"><a href="#知识点一-获取设备麦克风信息" class="headerlink" title="知识点一 获取设备麦克风信息"></a>知识点一 获取设备麦克风信息</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>[] strs = Microphone.devices;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; strs.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">    print(strs[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-开始录制"><a href="#知识点二-开始录制" class="headerlink" title="知识点二 开始录制"></a>知识点二 开始录制</h2><p>参数一：设备名，传空使用默认设备<br>参数二：超过录制长度后，是否重头录制<br>参数三：录制时长<br>参数四：采样率</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clip = Microphone.Start(<span class="literal">null</span>, <span class="literal">false</span>, <span class="number">10</span>, <span class="number">44100</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-结束录制"><a href="#知识点三-结束录制" class="headerlink" title="知识点三 结束录制"></a>知识点三 结束录制</h2><p>参数为设备名，表示停止某个设备的录制。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Microphone.End(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点四-获取音频数据用于存储或者传输"><a href="#知识点四-获取音频数据用于存储或者传输" class="headerlink" title="知识点四 获取音频数据用于存储或者传输"></a>知识点四 获取音频数据用于存储或者传输</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/AudioClip.html">UnityEngine.AudioClip - Unity 脚本 API</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/AudioClip.GetData.html">AudioClip-GetData - Unity 脚本 API</a></p>
<p>注意，对于压缩音频文件，仅当在音频导入器中将 <em>Load Type</em> 设置为 <em>Decompress on Load</em> 时才能检索样本数据。否则，将返回所有样本值均为零的数组。</p>
</blockquote>
<p>规则：用于存储数组数据的 长度 &#x3D; 声道数 * 剪辑长度。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">float</span>[] f = <span class="keyword">new</span> <span class="built_in">float</span>[clip.channels * clip.samples];</span><br><span class="line">clip.GetData(f, <span class="number">0</span>);</span><br><span class="line">print(f.Length);</span><br></pre></td></tr></table></figure>

<h1 id="Unity-入门总结"><a href="#Unity-入门总结" class="headerlink" title="Unity 入门总结"></a>Unity 入门总结</h1><h2 id="本期学习的主要内容"><a href="#本期学习的主要内容" class="headerlink" title="本期学习的主要内容"></a>本期学习的主要内容</h2><ol>
<li>Unity 环境搭建</li>
<li>Unity 界面基础</li>
<li>Unity 工作原理</li>
<li>Unity 脚本基础</li>
<li>GameObject</li>
<li>Time</li>
<li>Transform</li>
<li>Input 和 Screen</li>
<li>Camera</li>
<li>物理、光源、音效系统</li>
</ol>
<h2 id="学习-Unity-是学习什么？"><a href="#学习-Unity-是学习什么？" class="headerlink" title="学习 Unity 是学习什么？"></a>学习 Unity 是学习什么？</h2><ol>
<li>Unity 引擎核心系统的窗口操作和系统组件</li>
<li>Unity 引擎公共 API</li>
<li>面向对象思想的应用</li>
</ol>
<h2 id="如何学好-Unity？"><a href="#如何学好-Unity？" class="headerlink" title="如何学好 Unity？"></a>如何学好 Unity？</h2><p>每学习一个 Unity 引擎的新知识点你脑海里面要思考，要举一反三。</p>
<p>要想想这个知识点，在游戏开发时可以用来完成什么功能。</p>
<p>所有的游戏功能，就是各个知识点有逻辑的排列组合在一起实现的。</p>
<h2 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h2><p>不要好高骛远</p>
<p>不要心浮气躁</p>
<p>不要急于求成</p>
<p>要积少成多，慢慢积累</p>
<p>理论结合实践的提升自己的编程和逻辑能力</p>
<h1 id="必备知识点"><a href="#必备知识点" class="headerlink" title="必备知识点"></a>必备知识点</h1><h1 id="必备知识点—场景切换和退出游戏"><a href="#必备知识点—场景切换和退出游戏" class="headerlink" title="必备知识点—场景切换和退出游戏"></a>必备知识点—场景切换和退出游戏</h1><h2 id="知识点一-场景切换"><a href="#知识点一-场景切换" class="headerlink" title="知识点一 场景切换"></a>知识点一 场景切换</h2><p>使用 SceneManager 提供的 API：LoadScene();</p>
<blockquote>
<p>在加载场景前，需要把场景添加到场景列表当中</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( Input.GetKeyDown(KeyCode.Space) )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//切换到场景2</span></span><br><span class="line">    <span class="comment">//直接 写代码 切换场景 可能会报错</span></span><br><span class="line">    <span class="comment">//原因是没有把该场景加载到场景列表当中</span></span><br><span class="line">    SceneManager.LoadScene(<span class="string">&quot;Test2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用它不会报错 只会有警告 一样可以切换场景</span></span><br><span class="line">    <span class="comment">//SceneManager</span></span><br><span class="line">    <span class="comment">//Application.LoadLevel(&quot;Test2&quot;);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-退出游戏"><a href="#知识点二-退出游戏" class="headerlink" title="知识点二 退出游戏"></a>知识点二 退出游戏</h2><blockquote>
<p>退出只会在打包为 exe 文件之后才可以体现</p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( Input.GetKeyDown(KeyCode.Escape) )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//执行这句代码 就会退出游戏</span></span><br><span class="line">    <span class="comment">//但是 在编辑模式下没有作用</span></span><br><span class="line">    <span class="comment">//一定是发布游戏过后 才有用</span></span><br><span class="line">    Application.Quit();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="必备知识点—鼠标隐藏锁定相关"><a href="#必备知识点—鼠标隐藏锁定相关" class="headerlink" title="必备知识点—鼠标隐藏锁定相关"></a>必备知识点—鼠标隐藏锁定相关</h1><h2 id="知识点一-隐藏鼠标"><a href="#知识点一-隐藏鼠标" class="headerlink" title="知识点一 隐藏鼠标"></a>知识点一 隐藏鼠标</h2><p>修改 Cursor 类中的 visible 属性</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cursor.visible = <span class="literal">true</span>;	<span class="comment">//true显示，false隐藏</span></span><br></pre></td></tr></table></figure>

<h2 id="知识点二-锁定鼠标"><a href="#知识点二-锁定鼠标" class="headerlink" title="知识点二 锁定鼠标"></a>知识点二 锁定鼠标</h2><p>锁定鼠标在游戏屏幕范围内。</p>
<p>None：不锁定<br>Locked:：锁定鼠标会被限制在，屏幕的中心点；不仅会被锁定，还会被隐藏，可以通过 ESC 键，摆脱编辑模式下的锁定。<br>Confined：限制在窗口范围内。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cursor.lockState = CursorLockMode.Confined;</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-设置鼠标图片"><a href="#知识点三-设置鼠标图片" class="headerlink" title="知识点三 设置鼠标图片"></a>知识点三 设置鼠标图片</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Texture2D.html">UnityEngine.Texture2D - Unity 脚本 API</a></p>
</blockquote>
<p>参数一：光标图片，Texture（纹理图片）</p>
<blockquote>
<p>注意，光标的图片应该是正方形的，否则会发生扭曲；</p>
<p>并且如果光标的图片不是 png 格式，还需要设置材质 TextureType 为 Cursor</p>
</blockquote>
<p>参数二：偏移位置，相对图片左上角</p>
<p>参数三：平台支持的光标模式（硬件或软件），一般用 Auto</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cursor.SetCursor(tex, Vector2.zero, CursorMode.Auto);</span><br></pre></td></tr></table></figure>

<h1 id="必备知识点—随机数和-Unity-自带委托相关"><a href="#必备知识点—随机数和-Unity-自带委托相关" class="headerlink" title="必备知识点—随机数和 Unity 自带委托相关"></a>必备知识点—随机数和 Unity 自带委托相关</h1><h2 id="知识点一-随机数"><a href="#知识点一-随机数" class="headerlink" title="知识点一 随机数"></a>知识点一 随机数</h2><h3 id="Unity-中的随机数"><a href="#Unity-中的随机数" class="headerlink" title="Unity 中的随机数"></a>Unity 中的随机数</h3><p>Unity 当中 的 Random 类 此 Random(Unity)非彼 Random（C#）</p>
<p>使用随机数 int 重载，规则是左包含右不包含（左闭有开）</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//0~99之间的数</span></span><br><span class="line"><span class="built_in">int</span> randomNum = Random.Range(<span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">print(randomNum);</span><br></pre></td></tr></table></figure>

<p>float 重载，规则是左右都包含（左闭右闭）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">float randomNumF = Random.Range(1.1f, 99.9f);</span><br></pre></td></tr></table></figure>

<h3 id="C-中的随机数"><a href="#C-中的随机数" class="headerlink" title="C#中的随机数"></a>C#中的随机数</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.Random r = <span class="keyword">new</span> System.Random();</span><br><span class="line">r.Next(<span class="number">0</span>, <span class="number">100</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-委托"><a href="#知识点二-委托" class="headerlink" title="知识点二 委托"></a>知识点二 委托</h2><p>C#的自带委托，&#x3D;&#x3D;Action&#x3D;&#x3D;，&#x3D;&#x3D;Func&#x3D;&#x3D;</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">System.Action ac = () =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            print(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.Action&lt;<span class="built_in">int</span>, <span class="built_in">float</span>&gt; ac2 = (i, f) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.Func&lt;<span class="built_in">int</span>&gt; fun1 = () =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        System.Func&lt;<span class="built_in">int</span>,<span class="built_in">string</span>&gt; fun2 = (i) =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure>

<p>Unity 的自带委托，&#x3D;&#x3D;UnityEngine.Events.UnityAction&#x3D;&#x3D;</p>
<blockquote>
<p>注意：Unity 没有提供类似 Func 的委托</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Events.UnityEvent.html">Events.UnityEvent - Unity 脚本 API</a></p>
</blockquote>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">UnityAction uac = () =&gt;</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">UnityAction&lt;<span class="built_in">string</span>&gt; uac1 = (s) =&gt;</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h1 id="必备知识点—模型资源的导入"><a href="#必备知识点—模型资源的导入" class="headerlink" title="必备知识点—模型资源的导入"></a>必备知识点—模型资源的导入</h1><h2 id="主要内容"><a href="#主要内容" class="headerlink" title="主要内容"></a>主要内容</h2><ol>
<li>模型由什么构成</li>
<li>Unity 支持的模型格式</li>
<li>如何指导美术同学导出模型</li>
<li>学习阶段在哪里获取模型资源</li>
</ol>
<h2 id="模型由什么构成"><a href="#模型由什么构成" class="headerlink" title="模型由什么构成"></a>模型由什么构成</h2><p>骨（骨骼）——非必须，有动作的模型才需要<br>肉（网格面片）——必须，决定了模型的轮廓<br>皮（贴图）——必须，决定了模型的颜色效果</p>
<h2 id="Unity-支持的模型格式"><a href="#Unity-支持的模型格式" class="headerlink" title="Unity 支持的模型格式"></a>Unity 支持的模型格式</h2><p>官方推荐使用 FBX 格式的模型文件，其它格式虽然支持，但是不推荐。<br>支持的格式：.fbx，.dae，.3ds，.dxf，.obj</p>
<h2 id="如何指导美术同学导出模型"><a href="#如何指导美术同学导出模型" class="headerlink" title="如何指导美术同学导出模型"></a>如何指导美术同学导出模型</h2><p>Unity 官网，有指导手册，让美术同学查看手册按步骤导出即可。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2019.4/Manual/CreatingDCCAssets.html">https://docs.unity.cn/cn/2019.4/Manual/CreatingDCCAssets.html</a></p>
</blockquote>
<p>重点规则：Unity 中模型面朝向朝模型坐标系的 Z 轴；缩放大小单位要注意</p>
<h2 id="学习阶段哪里获取模型资源"><a href="#学习阶段哪里获取模型资源" class="headerlink" title="学习阶段哪里获取模型资源"></a>学习阶段哪里获取模型资源</h2><ol>
<li>官方 AssetStore（推荐）</li>
<li>淘宝（推荐）</li>
<li>一些第三方的资源下载网站</li>
</ol>
<p>获取的资源一般两种形式</p>
<ol>
<li>Unity 资源包（更方便我们使用）</li>
<li>原生的模型贴图资源（需要我们自己进行一些设置）</li>
</ol>
<h2 id="总结-11"><a href="#总结-11" class="headerlink" title="总结"></a>总结</h2><ol>
<li>模型由什么构成——骨肉皮</li>
<li>Unity 支持的模型格式——推荐 FBX</li>
<li>如何指导美术同学导出模型——官方文档</li>
<li>学习阶段在哪里获取模型资源——Asset Store 和淘宝</li>
</ol>
<h1 id="项目打包"><a href="#项目打包" class="headerlink" title="项目打包"></a>项目打包</h1><h2 id="BuildSetting"><a href="#BuildSetting" class="headerlink" title="BuildSetting"></a>BuildSetting</h2><p>TargetPlatform：目标平台，win、mac、linux 等</p>
<p>Architecture：结构模式，x86、x64</p>
<p>ServerBuild：服务器构建，开启后可为应用程序编写特定于服务器的代码，方便调试</p>
<p>CopyPDBFile：开启后可以在打包出的数据中，包含程序数据库文件，之后可以用于调试应用程序</p>
<p>CreateVisualStudio Solution：开启后可以生成 VS 解决方案文件可以在 VS 中进行正式的打包可以设置更多额外信息</p>
<p>DevelopmentBuild：启用后，会在打包出的版本中开启性能分析器，之后可以用于调试</p>
<p>Autoconnect Profiler：启用 Development Build 后才有用，开启后 Unity 性能分析器可以自动连接到你的打包项目</p>
<p>Deep Profiling：启用 Development Build 后才有用，开启后，性能分析器可以分析到每个函数的调用来获取更详细数据</p>
<p>ScriptDebugging：启用 Development Build 后才有用，开启后，Unity 会将调试符号添加到脚本代码中</p>
<p>Scripts Only Build：启用 Development Build 后才有用，启用后可以提高打包时间，只会更新更改的脚本</p>
<p>Compression Method：压缩数据格式</p>
<ol>
<li>Default 不压缩</li>
<li>LZ4：快速压缩格式</li>
<li>LZ4HC：LZ4 的高度压缩变体，构建速度会变慢，但是压缩效果好</li>
</ol>
<h2 id="PlayerSetting-Player-部分内容"><a href="#PlayerSetting-Player-部分内容" class="headerlink" title="PlayerSetting-Player 部分内容"></a>PlayerSetting-Player 部分内容</h2><p>CompanyName：公司名</p>
<p>ProductName：产品名，游戏名</p>
<p>Version：版本号</p>
<p>Default Icon：默认图标</p>
<p>DefaultCursor：默认鼠标图标</p>
<p>CursorHostpot：鼠标图标偏移位置</p>
<p>Icon：自定义各种尺寸的游戏图标</p>
<h3 id="Resolution"><a href="#Resolution" class="headerlink" title="Resolution"></a>Resolution</h3><p>FullscreenMode</p>
<ol>
<li>FullScreenWindow：以游戏设定分辨率全屏</li>
<li>ExlusiveFullscreen：适配全屏</li>
<li>MaximizedWindow：最大化窗口化</li>
<li>Window：窗口化</li>
</ol>
<p>Default Is Native Resolution：勾选时，使用显示器分辨率；取消勾选时，使用设置的分辨率(窗口模式才有用)</p>
<p>Default Screen Height：游戏画面默认高度，窗口模式才有用</p>
<p>Mac Retina Support：是否在 Mac 系统上启用高 DPI 支持</p>
<p>Run In background：开启后，程序失去焦点时可以继续运行而不是暂停</p>
<h1 id="实践总结"><a href="#实践总结" class="headerlink" title="实践总结"></a>实践总结</h1><h2 id="Unity-做游戏的套路"><a href="#Unity-做游戏的套路" class="headerlink" title="Unity 做游戏的套路"></a>Unity 做游戏的套路</h2><ol>
<li>C#相关知识（基础语法，面向对象等等)</li>
<li>Unity 相关知识(API 的使用，系统脚本使用)</li>
</ol>
<p>两者结合来进行游戏开发，你需要熟练掌握 C#知识，了解 Unity 提供的各功能可以帮助我们完成什么样的需求。</p>
<p>Unity 中：脚本+预设体+面向对象；脚本控制模型或者图片等预设体，让他们呈现出游戏逻辑比如移动、旋转、动态创建等等</p>
<h2 id="如何学好-Unity"><a href="#如何学好-Unity" class="headerlink" title="如何学好 Unity"></a>如何学好 Unity</h2><ol>
<li><p>搞定前提条件——C#</p>
<p>扎实的 C#基础可以让你事半功倍，特别是对面向对象的理解</p>
</li>
<li><p>养成惯性思考习惯</p>
<p>在学习 Unity 的一个新知识点时，要在脑袋里思考这个知识点可以帮助我们制作怎样的游戏功能，产生映射记忆</p>
</li>
</ol>
<p>C# + Unity + 面向对象＋实践和思考 &#x3D; 无所不能</p>
<h2 id="达到目的"><a href="#达到目的" class="headerlink" title="达到目的"></a>达到目的</h2><ol>
<li>总结 Unity 做游戏的套路——C#+Unity+面向对象</li>
<li>结如何学好 Unity ——扎实的语言基础＋映射记忆＋实践＋思考</li>
</ol>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><ol>
<li><p>完善类图</p>
<p>将实践小项目的类图重新绘制，理清关系，整理思路</p>
</li>
<li><p>拓展功能</p>
<p>为实践小项目加一些自己的想法，比如:关卡选择，更多的坦克类型等等</p>
</li>
</ol>
<!-- flag of hidden posts --></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://clearacg.com">Aki_CCLing</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://clearacg.com/posts/24b4d8c5/">https://clearacg.com/posts/24b4d8c5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://clearacg.com" target="_blank">Secret Garden</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Technology/">Technology</a><a class="post-meta__tags" href="/tags/Code/">Code</a></div><div class="post-share"><div class="social-share" data-image="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/b7e144d1/" title="算法"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/noet8h3s.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-09</div><div class="info-item-2">算法</div></div><div class="info-2"><div class="info-item-1">A 星寻路算法寻路消耗公式：f(寻路消耗)&#x3D;g(离起点距离)+h(离终点距离) 开启列表：记录待检查的节点。关闭列表：记录已检查的节点。 A 星（A*）寻路算法是一种图搜索算法，用于在网格图上找到从起点到终点的最短路径。 基本原理初始化：将起点加入开启列表。设定起点的 g 值为 0，h 值为起点到终点的估算距离。 循环过程：从开启列表中取出 f 值最小的节点作为当前节点。将当前节点从开启列表移到关闭列表。 检查当前节点的所有相邻节点：如果相邻节点是终点，则路径找到，算法结束。如果相邻节点不在关闭列表中，计算其 g 值和 h 值，并将其加入开启列表。如果相邻节点已在开启列表中，检查新的 g 值是否更小，如果是则更新该节点的 g...</div></div></div></a><a class="pagination-related" href="/posts/b8d84677/" title="Git常用操作"><img class="cover" src="https://pic.imgdb.cn/item/65b2a2ed871b83018a2d55de.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-16</div><div class="info-item-2">Git常用操作</div></div><div class="info-2"><div class="info-item-1">Git常用操作 内容及图片来自GeekHour，请关注支持原作者。     初始化设置配置⽤户名 1git config --global user.name &quot;Your Name&quot;  配置邮箱 1git config --global user.email &quot;mail@example.com&quot;  存储配置 1git config --global credential store 创建仓库创建⼀个新的本地仓库 (省略 project-name 则在当前⽬录创建) 1git init &lt;project-name&gt; 克隆⼀个远程仓库。 1git clone &lt;url&gt;  四个区域⼯作区（Working Directory）就是你在电脑⾥能实际看到的⽬录。 暂存区（Stage &#x2F; Index）暂存区也叫索引，⽤来临时存放未提交的内容􀀄 ⼀般在.git⽬录下的index中。 本地仓库（Repository）Git在本地的版本库，仓库信息存储在.git这个隐藏⽬录中。 远程仓库（Remote...</div></div></div></a><a class="pagination-related" href="/posts/978bdfbc/" title="Unity 学习路线"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-05</div><div class="info-item-2">Unity 学习路线</div></div><div class="info-2"><div class="info-item-1"> 内容参考：课程内容及架构 : 唐老狮 唐老狮的 B 站空间内容整理、面试题整理 : 人间自有韬哥在 人间自有韬哥在的博客盘子 ssa : 盘子 ssa&#x2F;个人学习笔记litfire : 2024 年 Unity 面试题和日常问题总结  CSharp目录传送门 : CSharp 知识目录 CSharp 入门文章传送门 : CSharp 入门 知识点主要内容包括变量、常量、转义字符、类型转换、异常捕获、运算符、条件分支语句、循环语句 CSharp 基础文章传送门 : CSharp 基础主要包括枚举、数组、值类型和引用类型、函数（ref 和 out、参数、重载、递归）、结构体、冒泡排序、递归排序 CSharp 核心文章传送门 : CSharp 核心 主要包括枚举、面向对象（封装、继承、多态） 封装：类和对象、成员变量、成员方法、构造函数、析构函数、成员属性、索引器、静态成员、静态类和静态构造函数、拓展方法、运算符重载 继承：里氏替换原则、继承中的构造函数、万物之父和装箱拆箱、密封类 多态：Vob、抽象类和抽象方法、接口、密封方法 以及七大原则 CSharp 进阶文章传送门...</div></div></div></a><a class="pagination-related" href="/posts/53b59015/" title="Unity 面试题 - CSharp 相关 Part 1"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-06</div><div class="info-item-2">Unity 面试题 - CSharp 相关 Part 1</div></div><div class="info-2"><div class="info-item-1">🟡: 代表个人还有一些理解上的问题🟢: 代表自己面试中被问到过🔴: 代表问题内容未完成 List请说明 C# 中的 List 是如何扩容的C#中的 List 是一个动态数组，其容量可以根据需要动态扩展。初始容量：List在创建时可以指定初始容量（capacity），如果没有指定，则初始容量默认为 0。 自动扩容：当添加元素导致当前容量不足时，List会自动扩容。扩容时，List会分配一个新的数组，并将现有元素复制到新数组中。 扩容倍数：扩容时，新数组的容量通常是旧容量的两倍。这种倍增策略有助于减少频繁分配内存和数据复制的开销。 1234567891011121314151617181920212223242526272829303132using System;using System.Collections.Generic;class Program&#123;    static void Main()    &#123;        // 创建一个初始容量为2的List        List&lt;int&gt; numbers = new...</div></div></div></a><a class="pagination-related" href="/posts/1c8fef53/" title="Unity 面试题 - CSharp 相关 Part 2"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-07</div><div class="info-item-2">Unity 面试题 - CSharp 相关 Part 2</div></div><div class="info-2"><div class="info-item-1">请问什么是线程安全？如何在 C#中实现线程安全操作？C#中属性(Property)和字段(Field)的区别是什么？请解释一下 C#中的异步编程模型（Async&#x2F;Await），它是用来做什么的？请问七大排序算法一般指哪七种排序算法？你一般常用的排序算法是哪种？请简单描述它的排序原理 请简单描述斐波那契数列的基本规则是什么请简单描述 A 星寻路算法的基本原理抽象类中的虚函数和抽象函数，是否必须在子类中重写？当我们使用里式替换原则，用父类容器装载子类对象时我们通过该父类容器调用其中的一个虚函数，执行的逻辑是父类中的还是子类中的逻辑呢？ 我们在游戏开发时，想要获取系统时间，应该如何获取？C#使用 var 声明临时变量相比用指定变量类型声明临时变量，在最终执行时是否会增加性能消耗？int a &#x3D; 10;int b &#x3D; a;b &#x3D; 20;我们知道，上述代码 b 改为 20 后，a 还是 10。（值类型的特点）我们是否可以简单修改以上代码，让 b 变成 20 后，a 跟着一起变。请说出修改方案 我们可以使用...</div></div></div></a><a class="pagination-related" href="/posts/cbdf6728/" title="Unity 面试题 - Lua 相关"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-06</div><div class="info-item-2">Unity 面试题 - Lua 相关</div></div><div class="info-2"><div class="info-item-1">热更新流程简述获取对比文件：从远程服务器下载一个用于对比的文件，该文件记录了当前可用资源的版本号或哈希值等信息。 对比本地资源和远程资源：将下载的对比文件与本地保存的对比文件进行比较，以确定本地资源和远程资源之间的差异。根据比较结果，确定需要更新的资源和需要移除的资源。 资源更新和移除：下载远程服务器上与本地资源不同的更新文件，并覆盖本地对应的资源文件，或者直接将更新的资源文件添加到本地资源目录。根据对比结果，删除本地不再需要的资源文件。 更新对比文件：将下载的远程对比文件替换本地保存的对比文件，以保持本地对比文件与服务器端一致，为下一次热更新做准备。 在 Unity 中 AssetBundle 的压缩方式有不压缩、LZMA、LZ4 三种，请问 LZMA 和 LZ4 有什么区别？🟡 Lua 面向对象的三大特性Lua 如何实现面向对象的三大特性 封装：可以通过 table 进行实现。在 Lua 中，我们可以将对象的属性和方法放入一个 table 中，然后对该 table 进行操作，从而达到封装的效果。 1234567891011121314151617Object =...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://pic.imgdb.cn/item/65b2a3e9871b83018a2fa6bd.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Aki_CCLing</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">29</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/AkiCCLing" target="_blank" title="GitHub"><i class="fa-brands fa-github" style="color: #1E3050;"></i></a><a class="social-icon" href="https://space.bilibili.com/5840406" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili" style="color: #FF6699;"></i></a><a class="social-icon" href="https://steamcommunity.com/id/AKIYC/" target="_blank" title="Steam"><i class="fa-brands fa-steam" style="color: #1E3050;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">一个ACGN爱好者的Blog，有问题与我交流可在Bilibili 留言 / 私信，谢谢你的关注。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">Unity 环境搭建</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E5%BC%95%E6%93%8E%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">2.</span> <span class="toc-text">Unity 引擎是什么</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">2.1.</span> <span class="toc-text">游戏引擎是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E%E5%AF%B9%E4%BA%8E%E6%88%91%E4%BB%AC%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">2.2.</span> <span class="toc-text">游戏引擎对于我们的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0-Unity"><span class="toc-number">2.3.</span> <span class="toc-text">如何学习 Unity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B%E5%92%8C%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">3.</span> <span class="toc-text">新建工程和工程文件夹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">3.1.</span> <span class="toc-text">工程文件夹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E7%95%8C%E9%9D%A2%E5%9F%BA%E7%A1%80"><span class="toc-number">4.</span> <span class="toc-text">Unity 界面基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Scene-%E5%92%8C-Hierarchy-%E7%AA%97%E5%8F%A3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">5.</span> <span class="toc-text">Scene 和 Hierarchy 窗口 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Scene-%E5%92%8C-Hierarchy"><span class="toc-number">5.1.</span> <span class="toc-text">Scene 和 Hierarchy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hierarchy-%E5%B1%82%E7%BA%A7%E7%AA%97%E5%8F%A3"><span class="toc-number">5.2.</span> <span class="toc-text">Hierarchy 层级窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scene-%E5%9C%BA%E6%99%AF%E7%AA%97%E5%8F%A3"><span class="toc-number">5.3.</span> <span class="toc-text">Scene 场景窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%B4"><span class="toc-number">5.3.1.</span> <span class="toc-text">坐标轴</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E6%8D%B7%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="toc-number">5.3.2.</span> <span class="toc-text">快捷工具栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">5.3.3.</span> <span class="toc-text">快捷键操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A6%E9%94%AE%E7%9B%B8%E5%85%B3"><span class="toc-number">5.3.3.1.</span> <span class="toc-text">左键相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%B3%E9%94%AE%E7%9B%B8%E5%85%B3"><span class="toc-number">5.3.3.2.</span> <span class="toc-text">右键相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E9%94%AE%E7%9B%B8%E5%85%B3"><span class="toc-number">5.3.3.3.</span> <span class="toc-text">中键相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">5.3.3.4.</span> <span class="toc-text">其他</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">5.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Game-%E5%92%8C-Project-%E7%AA%97%E5%8F%A3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">6.</span> <span class="toc-text">Game 和 Project 窗口 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Game-%E6%B8%B8%E6%88%8F%E7%AA%97%E5%8F%A3"><span class="toc-number">6.1.</span> <span class="toc-text">Game 游戏窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Project-%E5%B7%A5%E7%A8%8B%E7%AA%97%E5%8F%A3"><span class="toc-number">6.2.</span> <span class="toc-text">Project 工程窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Project-%E5%B7%A5%E7%A8%8B%E7%AA%97%E5%8F%A3%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">6.2.1.</span> <span class="toc-text">Project 工程窗口默认文件夹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Project-%E5%B7%A5%E7%A8%8B%E7%AA%97%E5%8F%A3%E5%85%B3%E9%94%AE%E5%8A%9F%E8%83%BD"><span class="toc-number">6.2.2.</span> <span class="toc-text">Project 工程窗口关键功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.2.3.</span> <span class="toc-text">资源类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">6.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Inspector-%E5%92%8C-Console-%E7%AA%97%E5%8F%A3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">7.</span> <span class="toc-text">Inspector 和 Console 窗口 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Inspector-%E5%92%8C-Console"><span class="toc-number">7.1.</span> <span class="toc-text">Inspector 和 Console</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inspector-%E6%A3%80%E6%9F%A5%E7%AA%97%E5%8F%A3"><span class="toc-number">7.2.</span> <span class="toc-text">Inspector 检查窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Console-%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%AA%97%E5%8F%A3"><span class="toc-number">7.3.</span> <span class="toc-text">Console 控制台窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">7.4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98"><span class="toc-number">7.5.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%A0%8F%E5%92%8C%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">8.</span> <span class="toc-text">工具栏和父子关系 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="toc-number">8.1.</span> <span class="toc-text">工具栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB"><span class="toc-number">8.2.</span> <span class="toc-text">对象的父子关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">8.3.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A0%E9%A2%98"><span class="toc-number">8.4.</span> <span class="toc-text">习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">9.</span> <span class="toc-text">Unity 工作原理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E5%92%8C%E6%B8%B8%E6%88%8F%E5%9C%BA%E6%99%AF-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">10.</span> <span class="toc-text">反射机制和游戏场景 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Unity-%E4%B8%AD%E7%9A%84%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6"><span class="toc-number">10.1.</span> <span class="toc-text">1.Unity 中的反射机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E5%BF%86%E4%B8%80%E4%B8%8B%E5%8F%8D%E5%B0%84%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">10.1.1.</span> <span class="toc-text">回忆一下反射的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">10.1.2.</span> <span class="toc-text">场景中对象的本质是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transform-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">10.1.3.</span> <span class="toc-text">Transform 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E7%9A%84%E4%BD%93%E7%8E%B0"><span class="toc-number">10.1.4.</span> <span class="toc-text">反射机制的体现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%A4%BA%E8%A1%A8%E7%8E%B0"><span class="toc-number">10.1.5.</span> <span class="toc-text">图示表现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BE%E4%BE%8B%E4%BD%93%E7%8E%B0"><span class="toc-number">10.1.6.</span> <span class="toc-text">举例体现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%B8%B8%E6%88%8F%E5%9C%BA%E6%99%AF"><span class="toc-number">10.2.</span> <span class="toc-text">2.游戏场景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">10.2.1.</span> <span class="toc-text">基本知识点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F%E5%9C%BA%E6%99%AF%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">10.2.2.</span> <span class="toc-text">游戏场景的本质</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E8%84%9A%E6%9C%AC%E5%9F%BA%E7%A1%80"><span class="toc-number">11.</span> <span class="toc-text">Unity 脚本基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A2%84%E8%AE%BE%E4%BD%93%E5%92%8C%E8%B5%84%E6%BA%90%E5%8C%85%E7%9A%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">12.</span> <span class="toc-text">预设体和资源包的导入导出 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%A2%84%E5%88%B6%E4%BD%93"><span class="toc-number">12.1.</span> <span class="toc-text">1.预制体</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%A2%84%E5%88%B6%E4%BD%93%EF%BC%9F"><span class="toc-number">12.1.1.</span> <span class="toc-text">什么是预制体？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%88%B6%E4%BD%93%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">12.1.2.</span> <span class="toc-text">预制体的本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Prefab-%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="toc-number">12.1.3.</span> <span class="toc-text">Prefab 的修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UnPack-Prefab"><span class="toc-number">12.1.4.</span> <span class="toc-text">UnPack Prefab</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E7%89%A9%E4%BD%93%E5%8F%B3%E9%94%AE-Prefab"><span class="toc-number">12.1.5.</span> <span class="toc-text">实例物体右键-&gt;Prefab</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E8%B5%84%E6%BA%90%E5%8C%85"><span class="toc-number">12.2.</span> <span class="toc-text">2.导入导出资源包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">13.</span> <span class="toc-text">脚本基本规则 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E8%A7%84%E5%88%99"><span class="toc-number">13.1.</span> <span class="toc-text">1.创建规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-MonoBehavior-%E5%9F%BA%E7%B1%BB"><span class="toc-number">13.2.</span> <span class="toc-text">2.MonoBehavior 基类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%B8%8D%E7%BB%A7%E6%89%BF-MonoBehavior-%E7%9A%84%E7%B1%BB"><span class="toc-number">13.3.</span> <span class="toc-text">3.不继承 MonoBehavior 的类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">13.4.</span> <span class="toc-text">4.脚本执行的顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E9%BB%98%E8%AE%A4%E8%84%9A%E6%9C%AC%E5%86%85%E5%AE%B9"><span class="toc-number">13.5.</span> <span class="toc-text">5.默认脚本内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A0%E9%A2%98-1"><span class="toc-number">13.6.</span> <span class="toc-text">习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%90%E8%80%81%E7%8B%AE%E7%AD%94%E6%A1%88"><span class="toc-number">13.6.1.</span> <span class="toc-text">唐老狮答案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">14.</span> <span class="toc-text">生命周期函数 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BA%86%E8%A7%A3%E5%B8%A7%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">14.1.</span> <span class="toc-text">知识点一 了解帧的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B8%A7"><span class="toc-number">14.1.1.</span> <span class="toc-text">什么是帧?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unity-%E5%BD%93%E4%B8%AD%E7%9A%84%E6%B8%B8%E6%88%8F%E6%AD%BB%E5%BE%AA%E7%8E%AF"><span class="toc-number">14.1.2.</span> <span class="toc-text">Unity 当中的游戏死循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">14.2.</span> <span class="toc-text">知识点二 生命周期函数的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">14.3.</span> <span class="toc-text">知识点三 生命周期函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Awake"><span class="toc-number">14.3.1.</span> <span class="toc-text">Awake</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-Unity-%E4%B8%AD%E6%89%93%E5%8D%B0%E4%BF%A1%E6%81%AF%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">14.3.2.</span> <span class="toc-text">在 Unity 中打印信息的两种方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OnEnable"><span class="toc-number">14.3.3.</span> <span class="toc-text">OnEnable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Start"><span class="toc-number">14.3.4.</span> <span class="toc-text">Start</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FixedUpdate"><span class="toc-number">14.3.5.</span> <span class="toc-text">FixedUpdate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Update"><span class="toc-number">14.3.6.</span> <span class="toc-text">Update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LateUpdate"><span class="toc-number">14.3.7.</span> <span class="toc-text">LateUpdate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OnDisable"><span class="toc-number">14.3.8.</span> <span class="toc-text">OnDisable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OnDestroy"><span class="toc-number">14.3.9.</span> <span class="toc-text">OnDestroy</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0-%E6%94%AF%E6%8C%81%E7%BB%A7%E6%89%BF%E5%A4%9A%E6%80%81"><span class="toc-number">14.4.</span> <span class="toc-text">知识点四 生命周期函数 支持继承多态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">14.5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-1"><span class="toc-number">14.6.</span> <span class="toc-text">练习题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%94%E6%A1%88"><span class="toc-number">14.7.</span> <span class="toc-text">答案</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E5%9F%BA%E6%9C%AC%E8%A7%84%E5%88%99%E8%A1%A5%E5%85%85-%E5%85%B3%E4%BA%8E%E7%BB%A7%E6%89%BF-Mono-%E7%9A%84%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">15.</span> <span class="toc-text">脚本基本规则补充 关于继承 Mono 的类的构造函数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E6%98%AF%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BA%BF%E7%A8%8B%E4%B8%AD%E6%89%A7%E8%A1%8C%E7%9A%84%E5%90%97%EF%BC%9F"><span class="toc-number">16.</span> <span class="toc-text">不同对象的生命周期函数是在同一个线程中执行的吗？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Inspector-%E7%AA%97%E5%8F%A3%E5%8F%AF%E7%BC%96%E8%BE%91%E7%9A%84%E5%8F%98%E9%87%8F-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">17.</span> <span class="toc-text">Inspector 窗口可编辑的变量 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%A7%81%E6%9C%89%E5%92%8C%E4%BF%9D%E6%8A%A4%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%BC%96%E8%BE%91"><span class="toc-number">17.1.</span> <span class="toc-text">知识点一 私有和保护无法显示编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E8%AE%A9%E7%A7%81%E6%9C%89%E7%9A%84%E5%92%8C%E4%BF%9D%E6%8A%A4%E7%9A%84%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%A2%AB%E6%98%BE%E7%A4%BA"><span class="toc-number">17.2.</span> <span class="toc-text">知识点二 让私有的和保护的也可以被显示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%85%AC%E5%85%B1%E7%9A%84%E5%8F%AF%E4%BB%A5%E6%98%BE%E7%A4%BA%E7%BC%96%E8%BE%91"><span class="toc-number">17.3.</span> <span class="toc-text">知识点三 公共的可以显示编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%85%AC%E5%85%B1%E7%9A%84%E4%B9%9F%E4%B8%8D%E8%AE%A9%E5%85%B6%E6%98%BE%E7%A4%BA%E7%BC%96%E8%BE%91"><span class="toc-number">17.4.</span> <span class="toc-text">知识点四 公共的也不让其显示编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E5%A4%A7%E9%83%A8%E5%88%86%E7%B1%BB%E5%9E%8B%E9%83%BD%E8%83%BD%E6%98%BE%E7%A4%BA%E7%BC%96%E8%BE%91"><span class="toc-number">17.5.</span> <span class="toc-text">知识点五 大部分类型都能显示编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%85%AD-%E8%AE%A9%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E5%8F%AF%E4%BB%A5%E8%A2%AB%E8%AE%BF%E9%97%AE"><span class="toc-number">17.6.</span> <span class="toc-text">知识点六 让自定义类型可以被访问</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%83-%E4%B8%80%E4%BA%9B%E8%BE%85%E5%8A%A9%E7%89%B9%E6%80%A7"><span class="toc-number">17.7.</span> <span class="toc-text">知识点七 一些辅助特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%86%E7%BB%84%E8%AF%B4%E6%98%8E%E7%89%B9%E6%80%A7-Header"><span class="toc-number">17.7.1.</span> <span class="toc-text">1.分组说明特性 Header</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%82%AC%E5%81%9C%E6%B3%A8%E9%87%8A-Tooltip"><span class="toc-number">17.7.2.</span> <span class="toc-text">2.悬停注释 Tooltip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%97%B4%E9%9A%94%E7%89%B9%E6%80%A7-Space"><span class="toc-number">17.7.3.</span> <span class="toc-text">3.间隔特性 Space()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BF%AE%E9%A5%B0%E6%95%B0%E5%80%BC%E7%9A%84%E6%BB%91%E6%9D%A1%E8%8C%83%E5%9B%B4-Range"><span class="toc-number">17.7.4.</span> <span class="toc-text">4.修饰数值的滑条范围 Range</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A4%9A%E8%A1%8C%E6%98%BE%E7%A4%BA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">17.7.5.</span> <span class="toc-text">5.多行显示字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%BB%9A%E5%8A%A8%E6%9D%A1%E6%98%BE%E7%A4%BA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">17.7.6.</span> <span class="toc-text">6.滚动条显示字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%B8%BA%E5%8F%98%E9%87%8F%E6%B7%BB%E5%8A%A0%E5%BF%AB%E6%8D%B7%E6%96%B9%E6%B3%95"><span class="toc-number">17.7.7.</span> <span class="toc-text">7.为变量添加快捷方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%B8%BA%E6%96%B9%E6%B3%95%E6%B7%BB%E5%8A%A0%E7%89%B9%E6%80%A7%E8%83%BD%E5%A4%9F%E5%9C%A8-Inspector-%E4%B8%AD%E6%89%A7%E8%A1%8C"><span class="toc-number">17.7.8.</span> <span class="toc-text">8.为方法添加特性能够在 Inspector 中执行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">17.8.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-2"><span class="toc-number">17.9.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MonoBehavior-%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">18.</span> <span class="toc-text">MonoBehavior 中的重要内容 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%87%8D%E8%A6%81%E6%88%90%E5%91%98"><span class="toc-number">18.1.</span> <span class="toc-text">知识点一 重要成员</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%87%8D%E8%A6%81%E6%96%B9%E6%B3%95"><span class="toc-number">18.2.</span> <span class="toc-text">知识点二 重要方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BE%97%E5%88%B0%E8%87%AA%E5%B7%B1%E6%8C%82%E8%BD%BD%E7%9A%84%E5%8D%95%E4%B8%AA%E8%84%9A%E6%9C%AC"><span class="toc-number">18.2.1.</span> <span class="toc-text">1.得到自己挂载的单个脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BE%97%E5%88%B0%E8%87%AA%E5%B7%B1%E6%8C%82%E8%BD%BD%E7%9A%84%E5%A4%9A%E4%B8%AA%E8%84%9A%E6%9C%AC"><span class="toc-number">18.2.2.</span> <span class="toc-text">2.得到自己挂载的多个脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BE%97%E5%88%B0%E5%AD%90%E5%AF%B9%E8%B1%A1%E6%8C%82%E8%BD%BD%E7%9A%84%E8%84%9A%E6%9C%AC-%E5%AE%83%E9%BB%98%E8%AE%A4%E4%B9%9F%E4%BC%9A%E6%89%BE%E8%87%AA%E5%B7%B1%E8%BA%AB%E4%B8%8A%E6%98%AF%E5%90%A6%E6%8C%82%E8%BD%BD%E8%AF%A5%E8%84%9A%E6%9C%AC"><span class="toc-number">18.2.3.</span> <span class="toc-text">3.得到子对象挂载的脚本(它默认也会找自己身上是否挂载该脚本)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%BE%97%E5%88%B0%E7%88%B6%E5%AF%B9%E8%B1%A1%E6%8C%82%E8%BD%BD%E7%9A%84%E8%84%9A%E6%9C%AC-%E5%AE%83%E9%BB%98%E8%AE%A4%E4%B9%9F%E4%BC%9A%E6%89%BE%E8%87%AA%E5%B7%B1%E8%BA%AB%E4%B8%8A%E6%98%AF%E5%90%A6%E6%8C%82%E8%BD%BD%E8%AF%A5%E8%84%9A%E6%9C%AC"><span class="toc-number">18.2.4.</span> <span class="toc-text">4.得到父对象挂载的脚本(它默认也会找自己身上是否挂载该脚本)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%B0%9D%E8%AF%95%E8%8E%B7%E5%8F%96%E8%84%9A%E6%9C%AC"><span class="toc-number">18.2.5.</span> <span class="toc-text">5.尝试获取脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-3"><span class="toc-number">18.3.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98"><span class="toc-number">18.3.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98"><span class="toc-number">18.3.2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%A2%98"><span class="toc-number">18.3.3.</span> <span class="toc-text">第三题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E6%80%BB%E7%BB%93"><span class="toc-number">19.</span> <span class="toc-text">基础知识 总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E9%87%8D%E8%A6%81%E7%BB%84%E4%BB%B6%E5%92%8C-API"><span class="toc-number">20.</span> <span class="toc-text">Unity 重要组件和 API</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#GameObject-%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">21.</span> <span class="toc-text">GameObject 成员变量 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%87%8D%E8%A6%81%E6%88%90%E5%91%98%EF%BC%88%E5%AD%97%E6%AE%B5%EF%BC%89"><span class="toc-number">21.1.</span> <span class="toc-text">知识点一 重要成员（字段）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-GameObject-%E4%B8%AD%E7%9A%84%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">21.2.</span> <span class="toc-text">知识点二 GameObject 中的静态方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B8%A6%E5%87%A0%E4%BD%95%E4%BD%93"><span class="toc-number">21.2.1.</span> <span class="toc-text">创建自带几何体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%AF%B9%E8%B1%A1%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86"><span class="toc-number">21.2.2.</span> <span class="toc-text">查找对象相关的知识</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%AF%B9%E8%B1%A1%E5%90%8D%E6%9F%A5%E6%89%BE"><span class="toc-number">21.2.2.1.</span> <span class="toc-text">通过对象名查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-tag-%E6%9D%A5%E6%9F%A5%E6%89%BE%E5%AF%B9%E8%B1%A1"><span class="toc-number">21.2.2.2.</span> <span class="toc-text">通过 tag 来查找对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="toc-number">21.2.2.3.</span> <span class="toc-text">其他方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%9D%E5%A4%96%E7%9F%A5%E8%AF%86%E8%A1%A5%E5%85%85"><span class="toc-number">21.2.3.</span> <span class="toc-text">额外知识补充</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AF%B9%E8%B1%A1%EF%BC%88%E5%85%8B%E9%9A%86%E5%AF%B9%E8%B1%A1%EF%BC%89%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.2.4.</span> <span class="toc-text">实例化对象（克隆对象）的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">21.2.5.</span> <span class="toc-text">删除对象的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E5%9C%BA%E6%99%AF%E4%B8%8D%E7%A7%BB%E9%99%A4"><span class="toc-number">21.2.6.</span> <span class="toc-text">过场景不移除</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-GameObject-%E4%B8%AD%E7%9A%84%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="toc-number">21.3.</span> <span class="toc-text">知识点三 GameObject 中的成员方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%A9%BA%E7%89%A9%E4%BD%93"><span class="toc-number">21.3.1.</span> <span class="toc-text">创建空物体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E8%84%9A%E6%9C%AC"><span class="toc-number">21.3.2.</span> <span class="toc-text">为对象添加脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E6%AF%94%E8%BE%83"><span class="toc-number">21.3.3.</span> <span class="toc-text">标签比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%BF%80%E6%B4%BB%E5%A4%B1%E6%B4%BB"><span class="toc-number">21.3.4.</span> <span class="toc-text">设置激活失活</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E6%B6%88%E6%81%AF"><span class="toc-number">21.3.5.</span> <span class="toc-text">广播消息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-number">21.4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-4"><span class="toc-number">21.5.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-1"><span class="toc-number">21.5.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-1"><span class="toc-number">21.5.2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%A2%98-1"><span class="toc-number">21.5.3.</span> <span class="toc-text">第三题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Time-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">22.</span> <span class="toc-text">Time 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E6%97%B6%E9%97%B4%E7%BC%A9%E6%94%BE%E6%AF%94%E4%BE%8B"><span class="toc-number">22.1.</span> <span class="toc-text">知识点一 时间缩放比例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%B8%A7%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4"><span class="toc-number">22.2.</span> <span class="toc-text">知识点二 帧间隔时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%A7%8B%E5%88%B0%E7%8E%B0%E5%9C%A8%E7%9A%84%E6%97%B6%E9%97%B4"><span class="toc-number">22.3.</span> <span class="toc-text">知识点三 游戏开始到现在的时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E7%89%A9%E7%90%86%E5%B8%A7%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4"><span class="toc-number">22.4.</span> <span class="toc-text">知识点四 物理帧间隔时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E5%B8%A7%E6%95%B0"><span class="toc-number">22.5.</span> <span class="toc-text">知识点五 帧数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-5"><span class="toc-number">22.6.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-2"><span class="toc-number">22.6.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-2"><span class="toc-number">22.6.2.</span> <span class="toc-text">第二题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%85%E4%B8%8D%E5%8F%AF%E5%B0%91%E7%9A%84-Transform"><span class="toc-number">23.</span> <span class="toc-text">必不可少的 Transform</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vector3-%E5%9F%BA%E7%A1%80%E5%92%8C%E4%BD%8D%E7%BD%AE%E7%9B%B8%E5%85%B3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">24.</span> <span class="toc-text">Vector3 基础和位置相关 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Transform-%E4%B8%BB%E8%A6%81%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%98%9B%EF%BC%9F"><span class="toc-number">24.1.</span> <span class="toc-text">Transform 主要用来干嘛？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86%E7%82%B9-Vector3-%E5%9F%BA%E7%A1%80"><span class="toc-number">24.2.</span> <span class="toc-text">知识点一 必备知识点 Vector3 基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%BD%8D%E7%BD%AE"><span class="toc-number">24.3.</span> <span class="toc-text">知识点二 位置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#position-%E5%92%8C-localPostion"><span class="toc-number">24.3.1.</span> <span class="toc-text">position 和 localPostion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%BD%8D%E7%BD%AE"><span class="toc-number">24.3.2.</span> <span class="toc-text">修改位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%BB%A5%E5%BD%93%E5%89%8D%E7%89%A9%E4%BD%93%E4%B8%BA%E5%8F%82%E7%85%A7%E7%9A%84%E5%85%B6%E4%BB%96%E6%9C%9D%E5%90%91%E4%BD%8D%E7%BD%AE"><span class="toc-number">24.3.3.</span> <span class="toc-text">获取以当前物体为参照的其他朝向位置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E4%BD%8D%E7%A7%BB"><span class="toc-number">24.4.</span> <span class="toc-text">知识点三 位移</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%8C%E8%87%AA%E5%B7%B1%E8%AE%A1%E7%AE%97"><span class="toc-number">24.4.1.</span> <span class="toc-text">方式一，自己计算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%8C%E8%B0%83%E7%94%A8-API"><span class="toc-number">24.4.2.</span> <span class="toc-text">方式二，调用 API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-7"><span class="toc-number">24.5.</span> <span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector3"><span class="toc-number">24.5.1.</span> <span class="toc-text">Vector3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%EF%BC%88transform-position"><span class="toc-number">24.5.2.</span> <span class="toc-text">位置（transform.position)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E4%BA%8E%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E7%B3%BB%E5%92%8C%E7%9B%B8%E5%AF%B9%E4%BA%8E%E7%88%B6%E5%AF%B9%E8%B1%A1%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%9D%90%E6%A0%87%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">24.5.2.1.</span> <span class="toc-text">相对于世界坐标系和相对于父对象这两个坐标的区别?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E8%83%BD%E5%A4%9F%E5%8D%95%E7%8B%AC%E4%BF%AE%E6%94%B9-xyz%EF%BC%8C%E5%8F%AA%E8%83%BD%E4%B8%80%E8%B5%B7%E7%BB%9F%E4%B8%80%E6%94%B9%EF%BC%9F"><span class="toc-number">24.5.2.2.</span> <span class="toc-text">不能够单独修改 xyz，只能一起统一改？</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%A7%BB%EF%BC%88transform-Translate"><span class="toc-number">24.5.3.</span> <span class="toc-text">位移（transform.Translate)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%B7%B1%E4%BF%AE%E6%94%B9"><span class="toc-number">24.5.3.1.</span> <span class="toc-text">自己修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E7%94%A8-API"><span class="toc-number">24.5.3.2.</span> <span class="toc-text">调用 API</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-6"><span class="toc-number">24.6.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-3"><span class="toc-number">24.6.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-3"><span class="toc-number">24.6.2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%A2%98-2"><span class="toc-number">24.6.3.</span> <span class="toc-text">第三题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%92%E5%BA%A6%E5%92%8C%E6%97%8B%E8%BD%AC-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">25.</span> <span class="toc-text">角度和旋转 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E8%A7%92%E5%BA%A6%E7%9B%B8%E5%85%B3"><span class="toc-number">25.1.</span> <span class="toc-text">知识点一 角度相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%97%8B%E8%BD%AC%E7%9B%B8%E5%85%B3"><span class="toc-number">25.2.</span> <span class="toc-text">知识点二 旋转相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#API"><span class="toc-number">25.2.1.</span> <span class="toc-text">API</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-7"><span class="toc-number">25.3.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-4"><span class="toc-number">25.3.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-4"><span class="toc-number">25.3.2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%A2%98-3"><span class="toc-number">25.3.3.</span> <span class="toc-text">第三题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-1"><span class="toc-number">25.3.4.</span> <span class="toc-text">答案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BC%A9%E6%94%BE%E5%92%8C%E7%9C%8B%E5%90%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">26.</span> <span class="toc-text">缩放和看向 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%BC%A9%E6%94%BE"><span class="toc-number">26.1.</span> <span class="toc-text">知识点一 缩放</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%9C%8B%E5%90%91"><span class="toc-number">26.2.</span> <span class="toc-text">知识点二 看向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-8"><span class="toc-number">26.3.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-8"><span class="toc-number">26.4.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E5%85%B3%E7%B3%BB-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">27.</span> <span class="toc-text">父子关系 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E8%8E%B7%E5%8F%96%E5%92%8C%E8%AE%BE%E7%BD%AE%E7%88%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">27.1.</span> <span class="toc-text">知识点一 获取和设置父对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%8A%9B%E5%A6%BB%E5%BC%83%E5%AD%90"><span class="toc-number">27.2.</span> <span class="toc-text">知识点二 抛妻弃子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E8%8E%B7%E5%8F%96%E5%AD%90%E5%AF%B9%E8%B1%A1"><span class="toc-number">27.3.</span> <span class="toc-text">知识点三 获取子对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#transform-Find"><span class="toc-number">27.3.1.</span> <span class="toc-text">transform.Find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%84%BF%E5%AD%90"><span class="toc-number">27.3.2.</span> <span class="toc-text">遍历儿子</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%84%BF%E5%AD%90%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">27.4.</span> <span class="toc-text">知识点四 儿子的操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-9"><span class="toc-number">27.5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-9"><span class="toc-number">27.6.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-5"><span class="toc-number">27.6.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-5"><span class="toc-number">27.6.2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-2"><span class="toc-number">27.6.3.</span> <span class="toc-text">答案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">28.</span> <span class="toc-text">坐标转换 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E8%BD%AC%E6%9C%AC%E5%9C%B0%E5%9D%90%E6%A0%87"><span class="toc-number">28.1.</span> <span class="toc-text">知识点一 世界坐标转本地坐标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%9C%AC%E5%9C%B0%E5%9D%90%E6%A0%87%E8%BD%AC%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87"><span class="toc-number">28.2.</span> <span class="toc-text">知识点二 本地坐标转世界坐标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-10"><span class="toc-number">28.3.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-6"><span class="toc-number">28.3.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-6"><span class="toc-number">28.3.2.</span> <span class="toc-text">第二题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-3"><span class="toc-number">28.3.3.</span> <span class="toc-text">答案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Input-%E9%BC%A0%E6%A0%87%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">29.</span> <span class="toc-text">Input 鼠标键盘输入 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%BC%A0%E6%A0%87%E5%9C%A8%E5%B1%8F%E5%B9%95%E4%BD%8D%E7%BD%AE"><span class="toc-number">29.1.</span> <span class="toc-text">知识点一 鼠标在屏幕位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%A3%80%E6%B5%8B%E9%BC%A0%E6%A0%87%E8%BE%93%E5%85%A5"><span class="toc-number">29.2.</span> <span class="toc-text">知识点二 检测鼠标输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%A3%80%E6%B5%8B%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="toc-number">29.3.</span> <span class="toc-text">知识点三 检测键盘输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E6%A3%80%E6%B5%8B%E9%BB%98%E8%AE%A4%E8%BD%B4%E8%BE%93%E5%85%A5"><span class="toc-number">29.4.</span> <span class="toc-text">知识点四 检测默认轴输入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Input-%E8%A7%A6%E6%91%B8%E6%89%8B%E6%9F%84%E9%99%80%E8%9E%BA%E4%BB%AA-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">30.</span> <span class="toc-text">Input 触摸手柄陀螺仪 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E5%AE%83"><span class="toc-number">30.1.</span> <span class="toc-text">其它</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E6%9F%84%E8%BE%93%E5%85%A5%E7%9B%B8%E5%85%B3"><span class="toc-number">30.2.</span> <span class="toc-text">手柄输入相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%A7%A6%E6%91%B8%E7%9B%B8%E5%85%B3"><span class="toc-number">30.3.</span> <span class="toc-text">移动设备触摸相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%80%E8%9E%BA%E4%BB%AA%EF%BC%88%E9%87%8D%E5%8A%9B%E6%84%9F%E5%BA%94%EF%BC%89"><span class="toc-number">30.4.</span> <span class="toc-text">陀螺仪（重力感应）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-10"><span class="toc-number">30.5.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-11"><span class="toc-number">30.6.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-7"><span class="toc-number">30.6.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-7"><span class="toc-number">30.6.2.</span> <span class="toc-text">第二题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B1%8F%E5%B9%95%E7%9B%B8%E5%85%B3-Screen-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">31.</span> <span class="toc-text">屏幕相关 Screen 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%9D%99%E6%80%81%E5%B1%9E%E6%80%A7"><span class="toc-number">31.1.</span> <span class="toc-text">知识点一 静态属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8"><span class="toc-number">31.1.1.</span> <span class="toc-text">常用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%B8%B8%E7%94%A8"><span class="toc-number">31.1.2.</span> <span class="toc-text">不常用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-12"><span class="toc-number">31.2.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-4"><span class="toc-number">31.2.1.</span> <span class="toc-text">答案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Camera-%E5%8F%AF%E7%BC%96%E8%BE%91%E5%8F%82%E6%95%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">32.</span> <span class="toc-text">Camera 可编辑参数 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E9%87%8D%E8%A6%81%E7%9A%84"><span class="toc-number">32.1.</span> <span class="toc-text">常用重要的</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Clear-Flags"><span class="toc-number">32.1.1.</span> <span class="toc-text">Clear Flags</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Background"><span class="toc-number">32.1.2.</span> <span class="toc-text">Background</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Culling-Mask"><span class="toc-number">32.1.3.</span> <span class="toc-text">Culling Mask</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Projection"><span class="toc-number">32.1.4.</span> <span class="toc-text">Projection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FOV-Axis"><span class="toc-number">32.1.5.</span> <span class="toc-text">FOV Axis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Field-of-view"><span class="toc-number">32.1.6.</span> <span class="toc-text">Field of view</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Size"><span class="toc-number">32.1.7.</span> <span class="toc-text">Size</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Clipping-Planes"><span class="toc-number">32.1.8.</span> <span class="toc-text">Clipping Planes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Depth"><span class="toc-number">32.1.9.</span> <span class="toc-text">Depth</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TargetTexture"><span class="toc-number">32.1.10.</span> <span class="toc-text">TargetTexture</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Occlusion-Culling"><span class="toc-number">32.1.11.</span> <span class="toc-text">Occlusion Culling</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96-1"><span class="toc-number">32.2.</span> <span class="toc-text">其他</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Viewport-Rect"><span class="toc-number">32.2.1.</span> <span class="toc-text">Viewport Rect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Rendering-Path"><span class="toc-number">32.2.2.</span> <span class="toc-text">Rendering Path</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HDR"><span class="toc-number">32.2.3.</span> <span class="toc-text">HDR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MSAA"><span class="toc-number">32.2.4.</span> <span class="toc-text">MSAA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dynamic-Resolution"><span class="toc-number">32.2.5.</span> <span class="toc-text">Dynamic Resolution</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Target-Display"><span class="toc-number">32.2.6.</span> <span class="toc-text">Target Display</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-13"><span class="toc-number">32.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Camera-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">33.</span> <span class="toc-text">Camera 代码相关 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%87%8D%E8%A6%81%E9%9D%99%E6%80%81%E6%88%90%E5%91%98"><span class="toc-number">33.1.</span> <span class="toc-text">知识点一 重要静态成员</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%8E%B7%E5%8F%96%E6%91%84%E5%83%8F%E6%9C%BA"><span class="toc-number">33.1.1.</span> <span class="toc-text">1.获取摄像机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B8%B2%E6%9F%93%E7%9B%B8%E5%85%B3%E5%A7%94%E6%89%98"><span class="toc-number">33.1.2.</span> <span class="toc-text">2.渲染相关委托</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%87%8D%E8%A6%81%E6%88%90%E5%91%98"><span class="toc-number">33.2.</span> <span class="toc-text">知识点二 重要成员</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%95%8C%E9%9D%A2%E4%B8%8A%E7%9A%84%E5%8F%82%E6%95%B0-%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%9C%A8-Camera-%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%88%B0"><span class="toc-number">33.2.1.</span> <span class="toc-text">1.界面上的参数 都可以在 Camera 中获取到</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E8%BD%AC%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87"><span class="toc-number">33.2.2.</span> <span class="toc-text">2.世界坐标转屏幕坐标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B1%8F%E5%B9%95%E5%9D%90%E6%A0%87%E8%BD%AC%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87"><span class="toc-number">33.2.3.</span> <span class="toc-text">3.屏幕坐标转世界坐标</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-14"><span class="toc-number">33.3.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-8"><span class="toc-number">33.3.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-8"><span class="toc-number">33.3.2.</span> <span class="toc-text">第二题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F"><span class="toc-number">34.</span> <span class="toc-text">核心系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F%E2%80%94%E5%85%89%E6%BA%90%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80"><span class="toc-number">35.</span> <span class="toc-text">核心系统—光源系统基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%89%E6%BA%90%E7%BB%84%E4%BB%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">36.</span> <span class="toc-text">光源组件 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%9D%A2%E6%9D%BF%E5%8F%82%E6%95%B0"><span class="toc-number">36.1.</span> <span class="toc-text">知识点一 面板参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6"><span class="toc-number">36.2.</span> <span class="toc-text">知识点二 代码控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-15"><span class="toc-number">36.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%89%E9%9D%A2%E6%9D%BF%E7%9B%B8%E5%85%B3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">37.</span> <span class="toc-text">光面板相关 知识点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F%E2%80%94%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B9%8B%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B"><span class="toc-number">38.</span> <span class="toc-text">核心系统—物理系统之碰撞检测</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E4%B9%8B%E5%88%9A%E4%BD%93-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">39.</span> <span class="toc-text">碰撞检测之刚体 知识点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E4%B9%8B%E7%A2%B0%E6%92%9E%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">40.</span> <span class="toc-text">碰撞检测之碰撞器 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">40.1.</span> <span class="toc-text">知识点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-1"><span class="toc-number">40.2.</span> <span class="toc-text">注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E4%B9%8B%E7%89%A9%E7%90%86%E6%9D%90%E8%B4%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">41.</span> <span class="toc-text">碰撞检测之物理材质 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E7%89%A9%E7%90%86%E6%9D%90%E8%B4%A8"><span class="toc-number">41.1.</span> <span class="toc-text">1.创建物理材质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%9D%90%E8%B4%A8%E5%B1%9E%E6%80%A7"><span class="toc-number">41.2.</span> <span class="toc-text">2.材质属性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E4%B9%8B%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E5%87%BD%E6%95%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">42.</span> <span class="toc-text">碰撞检测之碰撞检测函数 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9E%E9%A1%BE"><span class="toc-number">42.1.</span> <span class="toc-text">知识点回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%89%A9%E7%90%86%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E5%93%8D%E5%BA%94%E5%87%BD%E6%95%B0"><span class="toc-number">42.2.</span> <span class="toc-text">知识点一 物理碰撞检测响应函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E8%A7%A6%E5%8F%91%E5%99%A8%E6%A3%80%E6%B5%8B%E5%93%8D%E5%BA%94%E5%87%BD%E6%95%B0"><span class="toc-number">42.3.</span> <span class="toc-text">知识点二 触发器检测响应函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E8%A6%81%E6%98%8E%E7%A1%AE%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E5%93%8D%E5%BA%94%E5%87%BD%E6%95%B0"><span class="toc-number">42.4.</span> <span class="toc-text">知识点三 要明确什么时候会响应函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E7%A2%B0%E6%92%9E%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E5%87%BD%E6%95%B0%E9%83%BD%E5%8F%AF%E4%BB%A5%E5%86%99%E6%88%90%E8%99%9A%E5%87%BD%E6%95%B0-%E5%9C%A8%E5%AD%90%E7%B1%BB%E5%8E%BB%E9%87%8D%E5%86%99%E9%80%BB%E8%BE%91"><span class="toc-number">42.5.</span> <span class="toc-text">知识点四 碰撞和触发器函数都可以写成虚函数 在子类去重写逻辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-16"><span class="toc-number">42.6.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E4%B9%8B%E5%88%9A%E4%BD%93%E5%8A%A0%E5%8A%9B-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">43.</span> <span class="toc-text">碰撞检测之刚体加力 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%88%9A%E4%BD%93%E8%87%AA%E5%B8%A6%E6%B7%BB%E5%8A%A0%E5%8A%9B%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">43.1.</span> <span class="toc-text">知识点一 刚体自带添加力的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%A6%96%E5%85%88%E5%BA%94%E8%AF%A5%E8%8E%B7%E5%8F%96%E5%88%9A%E4%BD%93%E7%BB%84%E4%BB%B6"><span class="toc-number">43.1.1.</span> <span class="toc-text">1.首先应该获取刚体组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B7%BB%E5%8A%A0%E5%8A%9B"><span class="toc-number">43.1.2.</span> <span class="toc-text">2.添加力</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B7%BB%E5%8A%A0%E6%89%AD%E7%9F%A9%E5%8A%9B%EF%BC%8C%E8%AE%A9%E5%85%B6%E6%97%8B%E8%BD%AC"><span class="toc-number">43.1.3.</span> <span class="toc-text">3.添加扭矩力，让其旋转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%9B%B4%E6%8E%A5%E6%94%B9%E5%8F%98%E9%80%9F%E5%BA%A6"><span class="toc-number">43.1.4.</span> <span class="toc-text">4.直接改变速度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%A8%A1%E6%8B%9F%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C"><span class="toc-number">43.1.5.</span> <span class="toc-text">5.模拟爆炸效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8A%9B%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">43.2.</span> <span class="toc-text">知识点二 力的几种模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9B%E7%9A%84%E6%A8%A1%E5%BC%8F"><span class="toc-number">43.2.1.</span> <span class="toc-text">力的模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E9%87%8F%E5%AE%9A%E7%90%86"><span class="toc-number">43.2.2.</span> <span class="toc-text">动量定理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Acceleration"><span class="toc-number">43.2.3.</span> <span class="toc-text">1.Acceleration</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Force"><span class="toc-number">43.2.4.</span> <span class="toc-text">2.Force</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Impulse"><span class="toc-number">43.2.5.</span> <span class="toc-text">3.Impulse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-VelocityChange"><span class="toc-number">43.2.6.</span> <span class="toc-text">4.VelocityChange</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%8A%9B%E5%9C%BA%E8%84%9A%E6%9C%AC"><span class="toc-number">43.3.</span> <span class="toc-text">知识点三 力场脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-17"><span class="toc-number">43.4.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-5"><span class="toc-number">43.4.1.</span> <span class="toc-text">答案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E7%B3%BB%E7%BB%9F%E2%80%94%E9%9F%B3%E6%95%88%E7%B3%BB%E7%BB%9F"><span class="toc-number">44.</span> <span class="toc-text">核心系统—音效系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">45.</span> <span class="toc-text">音频文件导入 知识点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E6%BA%90%E5%92%8C%E9%9F%B3%E9%A2%91%E7%9B%91%E5%90%AC%E8%84%9A%E6%9C%AC-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">46.</span> <span class="toc-text">音频源和音频监听脚本 知识点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6%E9%9F%B3%E9%A2%91%E6%BA%90-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">47.</span> <span class="toc-text">代码控制音频源 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6%E6%92%AD%E6%94%BE%E5%81%9C%E6%AD%A2"><span class="toc-number">47.1.</span> <span class="toc-text">知识点一 代码控制播放停止</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E6%A3%80%E6%B5%8B%E9%9F%B3%E6%95%88%E6%92%AD%E6%94%BE%E5%AE%8C%E6%AF%95"><span class="toc-number">47.2.</span> <span class="toc-text">知识点二 如何检测音效播放完毕</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%A6%82%E4%BD%95%E5%8A%A8%E6%80%81%E6%8E%A7%E5%88%B6%E9%9F%B3%E6%95%88%E6%92%AD%E6%94%BE"><span class="toc-number">47.3.</span> <span class="toc-text">知识点三 如何动态控制音效播放</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">47.3.1.</span> <span class="toc-text">第一种方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">47.3.2.</span> <span class="toc-text">第二种方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%BA%A6%E5%85%8B%E9%A3%8E%E8%BE%93%E5%85%A5%E7%9B%B8%E5%85%B3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">48.</span> <span class="toc-text">麦克风输入相关 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E8%8E%B7%E5%8F%96%E8%AE%BE%E5%A4%87%E9%BA%A6%E5%85%8B%E9%A3%8E%E4%BF%A1%E6%81%AF"><span class="toc-number">48.1.</span> <span class="toc-text">知识点一 获取设备麦克风信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%BC%80%E5%A7%8B%E5%BD%95%E5%88%B6"><span class="toc-number">48.2.</span> <span class="toc-text">知识点二 开始录制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%BB%93%E6%9D%9F%E5%BD%95%E5%88%B6"><span class="toc-number">48.3.</span> <span class="toc-text">知识点三 结束录制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E8%8E%B7%E5%8F%96%E9%9F%B3%E9%A2%91%E6%95%B0%E6%8D%AE%E7%94%A8%E4%BA%8E%E5%AD%98%E5%82%A8%E6%88%96%E8%80%85%E4%BC%A0%E8%BE%93"><span class="toc-number">48.4.</span> <span class="toc-text">知识点四 获取音频数据用于存储或者传输</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity-%E5%85%A5%E9%97%A8%E6%80%BB%E7%BB%93"><span class="toc-number">49.</span> <span class="toc-text">Unity 入门总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E6%9C%9F%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9"><span class="toc-number">49.1.</span> <span class="toc-text">本期学习的主要内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0-Unity-%E6%98%AF%E5%AD%A6%E4%B9%A0%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">49.2.</span> <span class="toc-text">学习 Unity 是学习什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6%E5%A5%BD-Unity%EF%BC%9F"><span class="toc-number">49.3.</span> <span class="toc-text">如何学好 Unity？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E8%B0%83"><span class="toc-number">49.4.</span> <span class="toc-text">强调</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">50.</span> <span class="toc-text">必备知识点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86%E7%82%B9%E2%80%94%E5%9C%BA%E6%99%AF%E5%88%87%E6%8D%A2%E5%92%8C%E9%80%80%E5%87%BA%E6%B8%B8%E6%88%8F"><span class="toc-number">51.</span> <span class="toc-text">必备知识点—场景切换和退出游戏</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%9C%BA%E6%99%AF%E5%88%87%E6%8D%A2"><span class="toc-number">51.1.</span> <span class="toc-text">知识点一 场景切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%80%80%E5%87%BA%E6%B8%B8%E6%88%8F"><span class="toc-number">51.2.</span> <span class="toc-text">知识点二 退出游戏</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86%E7%82%B9%E2%80%94%E9%BC%A0%E6%A0%87%E9%9A%90%E8%97%8F%E9%94%81%E5%AE%9A%E7%9B%B8%E5%85%B3"><span class="toc-number">52.</span> <span class="toc-text">必备知识点—鼠标隐藏锁定相关</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%9A%90%E8%97%8F%E9%BC%A0%E6%A0%87"><span class="toc-number">52.1.</span> <span class="toc-text">知识点一 隐藏鼠标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%94%81%E5%AE%9A%E9%BC%A0%E6%A0%87"><span class="toc-number">52.2.</span> <span class="toc-text">知识点二 锁定鼠标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E8%AE%BE%E7%BD%AE%E9%BC%A0%E6%A0%87%E5%9B%BE%E7%89%87"><span class="toc-number">52.3.</span> <span class="toc-text">知识点三 设置鼠标图片</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86%E7%82%B9%E2%80%94%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%92%8C-Unity-%E8%87%AA%E5%B8%A6%E5%A7%94%E6%89%98%E7%9B%B8%E5%85%B3"><span class="toc-number">53.</span> <span class="toc-text">必备知识点—随机数和 Unity 自带委托相关</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">53.1.</span> <span class="toc-text">知识点一 随机数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Unity-%E4%B8%AD%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">53.1.1.</span> <span class="toc-text">Unity 中的随机数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E4%B8%AD%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0"><span class="toc-number">53.1.2.</span> <span class="toc-text">C#中的随机数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A7%94%E6%89%98"><span class="toc-number">53.2.</span> <span class="toc-text">知识点二 委托</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%85%E5%A4%87%E7%9F%A5%E8%AF%86%E7%82%B9%E2%80%94%E6%A8%A1%E5%9E%8B%E8%B5%84%E6%BA%90%E7%9A%84%E5%AF%BC%E5%85%A5"><span class="toc-number">54.</span> <span class="toc-text">必备知识点—模型资源的导入</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9"><span class="toc-number">54.1.</span> <span class="toc-text">主要内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E7%94%B1%E4%BB%80%E4%B9%88%E6%9E%84%E6%88%90"><span class="toc-number">54.2.</span> <span class="toc-text">模型由什么构成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E6%94%AF%E6%8C%81%E7%9A%84%E6%A8%A1%E5%9E%8B%E6%A0%BC%E5%BC%8F"><span class="toc-number">54.3.</span> <span class="toc-text">Unity 支持的模型格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%8C%87%E5%AF%BC%E7%BE%8E%E6%9C%AF%E5%90%8C%E5%AD%A6%E5%AF%BC%E5%87%BA%E6%A8%A1%E5%9E%8B"><span class="toc-number">54.4.</span> <span class="toc-text">如何指导美术同学导出模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E9%98%B6%E6%AE%B5%E5%93%AA%E9%87%8C%E8%8E%B7%E5%8F%96%E6%A8%A1%E5%9E%8B%E8%B5%84%E6%BA%90"><span class="toc-number">54.5.</span> <span class="toc-text">学习阶段哪里获取模型资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-11"><span class="toc-number">54.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85"><span class="toc-number">55.</span> <span class="toc-text">项目打包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#BuildSetting"><span class="toc-number">55.1.</span> <span class="toc-text">BuildSetting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PlayerSetting-Player-%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9"><span class="toc-number">55.2.</span> <span class="toc-text">PlayerSetting-Player 部分内容</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Resolution"><span class="toc-number">55.2.1.</span> <span class="toc-text">Resolution</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E8%B7%B5%E6%80%BB%E7%BB%93"><span class="toc-number">56.</span> <span class="toc-text">实践总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E5%81%9A%E6%B8%B8%E6%88%8F%E7%9A%84%E5%A5%97%E8%B7%AF"><span class="toc-number">56.1.</span> <span class="toc-text">Unity 做游戏的套路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6%E5%A5%BD-Unity"><span class="toc-number">56.2.</span> <span class="toc-text">如何学好 Unity</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%BE%E5%88%B0%E7%9B%AE%E7%9A%84"><span class="toc-number">56.3.</span> <span class="toc-text">达到目的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">56.4.</span> <span class="toc-text">练习</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/91f34db4/" title="杭州 ACGN 地点游玩推荐 / 攻略"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/69553946_p0.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="杭州 ACGN 地点游玩推荐 / 攻略"/></a><div class="content"><a class="title" href="/posts/91f34db4/" title="杭州 ACGN 地点游玩推荐 / 攻略">杭州 ACGN 地点游玩推荐 / 攻略</a><time datetime="2025-10-22T18:17:26.000Z" title="发表于 2025-10-22 18:17:26">2025-10-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/602d5f17/" title="日本旅行1st"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/noet8h3s.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="日本旅行1st"/></a><div class="content"><a class="title" href="/posts/602d5f17/" title="日本旅行1st">日本旅行1st</a><time datetime="2025-10-22T03:51:24.000Z" title="发表于 2025-10-22 03:51:24">2025-10-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/45e232e1/" title="签名 &amp; 合影 收藏"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/qungz.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="签名 &amp; 合影 收藏"/></a><div class="content"><a class="title" href="/posts/45e232e1/" title="签名 &amp; 合影 收藏">签名 &amp; 合影 收藏</a><time datetime="2025-10-09T12:50:39.000Z" title="发表于 2025-10-09 12:50:39">2025-10-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1161385d/" title="广州 ACGN 地点游玩推荐 / 攻略"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/69553946_p0.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="广州 ACGN 地点游玩推荐 / 攻略"/></a><div class="content"><a class="title" href="/posts/1161385d/" title="广州 ACGN 地点游玩推荐 / 攻略">广州 ACGN 地点游玩推荐 / 攻略</a><time datetime="2025-02-19T00:41:54.000Z" title="发表于 2025-02-19 00:41:54">2025-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/37d9abb5%60/" title="Unity 面试高频题"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity 面试高频题"/></a><div class="content"><a class="title" href="/posts/37d9abb5%60/" title="Unity 面试高频题">Unity 面试高频题</a><time datetime="2024-08-26T02:07:45.000Z" title="发表于 2024-08-26 02:07:45">2024-08-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Aki_CCLing</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 6.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div><div class="footer_custom_text"><a href="https://icp.gov.moe/?keyword=20238180" target="_blank">萌ICP备20238180号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://venerable-smakager-94ad33.netlify.app/.netlify/functions/twikoo',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://venerable-smakager-94ad33.netlify.app/.netlify/functions/twikoo',
      region: 'ap-shanghai',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>