<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity 核心 | Secret Garden</title><meta name="author" content="Aki_CCLing"><meta name="copyright" content="Aki_CCLing"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="概述Unity 入门到精通系列课程——第三部分 Unity 入门 Unity 基础 Unity 核心 Unity 进阶  Unity 入门前情回顾 环境搭建 界面基础 工作原理 脚本基础 重要组件和 API 核心系统  Unity 入门实践回顾 Unity 入门 GUI PlayerPrefs  Unity 基础前情回顾 3D 数学 延迟函数 协同程序 Resources 资源加载 异步加载 Li">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity 核心">
<meta property="og:url" content="https://clearacg.com/posts/f1892bd3/index.html">
<meta property="og:site_name" content="Secret Garden">
<meta property="og:description" content="概述Unity 入门到精通系列课程——第三部分 Unity 入门 Unity 基础 Unity 核心 Unity 进阶  Unity 入门前情回顾 环境搭建 界面基础 工作原理 脚本基础 重要组件和 API 核心系统  Unity 入门实践回顾 Unity 入门 GUI PlayerPrefs  Unity 基础前情回顾 3D 数学 延迟函数 协同程序 Resources 资源加载 异步加载 Li">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg">
<meta property="article:published_time" content="2024-02-23T05:44:01.000Z">
<meta property="article:modified_time" content="2024-02-23T05:44:01.000Z">
<meta property="article:author" content="Aki_CCLing">
<meta property="article:tag" content="Technology">
<meta property="article:tag" content="Code">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg"><link rel="shortcut icon" href="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/202402221339492.webp"><link rel="canonical" href="https://clearacg.com/posts/f1892bd3/index.html"><link rel="preconnect" href="https://cdn.staticfile.org"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//static.cloudflareinsights.com"/><link rel="preconnect" href="//www.clarity.ms"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/5.0.33/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6ec84f1c930ef67ebd0716b3d42538a0";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script defer="defer" data-pjax="data-pjax" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;8c2bdf8651d54d3a82a47995bcb6e5cc&quot;}"></script><script>(function(c,l,a,r,i,t,y){
    c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
    t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
    y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
})(window, document, "clarity", "script", "mvz06k2itn");</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.staticfile.org/egjs-infinitegrid/4.11.1/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity 核心',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-02-23 05:44:01'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/style.css?1"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic.imgdb.cn/item/65b2a3e9871b83018a2fa6bd.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-music"></i><span> 追番</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fas fa-video"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-solid fa-comments"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Secret Garden"><span class="site-name">Secret Garden</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-music"></i><span> 追番</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fas fa-video"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-solid fa-comments"></i><span> 说说</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Unity 核心</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-02-23T05:44:01.000Z" title="发表于 2024-02-23 05:44:01">2024-02-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-02-23T05:44:01.000Z" title="更新于 2024-02-23 05:44:01">2024-02-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Technology/">Technology</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Technology/Unity/">Unity</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Technology/Unity/Unity%E5%9F%BA%E7%A1%80%E5%86%85%E5%AE%B9/">Unity基础内容</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Unity 核心"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="Unity-入门到精通系列课程——第三部分"><a href="#Unity-入门到精通系列课程——第三部分" class="headerlink" title="Unity 入门到精通系列课程——第三部分"></a>Unity 入门到精通系列课程——第三部分</h2><ul>
<li>Unity 入门</li>
<li>Unity 基础</li>
<li>Unity 核心</li>
<li>Unity 进阶</li>
</ul>
<h2 id="Unity-入门前情回顾"><a href="#Unity-入门前情回顾" class="headerlink" title="Unity 入门前情回顾"></a>Unity 入门前情回顾</h2><ul>
<li>环境搭建</li>
<li>界面基础</li>
<li>工作原理</li>
<li>脚本基础</li>
<li>重要组件和 API</li>
<li>核心系统</li>
</ul>
<h2 id="Unity-入门实践回顾"><a href="#Unity-入门实践回顾" class="headerlink" title="Unity 入门实践回顾"></a>Unity 入门实践回顾</h2><ul>
<li>Unity 入门</li>
<li>GUI</li>
<li>PlayerPrefs</li>
</ul>
<h2 id="Unity-基础前情回顾"><a href="#Unity-基础前情回顾" class="headerlink" title="Unity 基础前情回顾"></a>Unity 基础前情回顾</h2><ul>
<li>3D 数学</li>
<li>延迟函数</li>
<li>协同程序</li>
<li>Resources 资源加载</li>
<li>异步加载</li>
<li>LineRenderer</li>
<li>范围检测和射线检测</li>
</ul>
<h2 id="Unity-基础实践回顾"><a href="#Unity-基础实践回顾" class="headerlink" title="Unity 基础实践回顾"></a>Unity 基础实践回顾</h2><ul>
<li>Unity 基础</li>
<li>NGUI</li>
<li>XML</li>
</ul>
<h2 id="目前的状态"><a href="#目前的状态" class="headerlink" title="目前的状态"></a>目前的状态</h2><p>在学习过前两部曲后，你已经掌握的内容</p>
<ol>
<li>1.Unity 引擎的工作原理</li>
<li>2.能够熟练使用 Unity 引擎提供的各个重要组件</li>
<li>3.能够熟练使用 Unity 引擎提供的 API</li>
</ol>
<p>目前除了 2D 和动画相关，其它游戏功能基本已经能够独立制作了。</p>
<h2 id="Unity-核心-主要学习内容"><a href="#Unity-核心-主要学习内容" class="headerlink" title="Unity 核心 主要学习内容"></a>Unity 核心 主要学习内容</h2><h4 id="主要学习内容"><a href="#主要学习内容" class="headerlink" title="主要学习内容"></a>主要学习内容</h4><p>知识点</p>
<ol>
<li>Unity 中的 2D 动画相关</li>
<li>Unity 中的 3D 动画相关</li>
<li>Unity 中的角色控制器</li>
<li>Unity 中的导航寻路系统</li>
</ol>
<h4 id="主要学习方式"><a href="#主要学习方式" class="headerlink" title="主要学习方式"></a>主要学习方式</h4><p>理论+习题+实践</p>
<p>理论：语法操作相关知识</p>
<p>习题：基于知识点的针对性习题</p>
<p>实践：基于知识点的小项目实践</p>
<h3 id="学习建议"><a href="#学习建议" class="headerlink" title="学习建议"></a>学习建议</h3><p>重视基础知识点，多思考多练习。</p>
<p>当我们学习完毕 Unity 核心相关知识点后</p>
<p>你基本已经可以独立完成 90%以上的游戏基础功能</p>
<p>大家要&#x3D;&#x3D;切忌浮躁&#x3D;&#x3D;</p>
<p>好好学习，天天向上</p>
<h1 id="认识模型的制作流程"><a href="#认识模型的制作流程" class="headerlink" title="认识模型的制作流程"></a>认识模型的制作流程</h1><h2 id="学习制作过程的目的"><a href="#学习制作过程的目的" class="headerlink" title="学习制作过程的目的"></a>学习制作过程的目的</h2><p>提前了解一些基本概念，为之后的知识点做准备</p>
<h2 id="模型的制作过程"><a href="#模型的制作过程" class="headerlink" title="模型的制作过程"></a>模型的制作过程</h2><p>美术工种——建模</p>
<ul>
<li>第一步：建模</li>
<li>第二步：展 UV</li>
<li>第三步：材质和纹理贴图</li>
<li>美术工种——动作</li>
<li>第四步：骨骼绑定</li>
<li>第五步：动画制作</li>
</ul>
<h3 id="第一步：建模"><a href="#第一步：建模" class="headerlink" title="第一步：建模"></a>第一步：建模</h3><p>美术同学通过建模软件（3Dmax 或 Maya 等等），用一个个的面片像捏泥人一样将模型制作出来</p>
<p>面片：3 点构成一个面，面的最小单位是三角形，建模时可以使用 3 点以上的面但是建议都使用三角面。</p>
<p>网格信息：一般指的就是模型的这些顶点面片信息</p>
<p>说人话：建模其实就是用三角面组装拼凑捏泥人</p>
<h3 id="第二步：展-UV"><a href="#第二步：展-UV" class="headerlink" title="第二步：展 UV"></a>第二步：展 UV</h3><p>UV 是纹理贴图坐标的简称，它有 U 轴和 V 轴。</p>
<p>类似空间中的 xyz 轴。纹理坐标中的每一个点，都和 3D 模型上的位置信息是相互联系的</p>
<p>展 UV 就好像是把做好的 3D 模型平铺到一张 2D 图片上，并且把这张图片上对应位置的信息和 3D 模型上位置信息对应起来，为之后给模型上色做准备。</p>
<p>说人话：展 UV 就好像把一张纸做的立方体拆开变成一张纸</p>
<h3 id="第三步：材质和纹理贴图"><a href="#第三步：材质和纹理贴图" class="headerlink" title="第三步：材质和纹理贴图"></a>第三步：材质和纹理贴图</h3><p>纹理：一张 2D 图片</p>
<p>贴图：把纹理通过 UV 坐标映射到 3D 物理表面</p>
<p>纹理贴图：代指模型的颜色信息、UV 信息等等</p>
<p>材质：模型的表现，通过纹理贴图提供的信息,使用不同的着色器算法，呈现出不同的表现效果</p>
<p>比如：金属、塑料、玻璃、透明等等效果</p>
<p>着色器：Shader 就是着色器，它决定了材质的表现效果.</p>
<h3 id="第四步：骨骼绑定"><a href="#第四步：骨骼绑定" class="headerlink" title="第四步：骨骼绑定"></a>第四步：骨骼绑定</h3><p>完成前三步后，模型就制作完成了。</p>
<p>接着如果想让模型能够栩栩如生的动起来，首先要进行骨骼绑定；</p>
<p>骨骼绑定就是为模型定义骨骼信息，定义骨骼控制哪些网格信息。</p>
<h3 id="第五步：动画制作"><a href="#第五步：动画制作" class="headerlink" title="第五步：动画制作"></a>第五步：动画制作</h3><p>骨骼绑定完成后，我们就可以利用这些骨骼的旋转来制作 3D 动画了。</p>
<p>在一条时间轴上，制作关键帧的位置，通过一些规则决定从上一关键帧到这一关键帧的变化应该<br>如何过渡，不停的制作关键帧就可以制作出最终的动画效果。</p>
<h2 id="模型的制作过程—总结"><a href="#模型的制作过程—总结" class="headerlink" title="模型的制作过程—总结"></a>模型的制作过程—总结</h2><p>美术工种——建模</p>
<ul>
<li>第一步：建模——三角面片拼凑模型</li>
<li>第二步：展 UV——展开模型的网格到平面上产生映射关系</li>
<li>第三步：材质和纹理贴图——使用 UV 信息画贴图选择材质出效果</li>
</ul>
<p>美术工种——动作</p>
<ul>
<li>第四步：骨骼绑定——对模型进行骨骼关联</li>
<li>第五步：动画制作——利用模型骨骼制作动画</li>
</ul>
<h1 id="图片导入相关设置"><a href="#图片导入相关设置" class="headerlink" title="图片导入相关设置"></a>图片导入相关设置</h1><h1 id="图片导入概述-知识点"><a href="#图片导入概述-知识点" class="headerlink" title="图片导入概述 知识点"></a>图片导入概述 知识点</h1><h2 id="知识点一-Unity-支持的图片格式"><a href="#知识点一-Unity-支持的图片格式" class="headerlink" title="知识点一 Unity 支持的图片格式"></a>知识点一 Unity 支持的图片格式</h2><p>Unity 支持的图片格式有很多</p>
<ul>
<li><p>BMIP：是 windows 操作系统的标准图像文件格式，特点是几乎不进行压缩，占磁盘空间大</p>
</li>
<li><p>TIF：基本不损失国片信息的图片格式，缺点是体积大</p>
</li>
<li><p>JPG：一般指 JPEG 格式，属于有损压缩格式，能够让图像压缩在很小的存储空间，一定程度上会损失图片数据，无透明通道</p>
</li>
<li><p>PNG：无损压缩算法的位图格式，压缩比高，生成文件小,有透明通道</p>
</li>
<li><p>TGA：支持压缩，使用不失真的压缩算法，还支持编码压缩。体积小，效果清晰，兼备 BNP 的图像质量和 PNG 的体积优势，有透明通道</p>
</li>
<li><p>PSD：是 PhotoShop(PS)图形处理软件专用的格式，通过一些第三方工具或自制工具可以直接将 PSD 界面为 UI 界面</p>
</li>
</ul>
<p>其它还支持</p>
<ul>
<li>EXR、GIF、HDR、IFF、PICT 等等</li>
<li>其中 Unity 最常用的图片格式是 JPG、PNG、TGA 三种格式</li>
</ul>
<h2 id="知识点二-图片设置的-6-大部分"><a href="#知识点二-图片设置的-6-大部分" class="headerlink" title="知识点二 图片设置的 6 大部分"></a>知识点二 图片设置的 6 大部分</h2><ol>
<li>纹理类型</li>
<li>纹理形状</li>
<li>高级设置</li>
<li>平铺拉伸</li>
<li>平台设置</li>
<li>预览窗口</li>
</ol>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TextureImporter.html">Texture Import Settings - Unity 手册</a></p>
</blockquote>
<h1 id="纹理类型设置-知识点"><a href="#纹理类型设置-知识点" class="headerlink" title="纹理类型设置 知识点"></a>纹理类型设置 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html">纹理类型 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TextureImporter.html">Texture Import Settings - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-纹理类型主要是设置什么"><a href="#知识点一-纹理类型主要是设置什么" class="headerlink" title="知识点一 纹理类型主要是设置什么"></a>知识点一 纹理类型主要是设置什么</h2><p>设置纹理类型主要是为了让纹理图片有不同的主要用途.</p>
<p>指明其是用于哪项工作的纹理.</p>
<h2 id="知识点二-参数讲解"><a href="#知识点二-参数讲解" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#default">纹理类型 - Unity 手册</a></p>
</blockquote>
<h2 id="Texture-Type：纹理类型"><a href="#Texture-Type：纹理类型" class="headerlink" title="Texture Type：纹理类型"></a>Texture Type：纹理类型</h2><h3 id="Default"><a href="#Default" class="headerlink" title="Default"></a>Default</h3><p>默认纹理，大部分导入的模型贴图都是该类型</p>
<ol>
<li><p>sRGB(Color Texture)：启用可以将纹理存储在伽马空间中（对每一个像素做一次幂函数运算）</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/LinearLighting.html">颜色空间 - Unity 手册</a></p>
</blockquote>
</li>
<li><p>Alpha Source：指定如何生成纹理的 Alpha 通道</p>
<ol>
<li>None：无论输入纹理是否有 Alpha 通道，导入的纹理都没有 Alpha 通道</li>
<li>Input Texture Alpha：输入纹理中的 Alpha</li>
<li>From Gray Scale：从输入纹理 RGB 值的平均值生成 Alpha</li>
</ol>
</li>
<li><p>Alpha Is Transparency：启用可以避免边缘上的过滤瑕疵</p>
</li>
</ol>
<h3 id="Normal-map"><a href="#Normal-map" class="headerlink" title="Normal map"></a>Normal map</h3><p>法线贴图格式</p>
<p>法线贴图就是在原物体的凹凸表面的每个点上均作法线</p>
<p>法线就是垂直于某个点的切线的方向向量</p>
<p>渲染时，通过 Shader 和法线和材质，将低模（低面模型）渲染成更加立体的模型。</p>
<p>法线贴图就是用来记录高模贴图当中的凹凸点法线作记录。</p>
<ol>
<li>Create From Grayscale：启用此属性可以从灰度高度贴图创建法线贴图<ol>
<li>Bumpiness：控制凹凸程度，值越大凹凸感越强</li>
<li>Filtering：如何计算凹凸值<ol>
<li>Smooth：使用标准算法生成法线贴图（光滑）</li>
<li>Sharp：生成比标准模式更锐利的法线贴图</li>
</ol>
</li>
</ol>
</li>
<li>Ignore PNG file gamma：启用此属性可忽略 PNG 文件中的伽马 (Gamma) 特性。</li>
</ol>
<h3 id="Editor-GUI-and-Legacy-GUI"><a href="#Editor-GUI-and-Legacy-GUI" class="headerlink" title="Editor GUI and Legacy GUI"></a>Editor GUI and Legacy GUI</h3><p>一般在编辑器中或者 GUI 上使用的纹理</p>
<h3 id="Sprite（2D-and-UI）"><a href="#Sprite（2D-and-UI）" class="headerlink" title="Sprite（2D and UI）"></a>Sprite（2D and UI）</h3><p>2D 游戏或者 UGUI 中使用的格式</p>
<ol>
<li>Sprite Mode：图像中提取精灵图形的方式<ol>
<li>Single：按原样使用精灵图像</li>
<li>Multiple：瓦片模式，如果是图集，使用该选项，可以在 Sprite Editor 编辑窗口自定义图片</li>
<li>Polygon：网格精灵模式</li>
</ol>
</li>
<li>Pixels Per Unit：世界空间中的一个距离单位对应多少像素</li>
<li>MeshType：网格类型；只有<code>Single</code>和<code>Multiple</code>模式才支持<ol>
<li>Full Rect：创建四边形，将精灵显示在四边形上</li>
<li>Tight：基于像素 Alpha 值来生成网格，更加贴合精灵图片的形状<br>任何小于 32*32 的精灵都使用 FullRect 模式，即使设置成 Tight 模式也是</li>
</ol>
</li>
<li>Extrude Edges：使用滑动条确定生成的网格中精灵周围流出的区域大小</li>
<li>Pivot：精灵图片的轴心点，<code>Single</code>模式才有此选项<br>对应九宫格布局的九个点，还可以在 Sprite Editor 自定义</li>
<li>Generate Physics Shape：启用此选项，Unity 会自动根据精灵轮廓生成默认物理形状<br>只有 Single 和 Multiple 模式才可使用</li>
<li>Sprite Editor：编辑 Sprite，需要安装 2D Sprite 包，之后单独讲解</li>
</ol>
<h3 id="Cursor"><a href="#Cursor" class="headerlink" title="Cursor"></a>Cursor</h3><p>自定义光标</p>
<h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>光源剪影格式</p>
<ol>
<li>Light Type：应用的光源类型<br>一般点光源的剪影需要设置为立方体纹理<br>方向光和聚光灯的剪影设置为 2D 纹理<ol>
<li>Spotlight：聚光灯类型，需要边缘纯黑色纹理</li>
<li>Directional：方向光，平铺纹理</li>
<li>Point：点光源，需要设置为立方体形状</li>
</ol>
</li>
</ol>
<h3 id="Lightmap"><a href="#Lightmap" class="headerlink" title="Lightmap"></a>Lightmap</h3><p>光照贴图格式</p>
<p>在 Unity 进阶，讲解光照烘焙贴图时讲解。</p>
<h3 id="Single-Channel"><a href="#Single-Channel" class="headerlink" title="Single Channel"></a>Single Channel</h3><p>纹理只需要单通道的格式</p>
<ol>
<li>Channel：希望将纹理处理为 Alpha 还是 Red 通道<ol>
<li>Alpha：使用 Alpha 通道，不允许进行压缩</li>
<li>Red：使用红色通道</li>
</ol>
</li>
</ol>
<p>其他类型为 Unity 新版本添加的类型，可以在 Unity 手册当中查看具体含义。</p>
<h2 id="官方说明：Texture-Type"><a href="#官方说明：Texture-Type" class="headerlink" title="官方说明：Texture Type"></a>官方说明：Texture Type</h2><p>使用 <strong>Texture Type</strong> 属性可选择要从源图像文件创建的纹理类型。Texture Import Settings 窗口中的其他属性将根据此处设置的值而变化。</p>
<p>有关特定纹理类型的信息，请参阅<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html">纹理类型 (Texture Types)</a> 文档。</p>
<table>
<thead>
<tr>
<th align="left"><strong>属性：</strong></th>
<th align="left"><strong>功能：</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>Default</strong></td>
<td align="left">这是用于所有纹理的最常用设置。此选项可用于访问大多数纹理导入属性。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Default">Default</a> 纹理类型。</td>
</tr>
<tr>
<td align="left"><strong>Normal map</strong></td>
<td align="left">选择此选项可将颜色通道转换为适合实时法线贴图的格式。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#NormalMap">Normal map</a> 纹理类型文档。 有关一般法线贴图的更多信息，请参阅<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/ImportingTextures.html#Normalmaps">导入纹理</a>。</td>
</tr>
<tr>
<td align="left"><strong>Editor GUI and Legacy GUI</strong></td>
<td align="left">如果要在任何 HUD 或 GUI 控件上使用纹理，请选择此选项。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Editor">Editor GUI and Legacy GUI</a> 纹理类型文档。</td>
</tr>
<tr>
<td align="left"><strong>Sprite (2D and UI)</strong></td>
<td align="left">如果要在 2D 游戏中使用该纹理作为<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Sprites.html">精灵</a>，请选择此选项。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Sprite">Sprite (2D and UI)</a> 纹理类型文档。</td>
</tr>
<tr>
<td align="left"><strong>Cursor</strong></td>
<td align="left">如果要将纹理用作自定义游标，请选择此选项。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Cursor">Cursor</a> 纹理类型文档。</td>
</tr>
<tr>
<td align="left"><strong>Cookie</strong></td>
<td align="left">选择此选项可通过基本参数来设置纹理，从而将其用于场景<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Light.html">光源</a>的<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Cookies.html">剪影</a>。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Cookie">Cookie</a> 纹理类型文档。</td>
</tr>
<tr>
<td align="left"><strong>光照贴图</strong></td>
<td align="left">如果要将纹理用作<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-LightmapParameters.html">光照贴图</a>，请选择此选项。此选项允许将纹理编码为特定格式（RGBM 或 dLDR，具体取决于平台）并通过后期处理步骤对纹理数据进行处理（推拉式扩张通道）。有关更多信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Lightmap">Lightmap</a> 纹理类型文档。</td>
</tr>
<tr>
<td align="left"><strong>Single Channel</strong></td>
<td align="left">如果在纹理中只需要一个通道，请选择此选项。有关仅可用于此类型的属性的信息，请参阅 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#SingleChannel">Single Channel</a> 纹理类型文档。</td>
</tr>
</tbody></table>
<h1 id="纹理形状设置-知识点"><a href="#纹理形状设置-知识点" class="headerlink" title="纹理形状设置 知识点"></a>纹理形状设置 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TextureImporter.html">Texture Import Settings - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-纹理形状主要是设置什么？"><a href="#知识点一-纹理形状主要是设置什么？" class="headerlink" title="知识点一 纹理形状主要是设置什么？"></a>知识点一 纹理形状主要是设置什么？</h2><p>纹理不仅可以用于模型贴图</p>
<p>还可以用于制作天空盒和反射探针</p>
<p>纹理形状设置，主要就是用于在两种模式之间进行切换</p>
<h2 id="知识点二-参数讲解-1"><a href="#知识点二-参数讲解-1" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><ol>
<li><p>2D：2D 纹理，最常用设置，这些纹理将使用到模型和 GUI 元素上</p>
</li>
<li><p>Cube：立方体贴图，主要用于天空盒和反射探针</p>
</li>
<li><p>Mapping：如何将纹理投影到游戏对象上</p>
<ul>
<li>Auto：根据纹理信息创建布局</li>
<li>6 Frames Layout：纹理包含标准立方体贴图布局之一排列的六个图像</li>
<li>Latitude-Longitude Layout：将纹理映射到 2D 维度&#x2F;经度</li>
<li>Mirrored Ball：将纹理映射到类似球体的立方体贴图上</li>
</ul>
</li>
<li><p>Convolution Type：纹理的过滤类型</p>
<ul>
<li>None：无过滤</li>
<li>Specular：将立方体作为反射探针</li>
<li>Diffuse：将纹理进行过滤表示辐照度，可作为光照探针</li>
</ul>
</li>
<li><p>Fixup Edge Seams：</p>
<p>Convolution Type 为 None 和 Diffuse 下才有用。解决低端设备上面之间立方体贴图过滤错误</p>
</li>
</ol>
<h2 id="官方说明-Texture-Shape"><a href="#官方说明-Texture-Shape" class="headerlink" title="官方说明 Texture Shape"></a>官方说明 Texture Shape</h2><blockquote>
<p>使用 <strong>Texture Shape</strong> 属性可选择和定义纹理的形状和结构。有四种形状类型：</p>
<ul>
<li><strong>2D</strong> 是用于所有纹理的最常用设置；它将图像文件定义为 2D 纹理。这些设置用于将纹理映射到 3D 网格和 GUI 元素以及其他项目元素。</li>
<li><strong>Cube</strong> 将纹理定义为<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Cubemap.html">立方体贴图</a>。例如，可将其用于天空盒或反射探针。此类型仅可用于 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#Default">Default</a>、<a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#NormalMap">Normal Map</a> 和 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/TextureTypes.html#SingleChannel">Single Channel</a> 纹理类型。</li>
<li><strong>2D Array</strong> 将纹理定义为 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Texture2DArray.html">2D 数组纹理</a>。这通常用作某些渲染技术的优化，其中会使用许多具有相同大小和格式的纹理。</li>
<li><strong>3D</strong> 将纹理定义为 <a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Texture3D.html">3D 纹理</a>。某些渲染技术使用 3D 纹理表示体积数据。</li>
</ul>
</blockquote>
<h1 id="纹理高级设置-知识点"><a href="#纹理高级设置-知识点" class="headerlink" title="纹理高级设置 知识点"></a>纹理高级设置 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TextureImporter.html">Texture Import Settings - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-高级设置是设置什么？"><a href="#知识点一-高级设置是设置什么？" class="headerlink" title="知识点一 高级设置是设置什么？"></a>知识点一 高级设置是设置什么？</h2><p>高级设置主要是纹理的一些尺寸规则、读写规则、以及 MipMap 相关设置。</p>
<h2 id="知识点二-参数讲解-2"><a href="#知识点二-参数讲解-2" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><ol>
<li>Non-Power of 2：如果纹理尺寸非 2 的幂如何处理<ul>
<li>为什么纹理要设置为 2 的 N 次方？<br>因为图形学规则，纹理必须是 2 的幂尺寸</li>
<li>None：纹理尺寸大小保持不变</li>
<li>To nearest：将纹理缩放到最接近 2 的幂的大小<br>（注意：PVRTC 格式要求纹理为正方形）</li>
<li>To larger：将纹理缩放到最大尺寸大小值的 2 的幂的大小</li>
<li>To smaller：将纹理缩放到最小尺寸大小值的 2 的幂的大小</li>
</ul>
</li>
<li>Read&#x2F;Write Enabled：启用可以使用 Unity 中提供的一些方法从纹理中获取到数据（一般需要获取图片数据时才开启）</li>
<li>Streaming Mipmaps：启用则可以使用纹理串流，主要用于在控制加载在内存中的 Mipmap 级别，用于减少 Unity 对于纹理所需的内存总量，用性能换内存<ul>
<li>Mip Map Priority：<br>Mipmap 优先级，Unity 根据优先级来确定分配资源时优先考虑哪些 Mipmap</li>
</ul>
</li>
<li>Generate Mip Maps：允许生成 MipMap<ul>
<li>Border Mip Maps：启用可避免颜色向外渗透到较低 MIP 级别的边缘</li>
<li>Mip Map Filtering：优化图像质量的过滤方法<ul>
<li>Box：随着尺寸减小，级别更加平滑</li>
<li>Kaiser：随着 Mipmap 尺寸大小下降而使用的锐化算法，如果远处纹理太模糊，可以使用该算法</li>
</ul>
</li>
<li>Mip Maps Preserve Coverage：Mipmap 的 Alpha 通道在 Alpha 测试期间保留覆盖率<ul>
<li>Alpha Cutoff Value：覆盖率参考值</li>
</ul>
</li>
<li>Fadeout Mip Maps：级别递减时使 Mipmap 淡化为灰色</li>
</ul>
</li>
</ol>
<h2 id="知识点三-MipMap-是什么？"><a href="#知识点三-MipMap-是什么？" class="headerlink" title="知识点三 MipMap 是什么？"></a>知识点三 MipMap 是什么？</h2><p>在三维计算机图形的贴图渲染中有一个常用的技术被称为 Mipmapping。<br>为了加快渲染速度和减少图像锯齿，贴图被处理成由一系列被预先计算和优化过的图片组成的文件<br>这样的贴图被称为 mipmap<br>Mipmap 需要占用一定的&#x3D;&#x3D;内存空间&#x3D;&#x3D;</p>
<p>Mipmap 中每一个层级的小图都是主图的一个特定比例的缩小细节的复制品</p>
<p>虽然在某些必要的视角，主图仍然会被使用，来渲染完整的细节。<br>但是当贴图被缩小或者只需要从远距离观看时，mipmap 就会转换到适当的层级</p>
<p>因为 mipmap 贴图需要被读取的像素远少于普通贴图，所以渲染的速度得到了提升。<br>而且操作的时间减少了，因为 mipmap 的图片已经是做过抗锯齿处理的，从而减少了实时渲染的负担。<br>放大和缩小也因为 mipmap 而变得更有效率。</p>
<p>如果贴图的基本尺寸是 256x256 像素的话,它 mipmap 就会有 8 个层级。<br>每个层级是上一层级的四分之一的大小<br>依次层级大小就是：128x128;64x64;32x32;16x16;8x8;4x4;2x2;1x1(一个像素)</p>
<p>说人话，开启 MipMap 功能后，Unity 会帮助我们根据图片信息生成 n 张不同分辨率的图片<br>在场景中会根据我们离该模型的距离选择合适尺寸的图片用于渲染，提升渲染效率</p>
<h1 id="纹理平铺拉伸设置-知识点"><a href="#纹理平铺拉伸设置-知识点" class="headerlink" title="纹理平铺拉伸设置 知识点"></a>纹理平铺拉伸设置 知识点</h1><h2 id="知识点一-平铺拉伸主要是做什么？"><a href="#知识点一-平铺拉伸主要是做什么？" class="headerlink" title="知识点一 平铺拉伸主要是做什么？"></a>知识点一 平铺拉伸主要是做什么？</h2><p>平铺拉伸主要设置纹理的平铺规则以及拉伸规则</p>
<h2 id="知识点二-参数讲解-3"><a href="#知识点二-参数讲解-3" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><p>Wrap Mode：平铺纹理时的方式</p>
<ol>
<li>Repeat：在区块中重复纹理</li>
<li>Clamp：<br>拉伸纹理的边缘</li>
<li>Mirror：<br>在每个整数边界上镜像纹理以创建重复图案</li>
<li>Mirror Once：<br>镜像纹理一次，然后将拉伸边缘纹理</li>
<li>Per-axis：<br>单独控制如何在 U 轴和 V 轴上包裹纹理</li>
</ol>
<p>Filter Mode：纹理在通过 3D 变化拉伸时如何进行过度</p>
<ol>
<li>Point：纹理在靠近时变为块状</li>
<li>Bilinear：纹理在靠近时变得模糊</li>
<li>Trilinear：与 Bilinear 类似，但纹理也在不同的 Mip 级别之间模糊</li>
</ol>
<p>常用的是 Filter Mode。</p>
<h1 id="纹理平台打包相关设置-知识点-非常重要"><a href="#纹理平台打包相关设置-知识点-非常重要" class="headerlink" title="纹理平台打包相关设置 知识点(非常重要)"></a>纹理平台打包相关设置 知识点(非常重要)</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TextureImporter.html">Texture Import Settings - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-平台设置主要设置什么？"><a href="#知识点一-平台设置主要设置什么？" class="headerlink" title="知识点一 平台设置主要设置什么？"></a>知识点一 平台设置主要设置什么？</h2><p>平台设置主要设置纹理最终打包时在不同平台的尺寸、格式、压缩方式</p>
<p>它非常的重要，因为它影响了你的包大小和读取性能方面的问题</p>
<h2 id="知识点二-参数相关"><a href="#知识点二-参数相关" class="headerlink" title="知识点二 参数相关"></a>知识点二 参数相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/texture-compression-formats.html">Texture formats - Unity 手册</a></p>
</blockquote>
<p>Max Size：设置导入的纹理的最大尺寸，即使美术出的很大的图，也可以通过这里把它们限制在一定范围内</p>
<ul>
<li><p>Resize Algorithm：当纹理尺寸大于指定的 Max Size 时，使用的缩小算法</p>
<ul>
<li>Mitchell：默认米切尔算法来调整大小，该算法是常用的尺寸缩小算法</li>
<li>Bilinear：使用双线性插值来调整大小。如果细节很重要的图片，可以使用它，它比米切尔算法保留的细节更多</li>
</ul>
</li>
<li><p>Format：纹理格式<br>各平台支持的格式有所不同<br>如果选择 Automatic<br>会根据平台使用默认设置</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TextureImporterOverride.html">Recommended, default, and supported texture formats, by platform - Unity 手册</a></p>
</blockquote>
<ul>
<li><p>关于格式选择的注意事项，根据不同平台单独进行设置</p>
</li>
<li><p>IOS：选择默认的纹理压缩设置 (PVRTC) 可获得更大的兼容性。<br>如果您的应用程序不包含 OpenGL ES 2 支持，则可以选择一种 ASTC 格式。这些格式提供更好的质量和灵活性，并且压缩速度比 PVRTC 快。</p>
</li>
<li><p>由于安卓设备众多，设备标准都不统一，一般会根据不同的设备标准制作多个安装包</p>
<ol>
<li><p>构建一个以 OpenGL ES 3 为目标的 APK</p>
<p>​ 1-1 访问 Android 的 Player Settings</p>
<p>​ （菜单：Edit &gt; Project Settings &gt;Player Settings，然后选择 Android 类别）。</p>
<p>​ 1-2.向下滚动到 Graphics APIs 部分。</p>
<p>​ 1-3.确保 OpenGL ES 2 不在列表中。</p>
<p>​ 1-4.构建 APK</p>
<p>​ （菜单：File &gt; Build Settings，然后单击 Build）。</p>
</li>
<li><p>构建一个以 OpenGL ES 2 为目标的单独 APK</p>
<p>​ 2-1 访问 Android Player Settings。</p>
<p>​ 2-2.向下滚动到 Graphics APIs 部分。</p>
<p>​ 2-3.在列表中添加 OpenGL ES 2 ，并删除 OpenGL ES 3 和 Vulkan。</p>
<p>​ 2-4.构建 APK。</p>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Compression：<br>选择纹理的压缩类型，帮助 Unity 正确选择压缩格式<br>会根据平台和压缩格式的可用性进行压缩</p>
<ul>
<li>None：不压缩纹理</li>
<li>Low Quality：以低质量格式压缩纹理</li>
<li>Normal Quality：以标准格式压缩纹理</li>
<li>High Quality：以高质量格式压缩纹理</li>
</ul>
</li>
<li><p>Use Crunch Compression：<br>启用后，使用 Crunch 压缩。Crunch 是一种基于 DXT 或 ETC 纹理压缩的有损压缩格式。压缩时间长，解压速度快。</p>
</li>
<li><p>Split Alpha Channel：Alpha 通道分离，节约内存。会把一张图分成两张纹理。一张包含 RGB 数据，一张包含 Alpha 数据，在渲染时再合并渲染。</p>
</li>
<li><p>Override ETC2 fallback：不支持 ETC2 压缩的设备上，使用的格式</p>
</li>
</ul>
<h1 id="Sprite"><a href="#Sprite" class="headerlink" title="Sprite"></a>Sprite</h1><h1 id="Sprite-Editor—Single-图片编辑-知识点"><a href="#Sprite-Editor—Single-图片编辑-知识点" class="headerlink" title="Sprite Editor—Single 图片编辑 知识点"></a>Sprite Editor—Single 图片编辑 知识点</h1><h2 id="知识点一-SpriteEditor-是什么？"><a href="#知识点一-SpriteEditor-是什么？" class="headerlink" title="知识点一 SpriteEditor 是什么？"></a>知识点一 SpriteEditor 是什么？</h2><p>顾名思义，SpriteEditor 就是精灵图片编辑器</p>
<p>它主要用于编辑 2D 游戏开发中使用的 Sprite 精灵图片</p>
<p>它可以用于编辑 图集中提取元素，设置精灵</p>
<h2 id="知识点二-安装-2D-Sprite"><a href="#知识点二-安装-2D-Sprite" class="headerlink" title="知识点二 安装 2D Sprite"></a>知识点二 安装 2D Sprite</h2><p>如果是 3D 模板，新版本 Unity 需要安装 2D Sprite 包才能使用 SpriteEditor。</p>
<p>在 PackManager 中搜索并导入即可。</p>
<p>如果是 2D 模板，直接就可以使用。</p>
<h2 id="知识点三-Single-图片编辑-功能讲解"><a href="#知识点三-Single-图片编辑-功能讲解" class="headerlink" title="知识点三 Single 图片编辑 功能讲解"></a>知识点三 Single 图片编辑 功能讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/SpriteEditor.html">Sprite Editor - Unity 手册</a></p>
</blockquote>
<p>Single 图片编辑主要讲解的就是在设置图片时<br>将精灵图片模式（Sprite Mode）设置为 Single 的精灵图片在 Sprite Editor 窗口中如何编辑</p>
<h3 id="1-Sprite-Editor"><a href="#1-Sprite-Editor" class="headerlink" title="1.Sprite Editor"></a>1.Sprite Editor</h3><p>基础图片设置（右下角窗口）<br>主要用于设置单张图片的基础属性</p>
<ol>
<li>Snap：将控制点贴近在最近的像素</li>
<li>Outline Tolerance：轮廓点的复杂性和准确性，0~1，值越大轮廓点越多，越准确</li>
<li>Generate：生成网格轮廓</li>
</ol>
<h3 id="2-Custom-Outline（决定渲染区域）"><a href="#2-Custom-Outline（决定渲染区域）" class="headerlink" title="2.Custom Outline（决定渲染区域）"></a>2.Custom Outline（决定渲染区域）</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/SpriteOutlineEditor.html">Sprite Editor：Custom Outline - Unity 手册</a></p>
</blockquote>
<p>自定义边缘线设置，可以自定义精灵网格的轮廓形状<br>默认情况下不修改都是在矩形网格上渲染，边缘外部透明区域会被渲染，浪费性能<br>使用自定义轮廓，可以调小透明区域，提高性能</p>
<h3 id="3-Custom-Physics-Shape（决定碰撞判断区域）"><a href="#3-Custom-Physics-Shape（决定碰撞判断区域）" class="headerlink" title="3.Custom Physics Shape（决定碰撞判断区域）"></a>3.Custom Physics Shape（决定碰撞判断区域）</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/CustomPhysicsShape.html">Sprite Editor：Custom Physics Shape - Unity 手册</a></p>
</blockquote>
<p>自定义精灵图片的物理形状，主要用于设置需要物理碰撞判断的 2D 图形<br>它决定了之后产生碰撞检测的区域</p>
<h3 id="4-Secondary-Textures-为图片添加特殊效果"><a href="#4-Secondary-Textures-为图片添加特殊效果" class="headerlink" title="4.Secondary Textures(为图片添加特殊效果)"></a>4.Secondary Textures(为图片添加特殊效果)</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/SpriteEditor-SecondaryTextures.html">Sprite Editor：Secondary Textures - Unity 手册</a></p>
</blockquote>
<p>次要纹理设置，可以将其它纹理和该精灵图片关联<br>着色器可以得到这些辅助纹理然后用于做一些效果处理<br>让精灵应用其它效果</p>
<h1 id="Sprite-Editor—Multiple-图片编辑-知识点"><a href="#Sprite-Editor—Multiple-图片编辑-知识点" class="headerlink" title="Sprite Editor—Multiple 图片编辑 知识点"></a>Sprite Editor—Multiple 图片编辑 知识点</h1><h2 id="知识点一-Multiple-图集元素分割"><a href="#知识点一-Multiple-图集元素分割" class="headerlink" title="知识点一 Multiple 图集元素分割"></a>知识点一 Multiple 图集元素分割</h2><p>当我们的图片资源是图集时</p>
<p>我们需要在设置时将模式设置为 Multiple</p>
<p>这时我们可以使用 Sprite Editor 自带的功能进行图集元素分割</p>
<h2 id="知识点二-参数讲解-4"><a href="#知识点二-参数讲解-4" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/SpriteEditor.html">Sprite Editor - Unity 手册</a></p>
</blockquote>
<h3 id="1、手动分割"><a href="#1、手动分割" class="headerlink" title="1、手动分割"></a>1、手动分割</h3><p>我们可以直接在 SpriteEditor 模式下，直接在界面上矩形选择，然后通过设置右下角参数，就可以分割一张图片。</p>
<h3 id="2、自动分割"><a href="#2、自动分割" class="headerlink" title="2、自动分割"></a>2、自动分割</h3><p>选择左上角 Slice，设置参数 Type：Automatic。</p>
<ul>
<li>Type：Automatic</li>
<li>Pivot：单张图片轴心点位置</li>
<li>Custom Pivot：自定义轴心点</li>
<li>Method：如何处理现有对象<ul>
<li>Delete Existing：替换掉已经选择的任何矩形</li>
<li>Smart：尝试创建新矩形同时保留或调整现有矩形</li>
<li>Safe：添加新矩形而不更改任何已经存在的矩形</li>
</ul>
</li>
</ul>
<h3 id="3、按单元格大小分割"><a href="#3、按单元格大小分割" class="headerlink" title="3、按单元格大小分割"></a>3、按单元格大小分割</h3><p>Type：Grid By Cell Size</p>
<ul>
<li>Pixel Size：单元格宽高</li>
<li>Offset：偏移位置</li>
<li>Padding：和边缘的偏移位置</li>
<li>Keep Empty Rects：是否保留空矩形</li>
</ul>
<h3 id="4、按单元格数量分割"><a href="#4、按单元格数量分割" class="headerlink" title="4、按单元格数量分割"></a>4、按单元格数量分割</h3><p>Type：Grid By Cell Count</p>
<ul>
<li>Column &amp; Row：行列数</li>
</ul>
<h3 id="Trim-按钮"><a href="#Trim-按钮" class="headerlink" title="Trim 按钮"></a>Trim 按钮</h3><p>选择切片矩形，可以根据图片大小，自动收缩切片矩形。</p>
<h1 id="Sprite-Editor—Polygon-图片编辑-知识点"><a href="#Sprite-Editor—Polygon-图片编辑-知识点" class="headerlink" title="Sprite Editor—Polygon 图片编辑 知识点"></a>Sprite Editor—Polygon 图片编辑 知识点</h1><h2 id="知识点一-Polygon-多边形编辑"><a href="#知识点一-Polygon-多边形编辑" class="headerlink" title="知识点一 Polygon 多边形编辑"></a>知识点一 Polygon 多边形编辑</h2><p>如果我们使用的资源时多边形资源，我们可以在设置时将模式设置为 Polygon。</p>
<p>然后可以在 Sprite Editor 中进行快捷设置</p>
<p>但是一般这种模式在实际开发中使用较少</p>
<h2 id="知识点二-参数讲解-5"><a href="#知识点二-参数讲解-5" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><p>Slides：边数（0~128）</p>
<p>输入边数确定，即 ChangeValue 之后，会根据边数，确定一个多边形。</p>
<p>渲染时，会根据这个多边形缺点渲染范围。</p>
<p>注意：设置为多边形且确定之后，切换为另一个模式，将会保留之前的渲染范围，需要重新设定一次。</p>
<h1 id="SpriteRenderer-精灵渲染器-知识点"><a href="#SpriteRenderer-精灵渲染器-知识点" class="headerlink" title="SpriteRenderer 精灵渲染器 知识点"></a>SpriteRenderer 精灵渲染器 知识点</h1><h2 id="知识点一-知识回顾"><a href="#知识点一-知识回顾" class="headerlink" title="知识点一 知识回顾"></a>知识点一 知识回顾</h2><p>我们目前已经学习了如何设置导入的图片<br>如果我们想将导入的图片用于 2D 游戏开发，需要将图片类型设置为 Sprite 精灵类型</p>
<p>我们还学习了使用 Sprite Editor 精灵图片编辑器来对精灵图片进行编辑</p>
<p>但是我们还没有真正的使用这些图片<br>这节课我们就来讲解 Sprite 精灵图片的使用</p>
<h2 id="知识点二-Sprite-Renderer-是什么"><a href="#知识点二-Sprite-Renderer-是什么" class="headerlink" title="知识点二 Sprite Renderer 是什么"></a>知识点二 Sprite Renderer 是什么</h2><p>顾名思义，Sprite Renderer 是精灵渲染器</p>
<p>所有 2D 游戏中游戏资源（除 UI 外）都是通过 Sprite Renderer 让我们看到的</p>
<p>它是 2D 游戏开发中的一个&#x3D;&#x3D;极为重要&#x3D;&#x3D;的组件</p>
<h2 id="知识点三-2D-对象创建"><a href="#知识点三-2D-对象创建" class="headerlink" title="知识点三 2D 对象创建"></a>知识点三 2D 对象创建</h2><ol>
<li>直接拖入 Sprite 图片</li>
<li>右键创建</li>
<li>空物体添加脚本</li>
</ol>
<h2 id="知识点四-参数讲解"><a href="#知识点四-参数讲解" class="headerlink" title="知识点四 参数讲解"></a>知识点四 参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-SpriteRenderer.html">Sprite Renderer - Unity 手册</a></p>
</blockquote>
<ul>
<li>Sprite：渲染的精灵图片</li>
<li>Color：定义着色，一般没有特殊需求不会修改（闪烁功能可能可以使用这个实现）</li>
<li>Filp：水平或竖直翻转精灵图片</li>
<li>Draw Mode：绘制模式，当尺寸变化时的缩放方式<ul>
<li>Simple：简单模式，缩放时整个图像一起缩放</li>
<li>Sliced：<br>切片模式，9 宫格切片模式，十字区域缩放，4 个角不变化<br>一般用于变化不大的纯色图<br>（注意：需要把精灵的网格类型设置为&#x3D;&#x3D;Full Rect&#x3D;&#x3D;）</li>
<li>Tiled：<br>平铺模式，将中间部分进行平铺而不是缩放<br>（注意：需要把精灵的网格类型设置为&#x3D;&#x3D;Full Rect&#x3D;&#x3D;）<ul>
<li>Continuous：当尺寸变化时，中间部分将均匀平铺</li>
<li>Adaptive：当尺寸变化时，类似 Simple 模式，当更改尺寸达到 Stretch Value 时，中间才开始平铺</li>
</ul>
</li>
</ul>
</li>
<li>Mask Interaction：与精灵遮罩交互时的方式<ul>
<li>None：不与场景中任何精灵遮罩交互</li>
<li>Visible inside Mask：精灵遮罩覆盖的地方可见，而遮罩外部不可见</li>
<li>Visible Outside Mask：精灵遮罩外部的地方可见，而遮罩覆盖处不可见</li>
</ul>
</li>
<li>Sprite Sort Point：计算摄像机和精灵之间距离时，使用精灵中心 Center 还是轴心点 Pivot，一般情况下不用修改</li>
<li>Material：材质，可以使用一些自定义材质来显示一些特殊效果<br>一般情况不修改。默认材质是不会受到光照影响的，如果想要受光照影响，可以选择 Default-Diffuse</li>
<li>Additional Settings：高级设置<ul>
<li>Sorting Layer：排序层选择</li>
<li>Order in Layer：层级序列号，数值越大约会显示在前面</li>
</ul>
</li>
</ul>
<h2 id="知识点五-代码设置"><a href="#知识点五-代码设置" class="headerlink" title="知识点五 代码设置"></a>知识点五 代码设置</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">GameObject obj = <span class="keyword">new</span> GameObject();</span><br><span class="line">SpriteRenderer sr = obj.AddComponent&lt;SpriteRenderer&gt;();</span><br><span class="line"><span class="comment">//动态的改变图片</span></span><br><span class="line">sr.sprite = Resources.Load&lt;Sprite&gt;(<span class="string">&quot;dead1&quot;</span>);</span><br><span class="line"><span class="comment">//动态的加载 图集中的图</span></span><br><span class="line">Sprite[] sprs = Resources.LoadAll&lt;Sprite&gt;(<span class="string">&quot;RobotBoyIdleSprite&quot;</span>);</span><br><span class="line">sr.sprite = sprs[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">print(sprs[<span class="number">10</span>].name);</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>主要掌握参数含义 和 如何代码控制<br>其中重要的参数是</p>
<ol>
<li>绘制模式 控制缩放规则</li>
<li>遮罩相关</li>
<li>层级相关</li>
</ol>
<h2 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题"><a href="#第一题" class="headerlink" title="第一题"></a>第一题</h3><p>写一个工具类，让我们可以更加方便的加载 Multiple 类型的图集资源</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SpriteLoad</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SpriteLoad _instance = <span class="keyword">new</span> SpriteLoad();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">SpriteLoad</span>()</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SpriteLoad Instance =&gt; _instance;</span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>, Dictionary&lt;<span class="built_in">string</span>, Sprite&gt;&gt; spriteDic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, Dictionary&lt;<span class="built_in">string</span>, Sprite&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> 从图集当中加载指定图片</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;parentFileName&quot;&gt;</span>图集路径<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;fileName&quot;&gt;</span>指定图片名称<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Sprite <span class="title">LoadSprite</span>(<span class="params"><span class="built_in">string</span> parentFileName, <span class="built_in">string</span> fileName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//完美的代码是不可能的</span></span><br><span class="line">        <span class="keyword">if</span> (spriteDic.ContainsKey(parentFileName))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> spriteDic[parentFileName][fileName];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Dictionary&lt;<span class="built_in">string</span>, Sprite&gt; tempDic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, Sprite&gt;();</span><br><span class="line">            Sprite[] sprites = Resources.LoadAll&lt;Sprite&gt;(parentFileName);</span><br><span class="line">            <span class="keyword">if</span> (sprites == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; sprites.Length; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                tempDic.Add(sprites[i].name, sprites[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            spriteDic.Add(parentFileName, tempDic);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!spriteDic[parentFileName].ContainsKey(fileName))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> spriteDic[parentFileName][fileName];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="第二题"><a href="#第二题" class="headerlink" title="第二题"></a>第二题</h3><p>用我提供的角色资源，制作一个通过 wasd 键 控制其上下左右移动的功能</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson10_p</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SpriteRenderer spriteRender;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        spriteRender = <span class="keyword">this</span>.GetComponent&lt;SpriteRenderer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">        <span class="built_in">float</span> vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.right * horizontal * moveSpeed * Time.deltaTime);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.up * vertical * moveSpeed * Time.deltaTime);</span><br><span class="line">        <span class="comment">//转向，根据资源</span></span><br><span class="line">        <span class="keyword">if</span> (horizontal &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (horizontal &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="SpriteCreator-精灵创造者-知识点"><a href="#SpriteCreator-精灵创造者-知识点" class="headerlink" title="SpriteCreator 精灵创造者 知识点"></a>SpriteCreator 精灵创造者 知识点</h1><h2 id="知识点一-Sprite-Creator-是什么？"><a href="#知识点一-Sprite-Creator-是什么？" class="headerlink" title="知识点一 Sprite Creator 是什么？"></a>知识点一 Sprite Creator 是什么？</h2><p>顾名思义，Sprite Creator 是精灵创造者<br>我们可以利用 Sprite Editor 的多边形工具创造出各种多边形<br>Unity 也为我们提供了现成的一些多边形</p>
<p>它的主要作用是 2D 游戏的替代资源<br>在等待美术出资源时我们可以用他们作为替代品<br>有点类似 Unity 提供的自带几何体</p>
<p>替代资源是做 demo 和学习时的必备品</p>
<h2 id="知识点二-使用-Sprite-Creator"><a href="#知识点二-使用-Sprite-Creator" class="headerlink" title="知识点二 使用 Sprite Creator"></a>知识点二 使用 Sprite Creator</h2><p>在 Project 窗口右键创建各种形状的 Sprite 精灵图片</p>
<h2 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h2><p>使用菱形替代资源，制作一个按空格键让角色发射菱形子弹的功能</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RhombusBullet</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">public</span> Vector2 moveDir = Vector2.right;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(moveDir * moveSpeed * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChangeDir</span>(<span class="params">Vector2 dir</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        moveDir = dir;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AutoDestroy</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Destroy(<span class="keyword">this</span>.gameObject, <span class="number">3f</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerObj</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> GameObject rhombusBullet;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SpriteRenderer spriteRender;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        spriteRender = <span class="keyword">this</span>.GetComponent&lt;SpriteRenderer&gt;();</span><br><span class="line">        rhombusBullet = Resources.Load&lt;GameObject&gt;(<span class="string">&quot;Prefabs/rhombusBullet&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">        <span class="built_in">float</span> vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.right * horizontal * moveSpeed * Time.deltaTime);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.up * vertical * moveSpeed * Time.deltaTime);</span><br><span class="line">        <span class="comment">//转向</span></span><br><span class="line">        <span class="keyword">if</span> (horizontal &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (horizontal &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Space))</span><br><span class="line">        &#123;</span><br><span class="line">            Fire();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Fire</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        GameObject obj = Instantiate(rhombusBullet);</span><br><span class="line">        obj.transform.position = <span class="keyword">this</span>.transform.position;</span><br><span class="line">        RhombusBullet bullet = obj.GetComponent&lt;RhombusBullet&gt;();</span><br><span class="line">        bullet.ChangeDir(spriteRender.flipX ? Vector2.right : Vector2.left);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="SpriteMask-精灵遮罩-知识点"><a href="#SpriteMask-精灵遮罩-知识点" class="headerlink" title="SpriteMask 精灵遮罩 知识点"></a>SpriteMask 精灵遮罩 知识点</h1><h2 id="知识点一-SpriteMask-是什么？"><a href="#知识点一-SpriteMask-是什么？" class="headerlink" title="知识点一 SpriteMask 是什么？"></a>知识点一 SpriteMask 是什么？</h2><p>顾名思义，SpriteMask 是精灵遮罩的意思<br>它的主要作用就是对精灵图片产生遮罩<br>制作一些特殊的功能，比如只显示图片的一部分让玩家看到</p>
<h2 id="知识点二-参数相关-1"><a href="#知识点二-参数相关-1" class="headerlink" title="知识点二 参数相关"></a>知识点二 参数相关</h2><p>右键 Hierarchy 窗口，选择 2DObjects-&gt;Sprite-&gt;SpriteMask</p>
<p>可以创建一个 Sprite Mask，自带一个 SpiteMask 组件，选着遮罩图片，就可以影响其他图片了。</p>
<ul>
<li>Sprite：遮罩图片</li>
<li>Alpha Cutoff：如果 Alpha 包含透明区域和不透明区域之间的混合（半透明），则可以手动确定所显示区域的分界点（0~1）</li>
<li>Custom Range：自定义遮罩范围<br>开启后可以设置遮罩的范围，按照排序层来划分<ul>
<li>要使得精灵受到遮罩影响，必须设置使得精灵 BackSortingLayer &lt;&#x3D; SortingLayer &lt; FrontSortingLayer</li>
<li>如果在同一 SortingLayer，必须设置使得精灵 BackOrder In Layer &lt; 精灵 Order In Layer &lt; Front OrderInLayer</li>
</ul>
</li>
</ul>
<h2 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h2><p>用我提供的资源，制作一个类似放大镜的功能</p>
<h1 id="SortingGroup-排序分组-知识点"><a href="#SortingGroup-排序分组-知识点" class="headerlink" title="SortingGroup 排序分组 知识点"></a>SortingGroup 排序分组 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/Rendering.SortingGroup.html">Rendering.SortingGroup - Unity 脚本 API</a></p>
</blockquote>
<h2 id="知识点一-SortingGroup-是什么？"><a href="#知识点一-SortingGroup-是什么？" class="headerlink" title="知识点一 SortingGroup 是什么？"></a>知识点一 SortingGroup 是什么？</h2><p>顾名思义，SortingGroup 是排序分组的意思<br>它的主要作用就是对多个精灵图片进行分组排序<br>Unity 会将同一个排序组中的精灵图片一起排序，就好像他们是单个游戏对象一样<br>主要作用是对于需要分层的 2D 游戏用于整体排序</p>
<h2 id="知识点二-SortingGroup-的使用"><a href="#知识点二-SortingGroup-的使用" class="headerlink" title="知识点二 SortingGroup 的使用"></a>知识点二 SortingGroup 的使用</h2><p>使用：给对象添加 SortingGroup 组</p>
<p>我们可以使用 SortingGroup 组件控制场景当中显示的层级。</p>
<p>比如前景使用一个 SortingGroup，近景使用一个 SortingGroup，远景使用一个 SortingGroup。</p>
<p>对于子物体当中存在的 SortingGroup，每一个 SortingGroup 只管理自己的子物体显示。</p>
<h2 id="知识点三-注意事项"><a href="#知识点三-注意事项" class="headerlink" title="知识点三 注意事项"></a>知识点三 注意事项</h2><ol>
<li><p>子排序组，先排子对象 再按父对象和别人一起排 （同层和同层比）</p>
</li>
<li><p>多个 挂载排序分组组件的预设体 之间 通过修改排序索引号（OrderInLayer）来决定前后顺序</p>
</li>
<li><p>排序层级 SortingLayer 是优先于 transform 中的 z 轴的。</p>
</li>
<li><p>SortingGroup 的层级设置，高于 Sprite 本身的 SortingLayer。</p>
<p>也就是说，即使一个 Sprite 的 SortingLayer 高于 SortingGroup 的 SortingLayer，也会被降级显示为 SortingGroup 的 SortingLayer</p>
</li>
</ol>
<h1 id="SpriteAtlas-精灵图集-知识点"><a href="#SpriteAtlas-精灵图集-知识点" class="headerlink" title="SpriteAtlas 精灵图集 知识点"></a>SpriteAtlas 精灵图集 知识点</h1><h2 id="知识点一-为什么要打图集"><a href="#知识点一-为什么要打图集" class="headerlink" title="知识点一 为什么要打图集"></a>知识点一 为什么要打图集</h2><p>打图集的目的就是减少 DrawCall 提高性能</p>
<p>具体 DrawCall 是什么在 NGUI 课程中已经详细讲解</p>
<p>该节课是免费课，即使没有购买，也可以前往观看</p>
<p>在 2D 游戏开发，以及 UI 开发中是会频繁使用的功能</p>
<p>所以大家一定要先去看了 DrawCall 相关的知识再继续往下看</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yu1368072332/article/details/85676537">Unity DrawCall 详解_以梦为马,不负韶华的博客-CSDN 博客</a></p>
</blockquote>
<h2 id="知识点二-在-Unity-中打开自带的打图集功能"><a href="#知识点二-在-Unity-中打开自带的打图集功能" class="headerlink" title="知识点二 在 Unity 中打开自带的打图集功能"></a>知识点二 在 Unity 中打开自带的打图集功能</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-EditorManager.html">Editor - Unity 手册</a></p>
</blockquote>
<p>在工程设置面板中打开功能<br>Edit——&gt;Project Setting——&gt;Editor-&gt;Sprite Packer(精灵包装器，可以通过 Unity 自带图集工具生成图集)</p>
<h3 id="选项讲解"><a href="#选项讲解" class="headerlink" title="选项讲解"></a>选项讲解</h3><ul>
<li>Disabled：默认设置，不会打包图集</li>
<li>Enabled For Builds（Legacy Sprite Packer）：Unity 仅在构建时打包图集，在编辑模式下不会打包图集<br>Always Enabled（Legacy Sprite Packer）：Unity 在构建时打包图集，在编辑模式下运行前会打包图集</li>
<li>Legacy Sprite Packer 传统打包模式 相对下面两种模式来说 多了一个设置图片之间的间隔距离</li>
<li>Padding Power:选择打包算法在计算打包的精灵之间以及精灵与生成的图集边缘之间的间隔距离<br>这里的数字 代表 2 的 n 次方</li>
<li>Enabled For Build：Unity 进在构建时打包图集，在编辑器模式下不会打包</li>
<li>Always Enabled：Unity 在构建时打包图集，在编辑模式下运行前会打包图集</li>
</ul>
<p>本渣渣使用的 2020.3.37f1c1，2D 模板是以下选项</p>
<ul>
<li>Sprite Atlas V1 - Enabled For Builds</li>
<li>Sprite Atlas V1 - Always Enabled</li>
<li>Sprite Atlas V2 (experimental) - Enabled</li>
</ul>
<p>注意：如果这里设置为 Disabled，打图集面板中将没有 PackPreview，即不可打图集。</p>
<h2 id="知识点三-打图集面板参数相关"><a href="#知识点三-打图集面板参数相关" class="headerlink" title="知识点三 打图集面板参数相关"></a>知识点三 打图集面板参数相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-SpriteAtlas.html">精灵图集 - Unity 手册</a></p>
</blockquote>
<h3 id="Type：图集类型"><a href="#Type：图集类型" class="headerlink" title="Type：图集类型"></a>Type：图集类型</h3><p>Master：主图集</p>
<ul>
<li>Include in Build：选中可以在当前构建中包含图集</li>
<li>Allow Rotation：选中此选项将在打包图集时对图片元素进行旋转，可以最大限度提高组合后的图集密度；</li>
<li>注意！！！如果是 UI 图集，请禁用此选项，因为打包时会将场景中 UI 元素旋转</li>
<li>Tight Packing：选中此选项在打包图集时使用图片轮廓来打包而不是根据矩形，可以最大限度提高组合后的图集密度</li>
<li>Padding：图集中各图片的间隔像素</li>
</ul>
<p>Variant：变体类型的图集</p>
<ul>
<li>Master Atlas：关联的主图集（图集类型必须是 Master）</li>
<li>Include in Build：选中可以在当前构建中包含图集</li>
<li>Scale：设置变体图集的缩放因子（0~1），变体图集的大小是主图集乘以 Scale 的结果</li>
<li>变体图集的主要作用是以主图集为基础，对它进行缩放产生一个新的图集副本。如果想使用变体图集中的内容，只需要勾选变体图集的 Include in build 选项，而主图集禁用此选项即可</li>
</ul>
<h3 id="Texture"><a href="#Texture" class="headerlink" title="Texture"></a>Texture</h3><p><code>Read/Write Enabled</code>：允许通过脚本访问纹理数据。如果启用，会创建纹理数据的副本。会让内存翻倍，一般情况下不需要开启它</p>
<p>Generate Mip Maps：勾选它会生成 Mipmap；Mipmap 是一种性能优化手段，用内存换性能。一般情况下不用开启</p>
<p>SRGB：启用此属性可指定将纹理存储在伽马空间中。对于非 HDR 颜色纹理（例如反照率和镜面反射颜色），应始终选中此复选框。如果纹理存储了有特定含义的信息，并且您需要着色器中的确切值（例如，平滑度或金属度），请禁用此属性。默认情况下会启用此属性。</p>
<p>Filter Mode：纹理在 3D 变化拉伸时如何进行过滤</p>
<ul>
<li>Point：纹理靠近时变为块状</li>
<li>Bilinear：纹理靠近时变得模糊</li>
<li>Trilinear：与 Bilinear 类似，但是纹理在不同的 MIP 级别之间模糊</li>
</ul>
<h3 id="设备相关"><a href="#设备相关" class="headerlink" title="设备相关"></a>设备相关</h3><p>Default</p>
<ul>
<li>Format：指定纹理的内部表示，在不同平台上会有不同的参数</li>
<li>Compression：纹理压缩类型<ul>
<li>不压缩</li>
<li>低质量</li>
<li>普通质量</li>
<li>高质量</li>
<li>质量越高占用内存越多，不压缩质量最好</li>
</ul>
</li>
<li>Use Crunch Compression：使用 Crunch 压缩，是一种有损压缩格式，压缩耗时长，但是运行时解压速度快</li>
<li>Compressor Quality：压缩质量，质量越高纹理越大，耗时越长</li>
</ul>
<h3 id="Objects-for-Packing"><a href="#Objects-for-Packing" class="headerlink" title="Objects for Packing"></a>Objects for Packing</h3><p>关联需要打图集的图片们，注意：一定是 Sprite 类型的图片</p>
<p>可以直接拖入图片，或者拖入文件夹，或者点击加号添加。</p>
<h2 id="知识点四-代码控制"><a href="#知识点四-代码控制" class="headerlink" title="知识点四 代码控制"></a>知识点四 代码控制</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GameObject obj = <span class="keyword">new</span> GameObject();</span><br><span class="line">SpriteRenderer sr = obj.AddComponent&lt;SpriteRenderer&gt;();</span><br><span class="line"><span class="comment">//加载图集资源</span></span><br><span class="line">SpriteAtlas spriteAtlas = Resources.Load&lt;SpriteAtlas&gt;(<span class="string">&quot;MyAtlas&quot;</span>);</span><br><span class="line"><span class="comment">//加载图集资源中的某一张小图</span></span><br><span class="line">sr.sprite = spriteAtlas.GetSprite(<span class="string">&quot;dead1&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点五-观察-DrawCall-数量"><a href="#知识点五-观察-DrawCall-数量" class="headerlink" title="知识点五 观察 DrawCall 数量"></a>知识点五 观察 DrawCall 数量</h2><p>通过观察 Game 窗口 Stats 当中，Graphics：Batches，这是一个图像渲染相关参数。</p>
<p>可以通过此参数初步观察到 DrawCall。</p>
<p>如需具体数量，可以到 Profiler 面板查看 Rendering，当中有 DrawCall 数量。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=batches&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:610459313%7D">batches</a>，也就是合批次，我理解的意思是把相同材质或者相同的模型合并成一个 drawcall（绘图命令），通过 cpu 发送给 gpu，从而进行绘制，batches 和<a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=drawcall&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:610459313%7D">drawcall</a>的关系不大，一个是场景物体合并的过程，合并之后的才是 drawcall。【知乎】</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/313989500">Unity3d 的 Batches 如何限制硬件性能？ - 知乎 (zhihu.com)</a></p>
</blockquote>
<p>​</p>
<h2 id="练习题-3"><a href="#练习题-3" class="headerlink" title="练习题"></a>练习题</h2><h3 id="第一题-1"><a href="#第一题-1" class="headerlink" title="第一题"></a>第一题</h3><p>将我提供给大家的资源制作成图集，并且通过代码加载图集中的一张图片来使用</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GameObject pig = <span class="keyword">new</span> GameObject();</span><br><span class="line">SpriteRenderer sr = pig.AddComponent&lt;SpriteRenderer&gt;();</span><br><span class="line">SpriteAtlas sa = Resources.Load&lt;SpriteAtlas&gt;(<span class="string">&quot;Sprites/Atlas/PigAtlas&quot;</span>);</span><br><span class="line">sr.sprite = sa.GetSprite(<span class="string">&quot;6&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="第二题-1"><a href="#第二题-1" class="headerlink" title="第二题"></a>第二题</h3><p>在场景中有 3 张图片，3 张图片叠在一起放，最底层和最上层的图片在一个图集中，中间的图片和他们两不在一个图集中，请告诉我当前的 DrawCall 数量是多少？</p>
<blockquote>
<p>三个，因为中间的图片打乱了渲染顺序，没渲染一张图片，都会产生一次 DrawCall。</p>
</blockquote>
<h1 id="2D-物理系统"><a href="#2D-物理系统" class="headerlink" title="2D 物理系统"></a>2D 物理系统</h1><h1 id="刚体-2D-知识点"><a href="#刚体-2D-知识点" class="headerlink" title="刚体 2D 知识点"></a>刚体 2D 知识点</h1><h2 id="知识点一-学习-2D-物理系统的前提"><a href="#知识点一-学习-2D-物理系统的前提" class="headerlink" title="知识点一 学习 2D 物理系统的前提"></a>知识点一 学习 2D 物理系统的前提</h2><p>学习 2D 物理系统之前建议先学习 Unity 入门当中的 3D 物理系统，因为他们非常的类似。</p>
<p>由于我们之前详细讲解了 3D 物理系统，所以在讲解 2D 物理系统时会相对简洁一些，一些讲过的知识点就不过多赘述了。</p>
<h2 id="知识点二-2D-物理系统中的刚体组件"><a href="#知识点二-2D-物理系统中的刚体组件" class="headerlink" title="知识点二 2D 物理系统中的刚体组件"></a>知识点二 2D 物理系统中的刚体组件</h2><p>刚体是物理系统中用于帮助我们进行模拟物理碰撞中力的效果的。</p>
<p>2D 物理系统中的刚体和 3D 中的刚体基本是一样的<br>最大的区别是对象只会在 XY 平面中移动，并且只在垂直于该平面的轴上旋转。</p>
<p>产生碰撞的条件：两个物体一个有刚体和碰撞盒，一个有碰撞盒。</p>
<p>产生触发的条件：两个物体都有碰撞盒。</p>
<h2 id="知识点三-参数相关"><a href="#知识点三-参数相关" class="headerlink" title="知识点三 参数相关"></a>知识点三 参数相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Rigidbody2D.html">2D 刚体 - Unity 手册</a></p>
</blockquote>
<h3 id="Dynamic：动态类型"><a href="#Dynamic：动态类型" class="headerlink" title="Dynamic：动态类型"></a>Dynamic：动态类型</h3><p>受重力和力的影响移动和旋转。</p>
<ul>
<li><p><strong>Material</strong>：</p>
<p>物理材质，在刚体上设置了物理材质，如果子物体有碰撞器但是没有设置材质则会通用刚体的物理材质</p>
<p>如果不设置，将使用在 Physics 2D 窗口中设置的默认材质</p>
<p>物理材质的使用优先级：</p>
<ul>
<li>2D 碰撞器上指定的 2D 物理材质</li>
<li>2D 刚体上指定的 2D 物理材质</li>
<li>Physics 2D 窗口指定的 2D 默认物理材质</li>
</ul>
</li>
<li><p><strong>Simulated</strong>：<br>如果希望 2D 刚体以及所有子对象 2D 碰撞器和 2D 关节都能模拟物理效果<br>需要启用该选项</p>
</li>
<li><p><strong>Use Auto Mass</strong>：是否使用自动质量</p>
</li>
<li><p><strong>Mass</strong>：质量</p>
</li>
<li><p><strong>Linear Dray</strong>：影响位置移动的阻力系数</p>
</li>
<li><p><strong>Angular Drag</strong>：影响旋转移动的阻力系数</p>
</li>
<li><p><strong>Gravity Scale</strong>：受重力影响的程度</p>
</li>
<li><p><strong>Collision Detection</strong>：碰撞检测算法</p>
<ul>
<li><strong>Discrete</strong>：离散检测算法，只会用新位置进行计算，速度过快时会穿过</li>
<li><strong>Continuous</strong>：连续检测算法，计算量更大，但是不会发生穿过的情况</li>
</ul>
</li>
<li><p><strong>Sleeping Mode</strong>：对象处于静止状态时进入睡眠模式</p>
<ul>
<li><strong>Never Sleep</strong>：从不休眠，会一直进行检测计算，性能消耗较大</li>
<li><strong>Start Awake</strong>：最初处于唤醒状态</li>
<li><strong>Start Asleep</strong>：最初处于睡眠状态，但是可以被碰撞唤醒</li>
</ul>
</li>
<li><p><strong>Interpolate</strong>：物理更新间隔之间的插值运算</p>
<ul>
<li><strong>None</strong>：不应用移动平滑</li>
<li><strong>Interpolate</strong>：根据前一帧进行平滑处理</li>
<li><strong>Extrapolate</strong>：根据后一帧位置进行平滑处理</li>
</ul>
</li>
<li><p><strong>Constraints</strong>：约束限制，可以让某一个轴不受力影响位移或者旋转</p>
</li>
</ul>
<h3 id="Kinematic：运动学类型"><a href="#Kinematic：运动学类型" class="headerlink" title="Kinematic：运动学类型"></a>Kinematic：运动学类型</h3><p>不受力的影响，只能通过代码让其动起来<br>能和 Dynamic 2D 刚体产生碰撞，但是不会动，只会进入碰撞检测函数<br>因此它没有了质量摩擦系数等属性</p>
<p>因此它的性能能消耗较低，主要会通过代码来处理其移动旋转</p>
<ul>
<li><p>Simulated：</p>
<p>如果希望 2D 刚体以及所有子对象 2D 碰撞器和 2D 关节都能模拟物理效果，需要启用该选项</p>
<p>当启用时，会充当一个无限质量的不可移动对象，可以和所有 2D 刚体产生碰撞<br>如果 Use Full Kinematic Contacts 禁用，它只会和 Dynamic 2D 刚体碰撞</p>
</li>
<li><p>Use Full Kinematic Contacts：如果希望能和所有 2D 刚体碰撞，启用它。如果不启用，它不会和 Kinematic 2D 和 Static 2D 刚体碰撞</p>
</li>
</ul>
<h3 id="Static：静态类型"><a href="#Static：静态类型" class="headerlink" title="Static：静态类型"></a>Static：静态类型</h3><p>完全不动的需要检测碰撞的对象<br>相当于是无限质量不可移动的对象<br>它的性能消耗最小，它只能和 Dynamic 2D 刚体碰撞</p>
<p>和它类似的有只加碰撞器而不加刚体的物体<br>它们会和刚体物体产生碰撞，但是自己不会动</p>
<h2 id="知识点四-如何选择不同类型的刚体"><a href="#知识点四-如何选择不同类型的刚体" class="headerlink" title="知识点四 如何选择不同类型的刚体"></a>知识点四 如何选择不同类型的刚体</h2><p>Dynamic 动态刚体：受力的作用，要动要碰撞的对象</p>
<p>Kinematic 运动学刚体：通过刚体 API 移动的对象，不受力的作用，但是想要进行碰撞检测</p>
<p>Static 静态刚体：不动不受力作用的静态物体，但是想要进行碰撞检测</p>
<h2 id="知识点五-刚体-API"><a href="#知识点五-刚体-API" class="headerlink" title="知识点五 刚体 API"></a>知识点五 刚体 API</h2><p>API 上，基本和<strong>RigidBody3D</strong>一致。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加力</span></span><br><span class="line">Rigidbody2D rigid = <span class="keyword">this</span>.GetComponent&lt;Rigidbody2D&gt;();</span><br><span class="line">rigid.AddForce(<span class="keyword">new</span> Vector2(<span class="number">0</span>, <span class="number">100</span>));</span><br><span class="line"><span class="comment">//速度</span></span><br><span class="line">rigid.velocity = <span class="keyword">new</span> Vector2(<span class="number">1</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<h1 id="碰撞器-知识点"><a href="#碰撞器-知识点" class="headerlink" title="碰撞器 知识点"></a>碰撞器 知识点</h1><h2 id="知识点一-碰撞器是用来干嘛的？"><a href="#知识点一-碰撞器是用来干嘛的？" class="headerlink" title="知识点一 碰撞器是用来干嘛的？"></a>知识点一 碰撞器是用来干嘛的？</h2><p>碰撞器是用于在物理系统中，表示物体体积的的（形状或范围）</p>
<p>刚体通过得到碰撞器的范围信息进行计算</p>
<p>判断两个物体的范围是否接触</p>
<p>如果接触 刚体就会模拟力的效果产生速度和旋转</p>
<h2 id="知识点二-2D-碰撞器"><a href="#知识点二-2D-碰撞器" class="headerlink" title="知识点二 2D 碰撞器"></a>知识点二 2D 碰撞器</h2><h3 id="1-圆形碰撞器-Circle-Collider-2D"><a href="#1-圆形碰撞器-Circle-Collider-2D" class="headerlink" title="1.圆形碰撞器 Circle Collider 2D"></a>1.圆形碰撞器 Circle Collider 2D</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/CircleCollider2D.html">UnityEngine.CircleCollider2D - Unity 脚本 API</a></p>
</blockquote>
<ul>
<li>Material：一种物理材质，用于确定碰撞的属性，控制摩擦和弹性</li>
<li>Is Trigger：是否是触发器</li>
<li>Used By Effector：是否被附加的 2D 效应器使用</li>
<li>Offset：圆心偏移位置</li>
<li>Radius：圆形的半径</li>
</ul>
<h3 id="2-盒状碰撞器"><a href="#2-盒状碰撞器" class="headerlink" title="2.盒状碰撞器"></a>2.盒状碰撞器</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/BoxCollider2D.html">UnityEngine.BoxCollider2D - Unity 脚本 API</a></p>
</blockquote>
<ul>
<li><p>Used by Composite：如果勾选，则该碰撞器将附加到 2D 复合碰撞器中使用<br>勾选后，将消失一些属性，这些属性将在复合碰撞器中配置。</p>
<p>单独使用物体，不需要勾选。</p>
</li>
<li><p>Auto Tiling：如果经理渲染器组件的 Draw Mode 设置为 Tiled 平铺模式，勾选该选项后，当改变精灵大小时将自动更新碰撞器的尺寸</p>
</li>
<li><p>Size：矩形的宽高</p>
</li>
<li><p>Edge Radius：边圆角半径，使四个顶点为圆角</p>
</li>
</ul>
<h3 id="3-多边形碰撞器"><a href="#3-多边形碰撞器" class="headerlink" title="3.多边形碰撞器"></a>3.多边形碰撞器</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/PolygonCollider2D.html">UnityEngine.PolygonCollider2D - Unity 脚本 API</a></p>
</blockquote>
<p>Points：多边形顶点<br>虽然可以手动修改，但是一般情况下 我们通过数值编辑太复杂了<br>都通过 Edit Collider 编辑，或者让 Unity 自动识别创建</p>
<h3 id="4-边界碰撞器"><a href="#4-边界碰撞器" class="headerlink" title="4.边界碰撞器"></a>4.边界碰撞器</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/EdgeCollider2D.html">UnityEngine.EdgeCollider2D - Unity 脚本 API</a></p>
</blockquote>
<p>自定义边界，主要用来做特殊（不规则地形）</p>
<p>边界碰撞器的编辑主要还是通过 Edit Collider<br>一般不会手动去通过数值加点</p>
<h3 id="5-胶囊碰撞器"><a href="#5-胶囊碰撞器" class="headerlink" title="5.胶囊碰撞器"></a>5.胶囊碰撞器</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/CapsuleCollider2D.html">UnityEngine.CapsuleCollider2D - Unity 脚本 API</a></p>
</blockquote>
<ul>
<li>Size：胶囊的宽高</li>
<li>Direction：是竖直胶囊还是水平胶囊</li>
</ul>
<h3 id="6-复合碰撞器"><a href="#6-复合碰撞器" class="headerlink" title="6.复合碰撞器"></a>6.复合碰撞器</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/CompositeCollider2D.html">UnityEngine.CompositeCollider2D - Unity 脚本 API</a></p>
</blockquote>
<p>可以理解为，一个碰撞器是由多个碰撞器组成的。</p>
<p>一般父物体使用符合碰撞器，子物体勾选 Used by Composite，组合成一个碰撞器。</p>
<ul>
<li>Geometry Type：几何学类型，合并碰撞体时，碰撞体顶点将组合为两种不同的几何体类型<ul>
<li>Outlines：空心轮廓，类似边界碰撞器</li>
<li>Polygons：实心多边形，类似多边形碰撞器</li>
</ul>
</li>
<li>Generation Type：生成类型，复合碰撞器在何时生成新几何体<ul>
<li>Synchronous：对 2D 复合碰撞器或使用的其它碰撞器修改时，Unity 立即生成新几何体</li>
<li>Manual：手动生成新几何体，通过代码生成或者点击下方的 Regenerate Geometry 生成按钮</li>
</ul>
</li>
<li>Vertex Distance：从复合碰撞器收集顶点时允许的最小间距值，就是转角需要最小多少距离才产生碰撞轮廓。</li>
</ul>
<p>注意：复合碰撞器是配合 RigidBody 使用的！</p>
<h2 id="知识点三-碰撞检测函数"><a href="#知识点三-碰撞检测函数" class="headerlink" title="知识点三 碰撞检测函数"></a>知识点三 碰撞检测函数</h2><p>和 3D 一样，只不过函数名后加了<code>2D</code>。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//碰撞进入</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionEnter2D</span>(<span class="params">Collision2D collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//碰撞退出</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionExit2D</span>(<span class="params">Collision2D collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//碰撞持续</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnCollisionStay2D</span>(<span class="params">Collision2D collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//触发进入</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter2D</span>(<span class="params">Collider2D collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//触发退出</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerExit2D</span>(<span class="params">Collider2D collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//触发持续</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerStay2D</span>(<span class="params">Collider2D collision</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="练习题-4"><a href="#练习题-4" class="headerlink" title="练习题"></a>练习题</h2><p>在之前练习题的基础上，请用 2D 刚体和碰撞器制作一个玩家，它可以在一个平台上移动跳跃。</p>
<p>（注意：移动和跳跃都通过刚体的 API 进行制作，类似 3D 物理系统中刚体加力和给速度）</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Knight</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> moveSpeed = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> jumpHigh = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> GameObject rhombusBullet;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> inAir = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SpriteRenderer spriteRender;</span><br><span class="line">    <span class="keyword">private</span> Rigidbody2D rigidybody;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        spriteRender = <span class="keyword">this</span>.GetComponent&lt;SpriteRenderer&gt;();</span><br><span class="line">        rhombusBullet = Resources.Load&lt;GameObject&gt;(<span class="string">&quot;Prefabs/rhombusBullet&quot;</span>);</span><br><span class="line">        rigidybody = <span class="keyword">this</span>.GetComponent&lt;Rigidbody2D&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//MoveAndJumpUseTransform();</span></span><br><span class="line"></span><br><span class="line">        MoveAndJumpUseForce();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Fire</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        GameObject obj = Instantiate(rhombusBullet);</span><br><span class="line">        obj.transform.position = <span class="keyword">this</span>.transform.position;</span><br><span class="line">        RhombusBullet bullet = obj.GetComponent&lt;RhombusBullet&gt;();</span><br><span class="line">        bullet.ChangeDir(spriteRender.flipX ? Vector2.right : Vector2.left);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">MoveAndJumpUseTransform</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> horizontal = Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line">        <span class="built_in">float</span> vertical = Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.right * horizontal * moveSpeed * Time.deltaTime);</span><br><span class="line">        <span class="keyword">this</span>.transform.Translate(<span class="keyword">this</span>.transform.up * vertical * moveSpeed * Time.deltaTime);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//转向</span></span><br><span class="line">        <span class="keyword">if</span> (horizontal &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (horizontal &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//if (Input.GetKeyDown(KeyCode.Space))</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//    Fire();</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">MoveAndJumpUseForce</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> horizontal = Input.GetAxisRaw(<span class="string">&quot;Horizontal&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//左右移动</span></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKey(KeyCode.A) || Input.GetKey(KeyCode.D))</span><br><span class="line">        &#123;</span><br><span class="line">            rigidybody.AddForce(Vector2.right * moveSpeed * horizontal, ForceMode2D.Force);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//跳跃，不知道怎么控制多段跳啊</span></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Space))</span><br><span class="line">        &#123;</span><br><span class="line">            rigidybody.AddForce(Vector2.up * jumpHigh, ForceMode2D.Impulse);</span><br><span class="line">            <span class="comment">//inAir = true;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//控制左右移动手感，不至于太飘</span></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyUp(KeyCode.A) || Input.GetKeyUp(KeyCode.D))</span><br><span class="line">        &#123;</span><br><span class="line">            rigidybody.velocity = <span class="keyword">new</span> Vector2(moveSpeed * horizontal, rigidybody.velocity.y);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//转向</span></span><br><span class="line">        <span class="keyword">if</span> (horizontal &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (horizontal &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            spriteRender.flipX = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="物理材质-知识点"><a href="#物理材质-知识点" class="headerlink" title="物理材质 知识点"></a>物理材质 知识点</h1><h2 id="知识点一-什么是物理材质"><a href="#知识点一-什么是物理材质" class="headerlink" title="知识点一 什么是物理材质"></a>知识点一 什么是物理材质</h2><p>物理材质是用于决定在物体产生碰撞时这些物体之间的摩擦和弹性表现的。</p>
<p>通过物理材质我们可以做出类似斜坡不滑落，小球反弹等效果</p>
<p>在 Project 窗口右键-&gt;Create-&gt;2D-&gt;Physic Material2D，即可创建 2D 物理材质。</p>
<p>在 Project 窗口右键-&gt;Create-&gt;Physic Material，即可创建 3D 物理材质</p>
<p>物理材质一般用于 RigidBody（刚体）和 Collider（碰撞器）材质。</p>
<h2 id="知识点二-参数讲解-6"><a href="#知识点二-参数讲解-6" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-PhysicMaterial.html">物理材质 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-PhysicsMaterial2D.html">2D 物理材质 - Unity 手册</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Friction</strong></td>
<td>此碰撞体的摩擦系数。</td>
</tr>
<tr>
<td><strong>Bounciness</strong></td>
<td>碰撞从表面反弹的程度。值为 0 表示没有弹性，而值为 1 表示完美弹性，没有能量损失。</td>
</tr>
</tbody></table>
<p>Friction：摩擦系数，为 0 表示没有摩擦力，越高摩擦力越大<br>Bounciness：反弹程度。0 表示没有弹力，1 表示完美弹力（没有能量损失一直弹）</p>
<h1 id="恒定力-知识点"><a href="#恒定力-知识点" class="headerlink" title="恒定力 知识点"></a>恒定力 知识点</h1><h2 id="知识点一-什么是恒定力？"><a href="#知识点一-什么是恒定力？" class="headerlink" title="知识点一 什么是恒定力？"></a>知识点一 什么是恒定力？</h2><p><code>Constant Force</code>（恒定力）是一个特殊的脚本，它可以给一个 2D 刚体持续添加一个力，<br>在做一些随着时间推移而加速的对象时很适用。</p>
<p>比如类似火箭发射等效果。</p>
<p>恒定力脚本会线性的为对象添加力和扭矩力，让其移动和旋转。</p>
<h2 id="知识点二-参数讲解-7"><a href="#知识点二-参数讲解-7" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-ConstantForce.html">恒定力 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-ConstantForce2D.html">2D 恒定力 (Constant Force 2D) - Unity 手册</a></p>
</blockquote>
<p>注意：物体必须要拥有 RigidBody（刚体），才可以使用恒定力，因为恒定力是通过加力移动的。</p>
<p>2D 和 3D 都有这个脚本。</p>
<ul>
<li>Force：物理更新时施加于 2D 刚体上的线性力</li>
<li>Relative Force：物理更新时施加的线性力（相对刚体对象坐标系）</li>
<li>Torque：物理更新时施加于 2D 刚体的扭矩力，用于自动旋转。</li>
</ul>
<h1 id="区域效应器-知识点"><a href="#区域效应器-知识点" class="headerlink" title="区域效应器 知识点"></a>区域效应器 知识点</h1><h2 id="知识点一-2D-效应器是什么？"><a href="#知识点一-2D-效应器是什么？" class="headerlink" title="知识点一 2D 效应器是什么？"></a>知识点一 2D 效应器是什么？</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-AreaEffector2D.html">2D 区域效应器 (Area Effector 2D) - Unity 手册</a></p>
</blockquote>
<p>2D 效应器是配合 2D 碰撞器一起使用</p>
<p>可以让游戏对象在相互接触时产生一些特殊的物理作用力</p>
<p>可以通过 2D 效应器</p>
<p>快捷的实现一些类似传送带、互斥、吸引、漂浮、单向碰撞等等效果。</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Use Collider Mask</strong></td>
<td>选中此选项可启用 <strong>Collider Mask</strong> 属性。如果未启用此选项，则所有 2D 碰撞体都将默认采用全局碰撞矩阵 (Global Collision Matrix)。</td>
</tr>
<tr>
<td><strong>Collider Mask</strong></td>
<td>此遮罩用于选择允许与 2D 区域效应器进行交互的特定层。</td>
</tr>
<tr>
<td><strong>Use Global Angle</strong></td>
<td>选中此选项可将 <strong>Force Angle</strong> 定义为全局（世界空间）角度。如果未选中，物理引擎会将 <strong>Force Angle</strong> 视为局部角度。</td>
</tr>
<tr>
<td><strong>Force Angle</strong></td>
<td>要施加的力的角度。</td>
</tr>
<tr>
<td><strong>Force Magnitude</strong></td>
<td>要施加的力的大小。</td>
</tr>
<tr>
<td><strong>Force Variation</strong></td>
<td>要施加的力的大小变化。</td>
</tr>
<tr>
<td><strong>Drag</strong></td>
<td>应用于 2D 刚体的线性阻力。</td>
</tr>
<tr>
<td><strong>Angular Drag</strong></td>
<td>应用于 2D 刚体的角阻力。</td>
</tr>
<tr>
<td><strong>Force Target</strong></td>
<td>2D 区域效应器在目标游戏对象上施力的作用点。</td>
</tr>
<tr>
<td>Collider</td>
<td>目标点定义为 2D 碰撞体的当前位置。如果 2D 碰撞体没有位于质心处，则在此处施力会产生扭矩（旋转）。</td>
</tr>
<tr>
<td>Rigidbody</td>
<td>目标点定义为 2D 刚体的当前质心。在此处施力绝对不会产生扭矩（旋转）。</td>
</tr>
</tbody></table>
<h2 id="知识点二-不同种类-2D-效应器的使用"><a href="#知识点二-不同种类-2D-效应器的使用" class="headerlink" title="知识点二 不同种类 2D 效应器的使用"></a>知识点二 不同种类 2D 效应器的使用</h2><ol>
<li>区域效应器</li>
<li>浮力效应器</li>
<li>点效应器</li>
<li>平台效应器</li>
<li>表面效应器</li>
</ol>
<h2 id="1-区域效应器"><a href="#1-区域效应器" class="headerlink" title="1.区域效应器"></a>1.区域效应器</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-AreaEffector2D.html">2D 区域效应器 (Area Effector 2D) - Unity 手册</a></p>
</blockquote>
<p><code>Area Effector 2D</code>组件</p>
<p>主要作用：在一个区域内让游戏对象受到力和扭矩力的作用</p>
<p>注意：使用此组件需要勾选碰撞器的 Is Trigger，因为此组件是以触发器为基础工作的。</p>
<ul>
<li>Use Collider Mask：是否启用碰撞器遮罩，如果开启才会出现下面的 Collider Mask，可以通过选择层，决定该效应器只会作用于哪些层的对象</li>
<li>Use Global Angle：勾选将使用世界坐标系角度，如果不勾选，角度为局部角度</li>
<li>Force Angle：施加力的角度</li>
<li>Force Magnitude：施加力的大小</li>
<li>Force Variation：施加力的随机大小变化 会在 Force Magnitude 基础上根据该值进行随机变化</li>
<li>ForceTarget：效应器在目标对象上施加力的作用点<ul>
<li>Collider：以碰撞器的当前位置（如果碰撞器有偏移，没有位于质心，可能会产生扭矩力，带来旋转）</li>
<li>Rigidbody：以刚体的当前质心（不会产生扭矩力）</li>
</ul>
</li>
<li>Drag：阻力</li>
<li>Angular Drag：扭矩阻力</li>
</ul>
<h2 id="浮力效应器-知识点"><a href="#浮力效应器-知识点" class="headerlink" title="浮力效应器 知识点"></a>浮力效应器 知识点</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-BuoyancyEffector2D.html">2D 浮力效应器 (Buoyancy Effector 2D) - Unity 手册</a></p>
</blockquote>
<p><code>Buoyancy Effector 2D</code>组件</p>
<p>主要作用：模拟流体行为，浮动和阻力相关设置，让玩家在该区域看起来像在水里移动</p>
<p>注意：使用此组件需要勾选碰撞器的 Is Trigger，因为此组件是以触发器为基础工作的。</p>
<ul>
<li>Density：流体密度，密度较大，碰撞体会下沉，密度越小碰撞体会上浮密度和流体相同的碰撞体会浮在流体中</li>
<li>Surface Level：定义浮力流体的表面位置，对象高于此线时，不会对其施加浮力，以下或者相交会施加浮力。沿世界 Y 轴偏移</li>
<li>Linear Drag：影响对象在水中移动的阻力系数</li>
<li>Angular Drag：影响对象在水中旋转的阻力系数</li>
<li>Flow Angle：流体流动方向相对世界控件的角度，沿指定方向施加浮力</li>
<li>Flow Magnitude：与 FlowAngle 结合使用，前者决定力的角度，该值确定浮力大小</li>
<li>Flow Variation：随机改变流体力的值</li>
</ul>
<h2 id="点效应器-知识点"><a href="#点效应器-知识点" class="headerlink" title="点效应器 知识点"></a>点效应器 知识点</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-PointEffector2D.html">2D 点效应器 (Point Effector 2D) - Unity 手册</a></p>
</blockquote>
<p><code>Point Effector 2D</code>组件</p>
<p>主要作用：模拟磁铁 吸引或者排斥的效果</p>
<p>注意：使用此组件需要勾选碰撞器的 Is Trigger，因为此组件是以触发器为基础工作的。</p>
<ul>
<li>Force Magnitude：施加力的大小，负数就是吸力，正数就是排斥力。</li>
<li>Force Variation：施加力的大小变化。</li>
<li>Distance Scale：效应器和目标之间距离的缩放。计算距离时，会按该比值对距离进行缩放。</li>
<li>Force Source：力源来自哪个位置，从该点计算距离。<ul>
<li>Collider：碰撞器的位置</li>
<li>Rigidbody：刚体的位置</li>
</ul>
</li>
<li>Force Target：作用力目标位置，用改点计算位置<ul>
<li>Collider：碰撞器的位置，如果碰撞器有偏移，可能会产生扭矩力</li>
<li>Rigidbody：刚体的位置，不会产生扭矩力</li>
</ul>
</li>
<li>Force Mode：计算力的模式<ul>
<li>Constant：忽略源和目标之间相隔的距离</li>
<li>Inverse Linear：反线性距离计算，距离越远，力的大小呈线性减小</li>
<li>Inverse Squared：反平方距离计算，力的大小呈指数减小（按平方下降），类似现实世界重力</li>
</ul>
</li>
</ul>
<h2 id="平台效应器-知识点"><a href="#平台效应器-知识点" class="headerlink" title="平台效应器 知识点"></a>平台效应器 知识点</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-SurfaceEffector2D.html">2D 表面效应器 (Surface Effector 2D) - Unity 手册</a></p>
</blockquote>
<p>主要作用：2D 游戏当中的平台或可往上跳跃的墙壁</p>
<p>注意：不用勾选触发器</p>
<ul>
<li>Rotational Offset：旋转偏移量，控制平台角度偏移</li>
<li>One Way<ul>
<li>Use One Way：是否使用单向碰撞行为</li>
<li>Use One Way Grouping：当平台式有多个碰撞器组合时，可以通过它将所有碰撞器设置为单向碰撞行为</li>
<li>Surface Arc：以局部坐标系下向上的方向为中心，填写一个角度值，定义不允许通过的表面，该角度外的其它地方视为单向碰撞</li>
</ul>
</li>
<li>Sides<ul>
<li>Use Side Friction：是否应该在平台两侧使用摩擦</li>
<li>Use Side Bounce：是否应该在平台两侧使用弹性</li>
<li>Side Arc：用于定义左右两侧平台的响应弧度</li>
</ul>
</li>
</ul>
<h2 id="表面效应器-知识点"><a href="#表面效应器-知识点" class="headerlink" title="表面效应器 知识点"></a>表面效应器 知识点</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-SurfaceEffector2D.html">2D 表面效应器 (Surface Effector 2D) - Unity 手册</a></p>
</blockquote>
<p>主要作用：模拟传送带</p>
<p>注意：不用勾选触发器</p>
<ul>
<li>Force<ul>
<li>Speed：表面保持的速度</li>
<li>Speed Variation：速度的随机增加值</li>
<li>Force Scale：缩放沿表面移动时施加的力。如果是 0 表示不施加力，相当于禁用。值越低越慢，值越高越快，建议不要设置为 1，因为当设置为 1 时可能会抵消施加在物体上的其它力，比如跳跃的力</li>
</ul>
</li>
<li>Options<ul>
<li>Use Contact Force：是否对接触物体表面的出点施加力，如果选择会让对象旋转，如果不开启则不会旋转</li>
<li>Use Friction：是否使用摩擦力</li>
<li>Use Bounce：是否使用弹力</li>
</ul>
</li>
</ul>
<h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>效应器其实只是 Unity 为我们写好的一些 2D 游戏中常用功能的一些代码</p>
<p>在实际开发中我们不应该过于依赖效应器</p>
<p>如果发现效应器和自己的游戏需求不太匹配时</p>
<p>我们完全可以自己实现符合需求的“效应器”</p>
<h2 id="练习题-5"><a href="#练习题-5" class="headerlink" title="练习题"></a>练习题</h2><p>在上一次练习题的基础上，在场景中加入各种效应器，让场景更具多样性。</p>
<h1 id="SpriteShape"><a href="#SpriteShape" class="headerlink" title="SpriteShape"></a>SpriteShape</h1><h1 id="SpriteShapeProfile-精灵形状概述文件-知识点"><a href="#SpriteShapeProfile-精灵形状概述文件-知识点" class="headerlink" title="SpriteShapeProfile 精灵形状概述文件 知识点"></a>SpriteShapeProfile 精灵形状概述文件 知识点</h1><h2 id="知识点一-SpriteShape-是用来做什么的？"><a href="#知识点一-SpriteShape-是用来做什么的？" class="headerlink" title="知识点一 SpriteShape 是用来做什么的？"></a>知识点一 SpriteShape 是用来做什么的？</h2><p>顾名思义，SpriteShape 是精灵形状的意思。</p>
<p>它主要是方便我们节约美术资源为前提而使用的，制作 2D 游戏场景地形或者背景的。</p>
<h2 id="知识点二-导入-SpriteShape-工具"><a href="#知识点二-导入-SpriteShape-工具" class="headerlink" title="知识点二 导入 SpriteShape 工具"></a>知识点二 导入 SpriteShape 工具</h2><ol>
<li>在 Package Manager 中导入相关工具</li>
<li>可以选择性导入事例和拓展资源</li>
</ol>
<h2 id="知识点三-准备-精灵形状概括资源"><a href="#知识点三-准备-精灵形状概括资源" class="headerlink" title="知识点三 准备 精灵形状概括资源"></a>知识点三 准备 精灵形状概括资源</h2><p>想要节约美术资源的创建地形或其它类似资源，首先我们要准备精灵形状概括资源，之后我们就会使用它来创建地形等资源。</p>
<ol>
<li>开放不封闭的图形</li>
<li>封闭的图形</li>
</ol>
<h3 id="Sprite-Shape-Profile"><a href="#Sprite-Shape-Profile" class="headerlink" title="Sprite Shape Profile"></a>Sprite Shape Profile</h3><p>精灵形状概述文件配置</p>
<ul>
<li>Use Sprite Borders：是否使用精灵边框，用于九宫格拉伸</li>
<li>Texture：用于填充实心部分的纹理（使用的纹理的平铺模式必须是 Repeat 重复模式）</li>
<li>Offset：纹理偏移量</li>
<li>Angle Ranges：角度范围<ul>
<li>这里的设置主要用于封闭图形，在不同角度范围内使用的图片不同，可以达到一个封闭效果。</li>
<li>Angle Ranges：角度范围</li>
<li>Start：起始角度</li>
<li>End：结束角度</li>
<li>Order：Sprite 相交时的优先级，优先级高的显示在前面</li>
</ul>
</li>
<li>Sprites：指定角度范围内的精灵列表<br>在该角度范围内，可以选择使用的图片资源</li>
<li>Corners：指定角显示的精灵图片，主要用于封闭图形<ul>
<li>外部四个角用的图片</li>
<li>内部四个角用的图片</li>
</ul>
</li>
</ul>
<h2 id="知识点四-使用精灵形状概括资源创建地形"><a href="#知识点四-使用精灵形状概括资源创建地形" class="headerlink" title="知识点四 使用精灵形状概括资源创建地形"></a>知识点四 使用精灵形状概括资源创建地形</h2><p>在我使用的 Unity2020.3 版本当中，不能直接创建封闭或者不封闭的 SpriteShape Profile。</p>
<p>只能直接创建 Sprite Shap Profile，创建出来是不封闭的。</p>
<p>可以手动调整为封闭的。</p>
<p>Project 窗口右键-&gt;create-&gt;2D-&gt;Sprite Shape Profile</p>
<p>添加指定角度图片，和填充 Texture，突入场景即可使用。</p>
<h1 id="SpriteShapeRenderer-和-Controller-知识点"><a href="#SpriteShapeRenderer-和-Controller-知识点" class="headerlink" title="SpriteShapeRenderer 和 Controller 知识点"></a>SpriteShapeRenderer 和 Controller 知识点</h1><h2 id="知识点一-回顾：使用精灵形状概述文件"><a href="#知识点一-回顾：使用精灵形状概述文件" class="headerlink" title="知识点一 回顾：使用精灵形状概述文件"></a>知识点一 回顾：使用精灵形状概述文件</h2><p>创建，然后拖入创建，创建一个 SpriteShape</p>
<h2 id="知识点二-Sprite-Shape-Renderer-参数相关"><a href="#知识点二-Sprite-Shape-Renderer-参数相关" class="headerlink" title="知识点二 Sprite Shape Renderer 参数相关"></a>知识点二 Sprite Shape Renderer 参数相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-SpriteShapeRenderer.html">Sprite Shape Renderer - Unity 手册</a></p>
</blockquote>
<p>Sprite Shape Renderer：精灵形状渲染器</p>
<p>该组件主要是控制 材质 颜色 以及和其它 Sprite 交互时的排序等等信息，基本上和 SpriteRenderer 差不多。</p>
<ul>
<li>Color：颜色</li>
<li>Mask Interaction：遮罩相互作用规则设置</li>
<li>Fill Material 和 Edge Material：填充材质和边缘材质</li>
<li>Sorting Layer 和 Order in Layer：排序相关</li>
</ul>
<h2 id="知识点三-Sprite-Shape-Controller-参数相关"><a href="#知识点三-Sprite-Shape-Controller-参数相关" class="headerlink" title="知识点三 Sprite Shape Controller 参数相关"></a>知识点三 Sprite Shape Controller 参数相关</h2><p>Sprite Shape Controller：精灵形状控制器组件</p>
<ul>
<li><p>Profile：使用的精灵形状概述文件</p>
</li>
<li><p>Detail：精灵形状的质量<br>高中低三种质量</p>
</li>
<li><p>Is Open Ended：是否是开放的，不封闭的</p>
</li>
<li><p>Adaptive UV：自适应 UV，如果开启，会自动帮助我们判断是平铺还是拉伸<br>开启后只有宽度够才会平铺，如果宽度不够会拉伸<br>不开启始终平铺，但是可能会出现裁剪效果<br>一般根据你的实际效果进行选择</p>
</li>
<li><p>Optimize Geometry：优化三角形数量，勾选后会最小化精灵图形中的三角形数量</p>
</li>
<li><p>Enable Tangents：是否启用切线计算功能<br>如果你的着色器中需要切线信息参与计算，则勾选</p>
</li>
<li><p>Corner Threshold：角阈值，当拐角处的角度达到这个阈值时将使用角图片</p>
</li>
<li><p>Stretch UV：是否拉伸 UV，如果勾选纹理的 UV 将伸展到整个精灵形状的直线上</p>
</li>
<li><p>Pixel Per Unit：禁用拉伸 UV 时才有，Unity 单位对应多少像素，较高的值会较少纹理的大小</p>
</li>
<li><p>Worldspace UV：根据世界控件的 UV 填充纹理</p>
</li>
<li><p>启用编辑状态后</p>
<ul>
<li><p>Tangent Mode ：切线模式</p>
<p>从左至右依次是：<br>顶点模式-点两侧不构成曲线<br>切线模式-点两侧构成曲线，并且可以控制切线弧度<br>左右切线模式-点两侧构成曲线，并且可以分别控制左右两侧切线弧度</p>
</li>
<li><p>Position：选中点的局部坐标位置</p>
</li>
<li><p>Height：控制点左右两侧精灵图片的高度</p>
</li>
<li><p>Corner：是否使用角度图片</p>
<ul>
<li>Disabled：不使用角度图片</li>
<li>Automatic：自动</li>
</ul>
</li>
<li><p>Sprite Variant：选择使用的精灵图片</p>
</li>
<li><p>Snapping：是否开启捕捉设置控制点，开启后，移动点会按步长移动。</p>
</li>
</ul>
</li>
</ul>
<h2 id="知识点四-生成碰撞器"><a href="#知识点四-生成碰撞器" class="headerlink" title="知识点四 生成碰撞器"></a>知识点四 生成碰撞器</h2><ol>
<li>使用边界碰撞器（Edge Collider）</li>
<li>使用多边形碰撞器（Polygon Collider）配合复合碰撞器（Composite Collider）</li>
</ol>
<h1 id="Tilemap-瓦片地图"><a href="#Tilemap-瓦片地图" class="headerlink" title="Tilemap 瓦片地图"></a>Tilemap 瓦片地图</h1><h1 id="瓦片资源-知识点"><a href="#瓦片资源-知识点" class="headerlink" title="瓦片资源 知识点"></a>瓦片资源 知识点</h1><h2 id="知识点一-什么是-Tilemap？"><a href="#知识点一-什么是-Tilemap？" class="headerlink" title="知识点一 什么是 Tilemap？"></a>知识点一 什么是 Tilemap？</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-CreatingTilemaps.html">创建瓦片地图 (Tilemap) - Unity 手册</a></p>
</blockquote>
<p>Tilemap 一般称之为瓦片地图或者平铺地图，是 Unity2017 中新增的功能<br>主要用于快速编辑 2D 游戏中的场景，通过复用资源的形式提升地图多样性。</p>
<p>工作原理就是用一张张的小图排列组合为一张大地图</p>
<p>它和 SpriteShape 的异同</p>
<ul>
<li>共同点<ul>
<li>他们都是用于制作 2D 游戏的场景或地图的</li>
</ul>
</li>
<li>不同点<ol>
<li>SpriteShape 可以让地形有弧度,TileMap 不行</li>
<li>TileMap 可以快捷制作有伪“Z”轴的地图，SpriteShape 不行</li>
</ol>
</li>
</ul>
<h2 id="知识点二-从-PackageManager-中引入-Tilemap-包"><a href="#知识点二-从-PackageManager-中引入-Tilemap-包" class="headerlink" title="知识点二 从 PackageManager 中引入 Tilemap 包"></a>知识点二 从 PackageManager 中引入 Tilemap 包</h2><p>在 PackageManager 搜索 TileMap，然后导入。</p>
<h2 id="知识点三-Tilemap-的最小单位——“瓦片”"><a href="#知识点三-Tilemap-的最小单位——“瓦片”" class="headerlink" title="知识点三 Tilemap 的最小单位——“瓦片”"></a>知识点三 Tilemap 的最小单位——“瓦片”</h2><p>首先导入学习用资源</p>
<p>方法一：<br>Assets——&gt;Create——&gt;Tile</p>
<p>方法二：<br>在 Tile Palette 瓦片调色板窗口创建 1.首先新建一个瓦片地图编辑文件 2.将资源拖入到窗口中选择要保存的路径</p>
<h3 id="参数相关"><a href="#参数相关" class="headerlink" title="参数相关"></a>参数相关</h3><ul>
<li>Preview：预览图</li>
<li>Sprite：瓦片关联的精灵纹理</li>
<li>Color：瓦片色调颜色</li>
<li>Collider Type：碰撞器类型</li>
<li>None：不生成碰撞器</li>
<li>Sprite：基于精灵轮廓生成碰撞器形状</li>
<li>Grid：基于瓦片单元格生成碰撞器形状</li>
</ul>
<h1 id="瓦片调色板窗口-知识点"><a href="#瓦片调色板窗口-知识点" class="headerlink" title="瓦片调色板窗口 知识点"></a>瓦片调色板窗口 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Grid.html">Grid - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Tilemap.html">Tilemap - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-创建瓦片调色器相关参数"><a href="#知识点一-创建瓦片调色器相关参数" class="headerlink" title="知识点一 创建瓦片调色器相关参数"></a>知识点一 创建瓦片调色器相关参数</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-CreatingTilemaps.html">创建瓦片地图 (Tilemap) - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-Palette.html">Creating a Tile Palette - Unity 手册</a></p>
</blockquote>
<p>在<code>TilePalette</code>窗口，选择<code>Create New TilePalette</code>，创建瓦片调色器。</p>
<ul>
<li><p>Name：瓦片调色器名称</p>
</li>
<li><p>Grid：瓦片的网格布局</p>
<ul>
<li><p>Rectangle：矩形瓦片</p>
</li>
<li><p>Hexagon：六边形瓦片</p>
</li>
<li><p>Isometric：等距瓦片，单元格为菱形</p>
</li>
<li><p>Isometric Z as Y：等距瓦片并且 Unity 将单元格 Z 轴转换为局部 Y 坐标</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-Isometric.html">等距瓦片地图 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-Isometric-CreateIso.html">创建等距瓦片地图 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-Isometric-RenderModes.html">Tilemap Renderer 模式 - Unity 手册</a></p>
</blockquote>
</li>
</ul>
</li>
<li><p>Hexagon Type：六边形瓦片地图类型</p>
<ul>
<li>Point Top：点朝顶部的六边形</li>
<li>Flat Top：面朝顶部的六边形</li>
</ul>
</li>
<li><p>Cell Size：瓦片绘制到单元格的大小</p>
<ul>
<li>Automatic：基于瓦片资源的精灵大小自动设置</li>
<li>Manual：自定义大小</li>
</ul>
</li>
</ul>
<p>注意：如果创建的是<code>Isometric，Isometric Z as Y</code>类型的瓦片地图</p>
<p>需要进行设置</p>
<ul>
<li>Project Setting-&gt;Graphic-&gt;Transparency Sort Mode 为 CustomAxis</li>
<li>Project Setting-&gt;Graphic-&gt;Transparency Sort Axis 为(0, 1, -0.26)，才能正确显示格子。</li>
<li>将组件 TileMapRenderer 中的 Mode 设置为 Individual，才能单独渲染每一个格子。</li>
</ul>
<h2 id="知识点二-TilePalette-瓦片调色板窗口基本操作技巧"><a href="#知识点二-TilePalette-瓦片调色板窗口基本操作技巧" class="headerlink" title="知识点二 TilePalette 瓦片调色板窗口基本操作技巧"></a>知识点二 TilePalette 瓦片调色板窗口基本操作技巧</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/Tilemap-Painting.html">在瓦片地图上绘制 - Unity 手册</a></p>
</blockquote>
<p>操作技巧</p>
<ul>
<li>单击瓦片——选择瓦片</li>
<li>在多个瓦片上移动——选择多个瓦片</li>
<li>Alt+左键拖动——平移</li>
<li>滚轮键拖动——平移</li>
<li>旋转滚轮键——放大&#x2F;缩小</li>
</ul>
<h2 id="知识点三-TilePalette-瓦片调色板窗口面板基本功能"><a href="#知识点三-TilePalette-瓦片调色板窗口面板基本功能" class="headerlink" title="知识点三 TilePalette 瓦片调色板窗口面板基本功能"></a>知识点三 TilePalette 瓦片调色板窗口面板基本功能</h2><p>一般来说，先使用选取工具选择，然后使用画笔工具绘制到地图。</p>
<h2 id="知识点四-编辑瓦片地图"><a href="#知识点四-编辑瓦片地图" class="headerlink" title="知识点四 编辑瓦片地图"></a>知识点四 编辑瓦片地图</h2><p>方法一：通过瓦片调色板文件创建<br>方法二：直接在场景中进行创建</p>
<p>矩形瓦片地图用于做横版游戏地图<br>六边形瓦片地图用于做策略游戏地图<br>等距瓦片地图用于做有”Z”轴的 2D 游戏</p>
<p>注意：<br>在编辑等距瓦片地图时</p>
<ol>
<li>需要修改工程的自定义轴排序 以 Y 轴决定渲染顺序</li>
<li>如果地图存在前后关系需要修改 TileRenderer 的渲染模式</li>
<li>可以通过 Z 轴偏移来控制绘制单个瓦片时的高度</li>
<li>精灵纹理的中心点会影响最终的显示效果</li>
</ol>
<h1 id="瓦片地图关键脚本和碰撞器-知识点"><a href="#瓦片地图关键脚本和碰撞器-知识点" class="headerlink" title="瓦片地图关键脚本和碰撞器 知识点"></a>瓦片地图关键脚本和碰撞器 知识点</h1><h2 id="知识点一-回顾：瓦片地图编辑"><a href="#知识点一-回顾：瓦片地图编辑" class="headerlink" title="知识点一 回顾：瓦片地图编辑"></a>知识点一 回顾：瓦片地图编辑</h2><p>在 Project 窗口当中创建 2D TileMap，拖入瓦片资源。</p>
<p>选择工具，在地图上绘制即可。</p>
<h2 id="知识点二-瓦片地图关键脚本参数"><a href="#知识点二-瓦片地图关键脚本参数" class="headerlink" title="知识点二 瓦片地图关键脚本参数"></a>知识点二 瓦片地图关键脚本参数</h2><h3 id="Grid-组件"><a href="#Grid-组件" class="headerlink" title="Grid 组件"></a>Grid 组件</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Grid.html">Grid - Unity 手册</a></p>
</blockquote>
<ul>
<li>Cell Size：网格单元格的大小</li>
<li>Cell Gap：网格之间的间隔大小</li>
<li>Cell Layout：网格单元的形状和排列<ul>
<li>Rectangle：矩形</li>
<li>Hexagon：六边形</li>
<li>Isometric：等距布局，单元格为菱形</li>
<li>Isometric Z as Y：等距布局，但 Unity 将单元格 Z 轴转换为局部 Y 坐标</li>
</ul>
</li>
<li>Cell Swizzle：Unity 将 XYZ 单元格坐标重新排序为你选择的类型</li>
</ul>
<p>注意：Sprite 资源的<code>Pixels Per Unit</code>参数将影响 Sprite 在瓦片上的显示</p>
<h3 id="TileMap-组件"><a href="#TileMap-组件" class="headerlink" title="TileMap 组件"></a>TileMap 组件</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Tilemap.html">Tilemap - Unity 手册</a></p>
</blockquote>
<ul>
<li>Animation Frame Rate：Unity 播放瓦片动画的速率。相当于倍速</li>
<li>Color：瓦片色调颜色</li>
<li>Tile Anchor：瓦片的锚点偏移</li>
<li>Orientation：瓦片地图上瓦片的方向。相当于 2D 平面使用的是 Unity 中的哪两个轴</li>
</ul>
<h3 id="TIleMapRenderer"><a href="#TIleMapRenderer" class="headerlink" title="TIleMapRenderer"></a>TIleMapRenderer</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-TilemapRenderer.html">瓦片地图渲染器 (Tilemap Renderer) - Unity 手册</a></p>
</blockquote>
<ul>
<li>Sort Order：设置所选瓦片地图上的瓦片排序方向</li>
<li>Mode：渲染器的渲染模式<ul>
<li>Chunk：按位置对瓦片进行分组，并将瓦片精灵一起批处理进行渲染，性能较好</li>
<li>Individual：单独渲染每个瓦片，会考虑他们的位置和排序顺序。会让瓦片精灵和场景中其它渲染器或自定义排序轴进行交互。使用 Isometric Z as Y 模式，将需要选用此模式。</li>
</ul>
</li>
<li>Detect Chunk Culling：渲染器如何剔除瓦片地图的边界（如何处理摄像机范围外的瓦片地图）<ul>
<li>Auto：自动检测</li>
<li>Manual：手动设置拓展边界</li>
</ul>
</li>
<li>Chunk Culling Bounds：当选择手动设置剔除拓展边界时，可以在这里自己填写拓展的值</li>
</ul>
<h2 id="知识点三-瓦片地图碰撞器"><a href="#知识点三-瓦片地图碰撞器" class="headerlink" title="知识点三 瓦片地图碰撞器"></a>知识点三 瓦片地图碰撞器</h2><p>为挂载 TilemapRenerer 脚本的对象添加 Tilemap Collider2D 脚本，会自动添加碰撞器。</p>
<p>注意：想要生成碰撞器的瓦片 Collider Type 类型要进行设置</p>
<p>在 Sprite 资源的 Inspector 窗口可以设置</p>
<h1 id="瓦片地图关键脚本和碰撞器-练习题一（重要内容）"><a href="#瓦片地图关键脚本和碰撞器-练习题一（重要内容）" class="headerlink" title="瓦片地图关键脚本和碰撞器 练习题一（重要内容）"></a>瓦片地图关键脚本和碰撞器 练习题一（重要内容）</h1><p>注意：</p>
<ol>
<li>我们不应该过渡依赖 TileMap。比如，我们要实现一个方块可以被玩家顶掉（马里奥），就可以直接使用一个 Sprite，而不是使用 TileMap。</li>
<li>我们应该综合的应用 TileMap 和各种工具，TileMap 主要是制作通用的地图的。</li>
</ol>
<h1 id="瓦片地图关键脚本和碰撞器-练习题二（重要内容）"><a href="#瓦片地图关键脚本和碰撞器-练习题二（重要内容）" class="headerlink" title="瓦片地图关键脚本和碰撞器 练习题二（重要内容）"></a>瓦片地图关键脚本和碰撞器 练习题二（重要内容）</h1><p>重点知识运用</p>
<ol>
<li>等距瓦片地图的两项重要设置<ol>
<li>Project Setting-&gt;Graphic-&gt;Transparency Sort Mode 为 CustomAxis</li>
<li>Project Setting-&gt;Graphic-&gt;Transparency Sort Axis 为(0, 1, -0.26)，才能正确显示格子。</li>
<li>将组件 TileMapRenderer 中的 Mode 设置为 Individual，才能单独渲染每一个格子。</li>
</ol>
</li>
<li>两种等距瓦片地图的区别</li>
<li>等距瓦片地图的排序问题<ol>
<li>轴心点排序</li>
<li>排序层排序（推荐）</li>
</ol>
</li>
<li>等距瓦片地图角色不使用重力<ol>
<li>因为底面是不生成碰撞器的</li>
</ol>
</li>
<li>等距瓦片碰撞器建议使用格子形状<ol>
<li>向上碰撞问题：可以通过设定一个另一个格子的碰撞盒，移动碰撞盒解决。</li>
</ol>
</li>
<li>等距瓦片地图上跳跃问题<ol>
<li>设定一个父物体，跳跃时，控制子物体的坐标，达到一个跳跃的效果，但是没有移动。</li>
<li>移动时，移动父物体即可。</li>
</ol>
</li>
</ol>
<h1 id="瓦片地图拓展包—导入-知识点"><a href="#瓦片地图拓展包—导入-知识点" class="headerlink" title="瓦片地图拓展包—导入 知识点"></a>瓦片地图拓展包—导入 知识点</h1><h2 id="知识点一-下载官方拓展包"><a href="#知识点一-下载官方拓展包" class="headerlink" title="知识点一 下载官方拓展包"></a>知识点一 下载官方拓展包</h2><p>下载地址：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/Unity-Technologies/2d-extras">https://github.com/Unity-Technologies/2d-extras</a></p>
<h2 id="知识点二-导入官方拓展包"><a href="#知识点二-导入官方拓展包" class="headerlink" title="知识点二 导入官方拓展包"></a>知识点二 导入官方拓展包</h2><p>解压后直接拖入到 Assets 文件夹中即可</p>
<h2 id="知识点三-了解官方拓展包为-Tilemap-添加了什么"><a href="#知识点三-了解官方拓展包为-Tilemap-添加了什么" class="headerlink" title="知识点三 了解官方拓展包为 Tilemap 添加了什么"></a>知识点三 了解官方拓展包为 Tilemap 添加了什么</h2><p>拓展包为 Tilemap 添加新的瓦片类型和笔刷类型，帮助我们更加方便的编辑 2D 场景。</p>
<h1 id="瓦片地图拓展包—新增瓦片类型-知识点"><a href="#瓦片地图拓展包—新增瓦片类型-知识点" class="headerlink" title="瓦片地图拓展包—新增瓦片类型 知识点"></a>瓦片地图拓展包—新增瓦片类型 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.8/manual/Tiles.html">Scriptable Tiles | 2D Tilemap Extras | 1.8.4-preview (unity3d.com)</a></p>
</blockquote>
<h2 id="知识点一-规则瓦片-RuleTile"><a href="#知识点一-规则瓦片-RuleTile" class="headerlink" title="知识点一 规则瓦片 RuleTile"></a>知识点一 规则瓦片 RuleTile</h2><p>定义不同方向是否存在连接图片的规则</p>
<p>让我们更加快捷的进行地图编辑</p>
<p>参数</p>
<ul>
<li>Default Sprite：默认图片</li>
<li>Default GameObject ：默认游戏对象</li>
<li>Default Collider：默认碰撞器规则</li>
<li>Tiling Rules：平铺规则 可以自己添加删除</li>
</ul>
<h2 id="知识点二-动画瓦片-AnimatedTile"><a href="#知识点二-动画瓦片-AnimatedTile" class="headerlink" title="知识点二 动画瓦片 AnimatedTile"></a>知识点二 动画瓦片 AnimatedTile</h2><p>可以指定序列帧，产生可以播放序列帧动画的瓦片。</p>
<ul>
<li>Number Of Animated Sprites：动画有多少张图构成</li>
<li>Minimum Speed：最小播放速度</li>
<li>Maximum Speed：最大播放速度</li>
<li>Start Time：开始播放的时间</li>
<li>Strat Frame：从那一帧开始播放</li>
</ul>
<h2 id="知识点三-管道瓦片-PipelineTile"><a href="#知识点三-管道瓦片-PipelineTile" class="headerlink" title="知识点三 管道瓦片 PipelineTile"></a>知识点三 管道瓦片 PipelineTile</h2><p>根据自己相邻瓦片的数量更换显示的图片</p>
<ul>
<li>None：一个都不相邻时使用的图片</li>
<li>One——Four：相邻 1~4 个时使用的图片</li>
</ul>
<h2 id="知识点四-随机瓦片-RandomTile"><a href="#知识点四-随机瓦片-RandomTile" class="headerlink" title="知识点四 随机瓦片 RandomTile"></a>知识点四 随机瓦片 RandomTile</h2><p>根据你设置的图片，随机从中选一个进行绘制</p>
<ul>
<li>Number Of Sprites：随机图片数量（之后会随机取一个图片来使用）</li>
</ul>
<h2 id="知识点五-地形瓦片-TerrainTile"><a href="#知识点五-地形瓦片-TerrainTile" class="headerlink" title="知识点五 地形瓦片 TerrainTile"></a>知识点五 地形瓦片 TerrainTile</h2><p>有点类似规则瓦片，只不过地形瓦片是帮助你定好的规则</p>
<ul>
<li>Filled:填满</li>
<li>Three Sides:三个面</li>
<li>Two Sides and One Corner:两面一角</li>
<li>Two Adjacent Sides:相邻两侧</li>
<li>Two Opposite Sides:两个相对的侧面</li>
<li>One Side and Two Corners:一侧和两个角</li>
<li>One Side and One Upper Corner:一边和上角</li>
<li>One Side:一面</li>
<li>Four Corners:四个角</li>
<li>Three Corners:三个角</li>
<li>Two Adjacent Corners:两个相邻角</li>
<li>Two Opposite Corners：两个相反的角</li>
<li>One Corner：一个角</li>
<li>Empty：空</li>
</ul>
<h2 id="知识点六-权重随机瓦片-WeightedRandomTile"><a href="#知识点六-权重随机瓦片-WeightedRandomTile" class="headerlink" title="知识点六 权重随机瓦片 WeightedRandomTile"></a>知识点六 权重随机瓦片 WeightedRandomTile</h2><p>比随机瓦片多了一个权重，相当于概率</p>
<h2 id="知识点七-高级-规则覆盖瓦片-Advanced-Rule-Override-Tile"><a href="#知识点七-高级-规则覆盖瓦片-Advanced-Rule-Override-Tile" class="headerlink" title="知识点七 (高级)规则覆盖瓦片 (Advanced)Rule Override Tile"></a>知识点七 (高级)规则覆盖瓦片 (Advanced)Rule Override Tile</h2><p>在一个规则瓦片的基础上，自定义新的规则瓦片。</p>
<h1 id="瓦片地图拓展包—新增笔刷类型-知识点"><a href="#瓦片地图拓展包—新增笔刷类型-知识点" class="headerlink" title="瓦片地图拓展包—新增笔刷类型 知识点"></a>瓦片地图拓展包—新增笔刷类型 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@1.8/manual/Brushes.html">Scriptable Brushes | 2D Tilemap Extras | 1.8.4-preview (unity3d.com)</a></p>
</blockquote>
<h2 id="知识点一-新建自定义笔刷"><a href="#知识点一-新建自定义笔刷" class="headerlink" title="知识点一 新建自定义笔刷"></a>知识点一 新建自定义笔刷</h2><ol>
<li>预设体笔刷——用于快捷刷出想要创建的精灵</li>
<li>预设体随机笔刷——用于快捷随机刷出想要创建的精灵</li>
<li>随机笔刷——可以指定瓦片进行关联，随机刷出对应瓦片<ol>
<li>Ranform TIle Set Size：随机瓦片的个数，X _ Y _ Z</li>
<li>Random TIle Sets：瓦片集</li>
</ol>
</li>
</ol>
<h2 id="知识点二-拓展笔刷"><a href="#知识点二-拓展笔刷" class="headerlink" title="知识点二 拓展笔刷"></a>知识点二 拓展笔刷</h2><ol>
<li>Coordinate Brush 坐标笔刷 —— 可以实时看到格子坐标</li>
<li>GameObject Brush 游戏对象笔刷 —— 可以在场景中选择和擦除游戏对象仅限于选定的游戏对象的子级</li>
<li>Group Brush 组合笔刷 —— 可以设置参数 当点击一个瓦片样式时 会自动取出一个范围内的瓦片<ol>
<li>Gap 检测到几个空格子就听下来</li>
<li>Limit 最多检测几个格子，从 0 开始，填 3 就是 4 个格子（包括本身）</li>
</ol>
</li>
<li>Line Brush 线性笔刷 —— 决定起点和终点画一条线出来<ol>
<li>Line Start Active：以上一个起点为起点</li>
<li>Fill Gaps：更好的填充，填充间隙</li>
</ol>
</li>
<li>Random Brush 随机笔刷 —— 和之前的自定义随机画笔类似，可以随机画出瓦片</li>
<li>Tint Brush 着色笔刷 —— 可以给瓦片着色 瓦片的颜色锁要开启（Inspector 窗口切换 Debug 模式 修改 Flags）</li>
<li>Tint Brush(Smooth) 光滑着色笔刷 —— 可以给瓦片进行渐变着色，需要按要求改变材质</li>
</ol>
<h1 id="瓦片地图—代码控制-知识点"><a href="#瓦片地图—代码控制-知识点" class="headerlink" title="瓦片地图—代码控制 知识点"></a>瓦片地图—代码控制 知识点</h1><h2 id="知识点一-获取-Tilemap-和-TileBase-和-Grid"><a href="#知识点一-获取-Tilemap-和-TileBase-和-Grid" class="headerlink" title="知识点一 获取 Tilemap 和 TileBase 和 Grid"></a>知识点一 获取 Tilemap 和 TileBase 和 Grid</h2><p>瓦片地图信息，可以通过它得到瓦片格子</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Tilemap tilemap;</span><br></pre></td></tr></table></figure>

<p>格子位置相关控制，可以通过它进行坐标转换</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Grid grid;</span><br></pre></td></tr></table></figure>

<p>瓦片资源基类通过它可以得到瓦片资源</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TileBase tile;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Tilemap 组件：用于管理瓦片地图</p>
</li>
<li><p>TileBase 组件：瓦片资源对象基类</p>
</li>
<li><p>Grid 组件：用于坐标转换</p>
</li>
</ul>
<p>使用他们需要引用命名空间<code>using UnityEngine.Tilemaps;</code></p>
<h2 id="知识点二-重要-API"><a href="#知识点二-重要-API" class="headerlink" title="知识点二 重要 API"></a>知识点二 重要 API</h2><p>注意：瓦片资源的格子坐标是<code>Vector3Int</code></p>
<h3 id="1-清空瓦片地图"><a href="#1-清空瓦片地图" class="headerlink" title="1.清空瓦片地图"></a>1.清空瓦片地图</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tilemap.ClearAllTiles();</span><br></pre></td></tr></table></figure>

<h3 id="2-获取指定坐标格子"><a href="#2-获取指定坐标格子" class="headerlink" title="2.获取指定坐标格子"></a>2.获取指定坐标格子</h3><p>如果坐标没有瓦片，返回 null；</p>
<p>有则打印出的是瓦片资源名。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TileBase temp = tilemap.GetTile(Vector3Int.zero);</span><br><span class="line">print(temp);</span><br></pre></td></tr></table></figure>

<h3 id="3-设置删除瓦片"><a href="#3-设置删除瓦片" class="headerlink" title="3.设置删除瓦片"></a>3.设置删除瓦片</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置瓦片</span></span><br><span class="line">tilemap.SetTile(Vector3Int.zero, tile);</span><br><span class="line"><span class="comment">//设置为空就是删除瓦片</span></span><br><span class="line">tilemap.SetTile(Vector3Int.zero, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置多个瓦片</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetTiles</span>(<span class="params">Vector3Int[] positionArray, TileBase[] tileArray</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    SetTileAssets(positionArray, tileArray);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-替换瓦片"><a href="#4-替换瓦片" class="headerlink" title="4.替换瓦片"></a>4.替换瓦片</h3><p>注意：所有使用此瓦片资源的瓦片都将被替换。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.SwapTile(tmp, tileBase);</span><br></pre></td></tr></table></figure>

<h3 id="5-世界坐标转格子坐标"><a href="#5-世界坐标转格子坐标" class="headerlink" title="5.世界坐标转格子坐标"></a>5.世界坐标转格子坐标</h3><p>一般来说，先屏幕坐标转世界坐标，再世界坐标转格子坐标</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vector3 tempVec3 = Camera.main.ScreenToWorldPoint(Input.mousePosition);</span><br><span class="line">print(grid.WorldToCell(tempVec3));</span><br></pre></td></tr></table></figure>

<h1 id="动画基础"><a href="#动画基础" class="headerlink" title="动画基础"></a>动画基础</h1><h1 id="认识-Animation-动画窗口-知识点"><a href="#认识-Animation-动画窗口-知识点" class="headerlink" title="认识 Animation 动画窗口 知识点"></a>认识 Animation 动画窗口 知识点</h1><h2 id="知识点一-打开-Animation-窗口"><a href="#知识点一-打开-Animation-窗口" class="headerlink" title="知识点一 打开 Animation 窗口"></a>知识点一 打开 Animation 窗口</h2><p>Window——&gt;Animation——&gt;Animation</p>
<h2 id="知识点二-Animation-窗口是用来干啥的"><a href="#知识点二-Animation-窗口是用来干啥的" class="headerlink" title="知识点二 Animation 窗口是用来干啥的"></a>知识点二 Animation 窗口是用来干啥的</h2><p>Animation 窗口 直译就是动画窗口<br>它主要用于在 Unity 内部创建和修改动画<br>所有在场景中的对象都可以通过 Animation 窗口为其制作动画</p>
<p>原理：<br>制作动画时：记录在固定时间点对象挂载的脚本的变量变化<br>播放动画时：将制作动画时记录的数据在固定时间点进行改变，产生动画效果</p>
<h2 id="知识点三-关键词说明"><a href="#知识点三-关键词说明" class="headerlink" title="知识点三 关键词说明"></a>知识点三 关键词说明</h2><p>动画时间轴：<br>每一个动画文件都有自己的一个生命周期，从动画开始到结束<br>我们可以在动画时间轴上编辑每一个动画生命周期中变化</p>
<p>动画中的帧：<br>假设某个动画的帧率为 60 帧每秒，意味着该动画 1 秒钟最多会有 60 次改变机会<br>每一帧的间隔时间是 1s&#x2F;60 ≈ 16.67 毫秒<br>也就是说 我们最快可以每 16.67 毫秒改变一次对象状态</p>
<p>关键帧：<br>动画在时间轴上的某一个时间节点上处于的状态</p>
<h2 id="知识点四-认识-Animation-窗口功能"><a href="#知识点四-认识-Animation-窗口功能" class="headerlink" title="知识点四 认识 Animation 窗口功能"></a>知识点四 认识 Animation 窗口功能</h2><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230327211203223.png" alt="image-20230327211203223"></p>
<p>从左至右：</p>
<ol>
<li>预览模式（开关）</li>
<li>录制模式（开关）打开后预览模式默认开启</li>
<li>回到动画开头</li>
<li>上一关键帧（快捷键：键盘逗号）</li>
<li>播放动画（快捷键：键盘 Alt+逗号）</li>
<li>下一关键帧（快捷键：键盘句号）</li>
<li>回到动画结尾（快捷键：键盘 Alt+句号）</li>
<li>当前处于第几帧</li>
</ol>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230327211227056.png" alt="image-20230327211227056"></p>
<ul>
<li>Dopesheet：关键帧模式</li>
<li>Curves：曲线模式</li>
</ul>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230327211256410.png" alt="image-20230327211256410"></p>
<p>从左至右：</p>
<ul>
<li>按选择筛选</li>
<li>添加关键帧</li>
<li>添加事件</li>
</ul>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230327211529126.png" alt="image-20230327211529126"></p>
<p>动画时间轴面板<br>当编辑动画时，会在该面板上编辑关键帧等信息</p>
<h1 id="创建编辑-Animation-动画-知识点"><a href="#创建编辑-Animation-动画-知识点" class="headerlink" title="创建编辑 Animation 动画 知识点"></a>创建编辑 Animation 动画 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/AnimationOverview.html">动画系统概述 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/AnimationEditorGuide.html">Animation 窗口指南 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/animeditor-UsingAnimationEditor.html">使用 Animation 视图 - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-创建动画"><a href="#知识点一-创建动画" class="headerlink" title="知识点一 创建动画"></a>知识点一 创建动画</h2><p>创建 Animation Clip：</p>
<ol>
<li><p>在场景中选中想要创建动画的对象</p>
</li>
<li><p>在 Animation 窗口中点击创建</p>
</li>
<li><p>选择动画文件将要保存到的位置</p>
</li>
</ol>
<p>保存动画文件时，Unity 会帮助我们完成以下操作：</p>
<ol>
<li>创建一个 Animator Controller（动画控制器或称之为动画状态机） 资源（新动画系统）</li>
<li>将新创建的动画文件添加到 Animator Controller 中</li>
<li>为动画对象添加 Animator 组件</li>
<li>为 Animator 组件关联创建的 Animator Controller 文件</li>
</ol>
<h2 id="知识点二-窗口上的变化"><a href="#知识点二-窗口上的变化" class="headerlink" title="知识点二 窗口上的变化"></a>知识点二 窗口上的变化</h2><h3 id="左侧面板"><a href="#左侧面板" class="headerlink" title="左侧面板"></a>左侧面板</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230328152142101.png" alt="image-20230328152142101"></p>
<p>多出一个可以选择当前动画的下拉列表，可以在这里创建新动画和切换动画。</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230328152204752.png" alt="image-20230328152204752"></p>
<p>多出一个可以添加变化属性的按钮<br>在这里你可以任意添加你想要在动画中变化的脚本变量</p>
<h3 id="右侧面板"><a href="#右侧面板" class="headerlink" title="右侧面板"></a>右侧面板</h3><p>时间轴可以拖动</p>
<p>注意：时间轴上的单位为 n 秒 n 帧，一格代表一帧（并不是秒）</p>
<h4 id="选择关键帧右键"><a href="#选择关键帧右键" class="headerlink" title="选择关键帧右键"></a>选择关键帧右键</h4><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230328153602455.png" alt="image-20230328153602455"></p>
<ul>
<li><p>Add Key：添加关键帧</p>
</li>
<li><p>Delete Key：删除关键帧</p>
</li>
<li><p>Clamped Auto：切线模式，自动设置切线</p>
</li>
<li><p>Auto：旧版切线模式，和 Clamped Auto 基本类似，主要用于老动画系统，建议不使用除非是老动画</p>
</li>
<li><p>Free Smooth：自由设置切线</p>
</li>
<li><p>Flat：切线设置为水平</p>
</li>
<li><p>Broken：单独控制左右曲线切线</p>
</li>
<li><p>Free：自由设置</p>
</li>
<li><p>Linear：直线</p>
</li>
<li><p>Constant：常量切换</p>
</li>
<li><p>Weighted：权重切换</p>
</li>
</ul>
<h2 id="知识点三-关键帧模式下编辑动画"><a href="#知识点三-关键帧模式下编辑动画" class="headerlink" title="知识点三 关键帧模式下编辑动画"></a>知识点三 关键帧模式下编辑动画</h2><p>点击录制按钮，我们可以添加 Property（属性），再添加关键帧，在关键帧处编辑属性，Unity 会自动生成一些过渡动画，已达到动画的效果。</p>
<p>或者拖到帧到指定位置，然后直接修改物体面板参数或者在场景当中直接移动物体，Unity 会自动生成一些关键帧，记录我们的操作。</p>
<h2 id="知识点四-曲线模式下编辑动画"><a href="#知识点四-曲线模式下编辑动画" class="headerlink" title="知识点四 曲线模式下编辑动画"></a>知识点四 曲线模式下编辑动画</h2><p>每一条曲线，就代表一个 Property，可以通过右键关键帧，选择功能进行编辑。</p>
<h2 id="知识点五-动画文件界面参数"><a href="#知识点五-动画文件界面参数" class="headerlink" title="知识点五 动画文件界面参数"></a>知识点五 动画文件界面参数</h2><p>Animation Clip 参数</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230328154523735.png" alt="image-20230328154523735"></p>
<ul>
<li>Loop Time：是否是循环动画（在动画结尾时重新开始）</li>
<li>Loop Pose：无缝循环运动</li>
<li>Cycle Offset：循环动画在其他时间开始时的周期偏移</li>
</ul>
<p>调整到 Debug 将显示额外参数</p>
<ul>
<li>Sample Rate：帧率，和 Animation 窗口上的 Samples 是同一个。</li>
<li>Wrap Mode：播放模式</li>
</ul>
<h3 id="Animation-窗口右上角更多选项"><a href="#Animation-窗口右上角更多选项" class="headerlink" title="Animation 窗口右上角更多选项"></a>Animation 窗口右上角更多选项</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230328154844152.png" alt="image-20230328154844152"></p>
<ul>
<li>Seconds：以秒显示时间轴</li>
<li>Frames：以帧显示时间轴</li>
<li>Show Sample Rate：在 Animation 窗口显示帧率</li>
<li>Set Sample Rate：快捷设置帧率</li>
</ul>
<h1 id="代码控制动画（老动画系统）-知识点"><a href="#代码控制动画（老动画系统）-知识点" class="headerlink" title="代码控制动画（老动画系统） 知识点"></a>代码控制动画（老动画系统） 知识点</h1><h2 id="知识点一-什么是老动画系统"><a href="#知识点一-什么是老动画系统" class="headerlink" title="知识点一 什么是老动画系统"></a>知识点一 什么是老动画系统</h2><p>Unity 中有两套动画系统</p>
<ul>
<li>新：Mecanim 动画系统——主要用 Animator 组件控制动画</li>
<li>老：Animation 动画系统——主要用 Animation 组件控制动画（Unity4 之前的版本可能会用到）</li>
</ul>
<p>目前我们为对象在 Animation 窗口创建的动画都会被新动画系统支配。</p>
<p>有特殊需求或者针对一些简易动画，才会使用老动画系统。</p>
<h2 id="知识点二-老动画系统控制动画播放"><a href="#知识点二-老动画系统控制动画播放" class="headerlink" title="知识点二 老动画系统控制动画播放"></a>知识点二 老动画系统控制动画播放</h2><p>注意：</p>
<p>在创建动画之前为对象添加 Animation 组件之后再制作动画，这时制作出的动画和之前的动画格式是有区别的。</p>
<h3 id="Animation-参数"><a href="#Animation-参数" class="headerlink" title="Animation 参数"></a>Animation 参数</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230329143956261.png" alt="image-20230329143956261"></p>
<ul>
<li>Animation：默认播放的动画</li>
<li>Animations：该动画组件可以控制的所有动画</li>
<li>Play AutoMatically：是否一开始就自动播放默认动画</li>
<li>Animate Physics：动画是否与物理交互</li>
<li>Culling Type：决定什么时候不播放动画</li>
<li>Always Animate：始终播放</li>
<li>Based On Renderers：基于默认动画姿势剔除</li>
</ul>
<h3 id="Animation-Clip-参数"><a href="#Animation-Clip-参数" class="headerlink" title="Animation Clip 参数"></a>Animation Clip 参数</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230329144005859.png" alt="image-20230329144005859"></p>
<ul>
<li>Default：读取设置得更高的默认重复模式</li>
<li>Once：播放一次就停止</li>
<li>Loop：从头到尾不停循环播放</li>
<li>PingPong：从头到尾从尾到头不停播放</li>
<li>ClampForever：播放结束会停在最后一帧，并且会一直播放最后一帧（相当于状态不停止），表现效果和 Once 一样，但是逻辑处理上不同</li>
</ul>
<h1 id="知识点三-代码控制播放"><a href="#知识点三-代码控制播放" class="headerlink" title="知识点三 代码控制播放"></a>知识点三 代码控制播放</h1><h3 id="获取组件"><a href="#获取组件" class="headerlink" title="获取组件"></a>获取组件</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation = <span class="keyword">this</span>.GetComponent&lt;Animation&gt;();</span><br></pre></td></tr></table></figure>

<h3 id="1-播放动画"><a href="#1-播放动画" class="headerlink" title="1.播放动画"></a>1.播放动画</h3><p>参数为动画文件名。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Input.GetKeyDown(KeyCode.Alpha1))</span><br><span class="line">&#123;</span><br><span class="line">    animation.Play(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Alpha2))</span><br><span class="line">&#123;</span><br><span class="line">    animation.Play(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-淡入播放-自动产生过渡效果"><a href="#2-淡入播放-自动产生过渡效果" class="headerlink" title="2.淡入播放,自动产生过渡效果"></a>2.淡入播放,自动产生过渡效果</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(Input.GetKeyDown(KeyCode.Alpha3))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//当你要播放的动画的开始状态 和当前的状态 不一样时</span></span><br><span class="line">    <span class="comment">//就会产生过渡效果</span></span><br><span class="line">    animation.CrossFade(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">    <span class="comment">//animation.Play(&quot;3&quot;);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-前一个播完再播放下一个"><a href="#3-前一个播完再播放下一个" class="headerlink" title="3.前一个播完再播放下一个"></a>3.前一个播完再播放下一个</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( Input.GetKeyDown(KeyCode.Alpha4) )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//animation.PlayQueued(&quot;2&quot;);	//没有过渡效果</span></span><br><span class="line">    animation.CrossFadeQueued(<span class="string">&quot;2&quot;</span>);	<span class="comment">//自动产生过渡效果</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-停止播放所有动画"><a href="#4-停止播放所有动画" class="headerlink" title="4.停止播放所有动画"></a>4.停止播放所有动画</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation.Stop();</span><br></pre></td></tr></table></figure>

<h3 id="5-是否在播放某个动画"><a href="#5-是否在播放某个动画" class="headerlink" title="5.是否在播放某个动画"></a>5.是否在播放某个动画</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( animation.IsPlaying(<span class="string">&quot;1&quot;</span>) )</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-播放模式设置"><a href="#6-播放模式设置" class="headerlink" title="6.播放模式设置"></a>6.播放模式设置</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation.wrapMode = WrapMode.Loop;</span><br></pre></td></tr></table></figure>

<h3 id="7-其它（了解即可，新动画系统中会详细讲解）"><a href="#7-其它（了解即可，新动画系统中会详细讲解）" class="headerlink" title="7.其它（了解即可，新动画系统中会详细讲解）"></a>7.其它（了解即可，新动画系统中会详细讲解）</h3><p>层级和权重以及混合（老动画系统需要通过代码来达到动画的遮罩、融合等效果）</p>
<p>设置层级</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation[<span class="string">&quot;1&quot;</span>].layer = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>设置权重</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation[<span class="string">&quot;1&quot;</span>].weight = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>混合模式 叠加还是混合</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation[<span class="string">&quot;1&quot;</span>].blendMode = AnimationBlendMode.Additive;</span><br></pre></td></tr></table></figure>

<p>设置混组相关骨骼信息</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animation[<span class="string">&quot;&quot;</span>].AddMixingTransform();</span><br></pre></td></tr></table></figure>

<h2 id="知识点四-动画事件"><a href="#知识点四-动画事件" class="headerlink" title="知识点四 动画事件"></a>知识点四 动画事件</h2><p>动画事件主要用于处理 当动画播放到某一时刻想要触发某些逻辑。</p>
<p>比如进行伤害检测、发射子弹、特效播放等等。</p>
<h3 id="事件添加"><a href="#事件添加" class="headerlink" title="事件添加"></a>事件添加</h3><p>在 Animation 窗口，在某一帧处点击 Add Event，即可添加事件。</p>
<p>动画执行到此帧时，将执行事件。</p>
<p>在 Animation 窗口选择这个事件，可以关联函数。</p>
<p>函数设置参数，即可在 Inspector 窗口传参数。</p>
<h2 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h2><p>老动画系统主要用于处理老版本项目和简单的一些自制动画。</p>
<p>新项目都不建议大家使用了。</p>
<p>关键组件：Animation</p>
<h2 id="练习题-6"><a href="#练习题-6" class="headerlink" title="练习题"></a>练习题</h2><p>使用 Animation 相关知识</p>
<p>请自己用 Unity 自带几何体拼凑一个机器人，有手有脚</p>
<p>为它制作两个动作，一个待机动作（站立不动），一个走路动作</p>
<p>我们可以通过键盘控制它移动切换动作</p>
<h1 id="Animation-练习题"><a href="#Animation-练习题" class="headerlink" title="Animation 练习题"></a>Animation 练习题</h1><p>注意：如果对整体录制动画，当动画过渡时，如果某些子物体没有设定初始关键帧，在物体过渡时，将出现无法还原为初始状态的情况。</p>
<p>解决：对于不使用的子物体，在第 0 帧设置一个关键帧，设置其第 0 帧为想要的初始状态。</p>
<h1 id="有限状态机概念-知识点"><a href="#有限状态机概念-知识点" class="headerlink" title="有限状态机概念 知识点"></a>有限状态机概念 知识点</h1><h2 id="知识点一-什么是有限状态机"><a href="#知识点一-什么是有限状态机" class="headerlink" title="知识点一 什么是有限状态机"></a>知识点一 什么是有限状态机</h2><p>有限状态机（Finite - state machine, FSM）<br>又称有限状态自动机，简称状态机<br>是表示有限个状态以及在这些状态之间的转移和动作等行为的数学模型</p>
<p>有限：表示是有限度的不是无限的<br>状态：指所拥有的所有状态</p>
<p>举例说明：<br>假设我们人会做很多个动作，也就是有很多种状态<br>这些状态包括 站立、走路、跑步、攻击、防守、睡觉等等<br>我们每天都会在这些状态中切换，而且这些状态虽然多但是是有限的<br>当达到某种条件时，我们就会在这些状态中进行切换<br>而且这种切换时随时可能发生的</p>
<h2 id="知识点二-有限状态机对于我们的意义"><a href="#知识点二-有限状态机对于我们的意义" class="headerlink" title="知识点二 有限状态机对于我们的意义"></a>知识点二 有限状态机对于我们的意义</h2><p>游戏开发中有很多功能系统都是有限状态机<br>最典型的状态机系统</p>
<ul>
<li>动作系统 —— 当满足某个条件切换一个动作，且动作是有限的</li>
<li>AI（人工智能）系统 —— 当满足某个条件切换一个状态，且状态时有限的</li>
</ul>
<p>所以状态机是游戏开发中一个必不可少的概念。</p>
<h2 id="知识点三-最简单的状态机实现"><a href="#知识点三-最简单的状态机实现" class="headerlink" title="知识点三 最简单的状态机实现"></a>知识点三 最简单的状态机实现</h2><p>最简单的状态机实现代码就是基于 switch 的实现</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//假设我们只有一个值来控制当前玩家的状态</span></span><br><span class="line"><span class="built_in">string</span> animName = <span class="string">&quot;idle&quot;</span>;</span><br><span class="line"><span class="keyword">switch</span> (animName)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;idle&quot;</span>:</span><br><span class="line">        <span class="comment">//待机动作逻辑</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;move&quot;</span>:</span><br><span class="line">        <span class="comment">//移动动作逻辑</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;run&quot;</span>:</span><br><span class="line">        <span class="comment">//跑步动作逻辑</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;atk&quot;</span>:</span><br><span class="line">        <span class="comment">//攻击动作逻辑</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h2><p>游戏开发中某些系统中存在有限种状态的切换变化时，我们可以使用有限状态机的设计思路来进行逻辑编写。</p>
<h1 id="Animator-Controller-动画控制器（状态机）-知识点"><a href="#Animator-Controller-动画控制器（状态机）-知识点" class="headerlink" title="Animator Controller 动画控制器（状态机） 知识点"></a>Animator Controller 动画控制器（状态机） 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/AnimatorWindow.html">Animator 窗口 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2019.4/Manual/script-AnimationWindowEvent.html">使用动画事件 - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-创建动画状态机"><a href="#知识点一-创建动画状态机" class="headerlink" title="知识点一 创建动画状态机"></a>知识点一 创建动画状态机</h2><ol>
<li>通过为场景中物体创建动画时自动创建<ol>
<li>对物体创建动画，就会自动创建动画状态机文件（Animator Controller）</li>
</ol>
</li>
<li>手动创建动画状态机文件<ol>
<li>右键 Project 窗口创建 Animator Controller</li>
</ol>
</li>
</ol>
<h2 id="知识点二-基础使用——初识动画状态机窗口"><a href="#知识点二-基础使用——初识动画状态机窗口" class="headerlink" title="知识点二 基础使用——初识动画状态机窗口"></a>知识点二 基础使用——初识动画状态机窗口</h2><h3 id="左侧面板-1"><a href="#左侧面板-1" class="headerlink" title="左侧面板"></a>左侧面板</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230329220217301.png" alt="image-20230329220217301"></p>
<ul>
<li>Layers：动画层级页签，为动画添加更多的层级，层级高的动画播放会覆盖层级低的<ul>
<li>根据层级的权重（weight）控制显示</li>
</ul>
</li>
<li>Parameters：参数页签，为动画状态机添加控制状态切换的参数</li>
<li>眼睛图标：显隐左侧面板</li>
</ul>
<h3 id="右侧面板-1"><a href="#右侧面板-1" class="headerlink" title="右侧面板"></a>右侧面板</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230329220344358.png" alt="image-20230329220344358"></p>
<p>网格化布局区域：<br>主要用于编辑状态之前的切换关系</p>
<ol>
<li>窗口中的每一个矩形表示一个状态</li>
<li>窗口中的每一个箭头表示一个切换条件</li>
</ol>
<p>矩形说明：<br>默认三大矩形：</p>
<ul>
<li>绿色 Entry 矩形：进入状态机流程</li>
<li>红色 Exit 矩形：退出状态机流程</li>
<li>Any State：任意状态，代表状态机中的任意状态</li>
</ul>
<p>人为添加矩形：</p>
<ul>
<li>橙色矩形：一开始的默认状态动画，和 Entry 相连，表示一开始播放的动画</li>
<li>灰色矩形：自己添加的某一种动作状态</li>
</ul>
<h2 id="知识点三-基础使用——添加动画"><a href="#知识点三-基础使用——添加动画" class="headerlink" title="知识点三 基础使用——添加动画"></a>知识点三 基础使用——添加动画</h2><ol>
<li>自动添加——为对象创建动画后会自动将动画添加到状态机中</li>
<li>手动添加 1——将动画文件拖入到状态机中（注意：老动画拖入会有警告）</li>
<li>手动添加 2——右键创建状态，再关联动画</li>
</ol>
<h2 id="知识点四-基础使用——添加切换连线"><a href="#知识点四-基础使用——添加切换连线" class="headerlink" title="知识点四 基础使用——添加切换连线"></a>知识点四 基础使用——添加切换连线</h2><p>在 Animator 窗口右键状态，选择 <code>Make Transition</code>，即可创建状态转变。</p>
<h2 id="知识点五-基础使用——添加切换条件"><a href="#知识点五-基础使用——添加切换条件" class="headerlink" title="知识点五 基础使用——添加切换条件"></a>知识点五 基础使用——添加切换条件</h2><p>在<code>Parameters</code>，点击加号，选择类型即可添加需要的参数。</p>
<h2 id="知识点六-基础使用——设置动画间切换条件"><a href="#知识点六-基础使用——设置动画间切换条件" class="headerlink" title="知识点六 基础使用——设置动画间切换条件"></a>知识点六 基础使用——设置动画间切换条件</h2><p>选择两个状态之间的连线，在 Inspector 窗口即可添加<code>Conditions</code>（条件），用以状态改变。</p>
<h1 id="代码控制动画状态机切换-知识点"><a href="#代码控制动画状态机切换-知识点" class="headerlink" title="代码控制动画状态机切换 知识点"></a>代码控制动画状态机切换 知识点</h1><h2 id="知识点一-关键组件-Animator"><a href="#知识点一-关键组件-Animator" class="headerlink" title="知识点一 关键组件 Animator"></a>知识点一 关键组件 Animator</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Animator.html">Animator 组件 - Unity 手册</a></p>
</blockquote>
<h3 id="参数相关-1"><a href="#参数相关-1" class="headerlink" title="参数相关"></a>参数相关</h3><ul>
<li><p>Controller：对应的动画控制器（状态机）</p>
</li>
<li><p>Avatar：对应的替身配置信息（之后讲解 3D 模型时详细讲解）</p>
</li>
<li><p>Apply Root Motion：是否启用动画位移更新</p>
</li>
<li><p>UpdateMode：更新模式（一般不修改它）</p>
<ul>
<li>Normal：正常更新</li>
<li>Animate Physics：物理更新</li>
<li>Unscaled Time：不受时间缩放影响</li>
</ul>
</li>
<li><p>Culling Mode：裁剪剔除模式</p>
<ul>
<li>Always Animate：始终播放动画，即使在屏幕外也不剔除</li>
<li>Cull Update Transforms：摄像机没有渲染该物体时，停止位置、IK 的写入</li>
<li>Cull Completely：摄像机没有渲染物体时，整个动画被完全禁用</li>
</ul>
</li>
</ul>
<h2 id="知识点二-Animator-中的-API"><a href="#知识点二-Animator-中的-API" class="headerlink" title="知识点二 Animator 中的 API"></a>知识点二 Animator 中的 API</h2><p>我们用代码控制状态机切换主要使用的就是 Animator 提供给我们的 API</p>
<p>我们知道一共有四种切换条件 int float bool trigger</p>
<p>所以对应的 API 也是和这四种类型有关系的。</p>
<h3 id="1-通过状态机条件切换动画"><a href="#1-通过状态机条件切换动画" class="headerlink" title="1.通过状态机条件切换动画"></a>1.通过状态机条件切换动画</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">animator = <span class="keyword">this</span>.GetComponent&lt;Animator&gt;();</span><br><span class="line"></span><br><span class="line">animator.SetFloat(<span class="string">&quot;条件名&quot;</span>, <span class="number">1.2f</span>);</span><br><span class="line">animator.SetInteger(<span class="string">&quot;条件名&quot;</span>, <span class="number">5</span>);</span><br><span class="line">animator.SetBool(<span class="string">&quot;条件名&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">animator.SetTrigger(<span class="string">&quot;条件名&quot;</span>);</span><br><span class="line"></span><br><span class="line">animator.GetFloat(<span class="string">&quot;条件名&quot;</span>);</span><br><span class="line">animator.GetInteger(<span class="string">&quot;条件名&quot;</span>);</span><br><span class="line">animator.GetBool(<span class="string">&quot;条件名&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="2-直接切换动画-除非特殊情况-不然一般不使用"><a href="#2-直接切换动画-除非特殊情况-不然一般不使用" class="headerlink" title="2.直接切换动画 除非特殊情况 不然一般不使用"></a>2.直接切换动画 除非特殊情况 不然一般不使用</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">animator.Play(<span class="string">&quot;状态名&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="练习题-7"><a href="#练习题-7" class="headerlink" title="练习题"></a>练习题</h2><p>使用 Animator 相关知识<br>请自己用 Unity 自带几何体拼凑一个机器人，有手有脚<br>为它制作两个动作，一个待机动作（站立不动），一个走路动作<br>我们可以通过键盘控制它移动切换动作</p>
<h1 id="2D-动画"><a href="#2D-动画" class="headerlink" title="2D 动画"></a>2D 动画</h1><h1 id="2D-序列帧动画-知识点"><a href="#2D-序列帧动画-知识点" class="headerlink" title="2D 序列帧动画 知识点"></a>2D 序列帧动画 知识点</h1><h2 id="知识点一-什么是序列帧动画"><a href="#知识点一-什么是序列帧动画" class="headerlink" title="知识点一 什么是序列帧动画"></a>知识点一 什么是序列帧动画</h2><p>我们最常见的序列帧动画就是我们看的日本动画片。</p>
<p>以固定时间间隔，按序列切换图片，就是序列帧动画的本质。</p>
<p>当固定时间间隔足够短时，我们肉眼就会认为图片是连续动态的，进而形成动画（会动的画面）。</p>
<p>它的本质和游戏的帧率概念有点类似，原理就是在一个循环中按一定时间间隔不停的切换显示的图片。</p>
<h2 id="知识点二-代码制作序列帧动画"><a href="#知识点二-代码制作序列帧动画" class="headerlink" title="知识点二 代码制作序列帧动画"></a>知识点二 代码制作序列帧动画</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson35</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Sprite[] sprites;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> time = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> SpriteRenderer spR;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> spIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        spR = <span class="keyword">this</span>.GetComponent&lt;SpriteRenderer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        time += Time.deltaTime;</span><br><span class="line">        <span class="keyword">if</span> (time &gt;= <span class="number">0.03</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ++spIndex;</span><br><span class="line">            spIndex %= sprites.Length;</span><br><span class="line">            time = <span class="number">0</span>;</span><br><span class="line">            spR.sprite = sprites[spIndex];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-Animation-窗口制作序列帧动画"><a href="#知识点三-Animation-窗口制作序列帧动画" class="headerlink" title="知识点三 Animation 窗口制作序列帧动画"></a>知识点三 Animation 窗口制作序列帧动画</h2><h3 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h3><ol>
<li>创建一个空物体</li>
<li>创建一个动画</li>
<li>直接将某一个动作的序列帧拖入窗口中</li>
</ol>
<h3 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h3><p>直接将图片拖入 Hierarchy 层级窗口中</p>
<p>注意：需要修改动画帧率 来控制动画的播放速度（修改 Samples）</p>
<h2 id="知识点四-利用-Animator-进行动画控制"><a href="#知识点四-利用-Animator-进行动画控制" class="headerlink" title="知识点四 利用 Animator 进行动画控制"></a>知识点四 利用 Animator 进行动画控制</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Input.GetKey(KeyCode.D))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    animator.SetBool(<span class="string">&quot;run&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    animator.SetBool(<span class="string">&quot;idle&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    spRenderer.flipX = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">this</span>.transform.Translate(Vector2.right * moveSpeed * Time.deltaTime);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Input.GetKey(KeyCode.A))</span><br><span class="line">&#123;</span><br><span class="line">    spRenderer.flipX = <span class="literal">false</span>;</span><br><span class="line">    animator.SetBool(<span class="string">&quot;run&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">    animator.SetBool(<span class="string">&quot;idle&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">this</span>.transform.Translate(Vector2.left * moveSpeed * Time.deltaTime);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Input.GetKeyUp(KeyCode.A) || Input.GetKeyUp(KeyCode.D))</span><br><span class="line">&#123;</span><br><span class="line">    animator.SetBool(<span class="string">&quot;run&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    animator.SetBool(<span class="string">&quot;idle&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="练习题-8"><a href="#练习题-8" class="headerlink" title="练习题"></a>练习题</h2><p>在之前 2D 相关练习题的基础上，为控制的对象加上序列帧动画</p>
<h1 id="单张图片骨骼编辑-知识点"><a href="#单张图片骨骼编辑-知识点" class="headerlink" title="单张图片骨骼编辑 知识点"></a>单张图片骨骼编辑 知识点</h1><h2 id="知识点一-什么是-2D-骨骼动画"><a href="#知识点一-什么是-2D-骨骼动画" class="headerlink" title="知识点一 什么是 2D 骨骼动画"></a>知识点一 什么是 2D 骨骼动画</h2><p>首先回顾一下序列帧动画<br>传统的序列帧动画为了达到好的动画效果<br>理论上来说，图片越多，动作越流畅<br>往往需要较多的美术资源，虽然效果好但是资源占用较多</p>
<p>而 2D 骨骼动画是利用 3D 骨骼动画的制作原理进行制作的。<br>将一张 2D 图片分割成 n 个部位，为每个部位绑上骨骼，控制骨骼旋转移动<br>达到用最少的 2D 美术资源做出流畅的 2D 动画效果</p>
<h2 id="知识点二-Unity-中如何制作-2D-骨骼动画"><a href="#知识点二-Unity-中如何制作-2D-骨骼动画" class="headerlink" title="知识点二 Unity 中如何制作 2D 骨骼动画"></a>知识点二 Unity 中如何制作 2D 骨骼动画</h2><p>主要方式有两种</p>
<ol>
<li>使用 Unity2018 新加功能 2D Animation 工具制作</li>
<li>使用跨平台骨骼动画制作工具 Spine 制作</li>
</ol>
<h2 id="知识点三-导入-2D-Animation-工具"><a href="#知识点三-导入-2D-Animation-工具" class="headerlink" title="知识点三 导入 2D Animation 工具"></a>知识点三 导入 2D Animation 工具</h2><p>在 Package Manager 窗口 搜索 2D Animation 并安装</p>
<h2 id="知识点四-面板讲解"><a href="#知识点四-面板讲解" class="headerlink" title="知识点四 面板讲解"></a>知识点四 面板讲解</h2><p>导入工具后 在 Sprite Editor 窗口会多一个选项 Skinning Editor</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.2d.animation@5.2/manual/SkinEdToolsShortcuts.html">Editor tools and shortcuts | 2D Animation | 5.2.6 (unity3d.com)</a></p>
</blockquote>
<h3 id="工具栏"><a href="#工具栏" class="headerlink" title="工具栏"></a>工具栏</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409111927215.png" alt="image-20230409111927215"></p>
<ul>
<li>$\textcolor{OrangeRed}{Reset Pose：将角色骨骼和关节恢复到原始位置}$</li>
<li>Sprite Sheet：图集显示</li>
<li>Copy：复制当前选择的数据</li>
<li>Paste：粘贴复制数据</li>
</ul>
<h3 id="左侧工具"><a href="#左侧工具" class="headerlink" title="左侧工具"></a>左侧工具</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409112736883.png" alt="image-20230409112736883"></p>
<h3 id="Bone-骨骼相关"><a href="#Bone-骨骼相关" class="headerlink" title="Bone 骨骼相关"></a>Bone 骨骼相关</h3><ul>
<li>$\textcolor{OrangeRed}{Preview Pose：预览模式，可以预览动作并不会真正的改变设置}$</li>
<li>$\textcolor{OrangeRed}{Edit Bone：编辑骨骼，可以改变骨骼的位置、长度、方向、名称等等}$</li>
<li>$\textcolor{OrangeRed}{Create Bone：创建骨骼}$</li>
<li>$\textcolor{OrangeRed}{Split Bone：拆分骨骼，将一个骨骼一分为二}$</li>
</ul>
<h3 id="Geometry-蒙皮相关"><a href="#Geometry-蒙皮相关" class="headerlink" title="Geometry 蒙皮相关"></a>Geometry 蒙皮相关</h3><p>蒙皮决定了骨骼主要控制哪一部分</p>
<ul>
<li>$\textcolor{OrangeRed}{Auto Geometry:自动蒙皮}$<ul>
<li><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409113657817.png" alt="image-20230409113657817"></li>
<li>$\textcolor{OrangeRed}{OUtline Detail边缘细节，值越大，轮廓越细致}$</li>
<li>Alpha Tolerance：阿尔法公差值，控制蒙皮细节</li>
<li>Subdivide：细化程度，控制蒙皮细节</li>
<li>Weights：是否自动设置权重，一般勾选</li>
</ul>
</li>
<li>$\textcolor{OrangeRed}{Edit Geometry编辑蒙皮}$</li>
<li>$\textcolor{OrangeRed}{Create Vertex创建顶点}$</li>
<li>$\textcolor{OrangeRed}{Create Edge创建边线}$</li>
<li>$\textcolor{OrangeRed}{Split Edge拆分边，用一个新的顶点分离一个边}$</li>
</ul>
<h3 id="Weights-权重相关"><a href="#Weights-权重相关" class="headerlink" title="Weights 权重相关"></a>Weights 权重相关</h3><p>决定了当骨骼动时如何印象顶点和边</p>
<ul>
<li><p>$\textcolor{OrangeRed}{Auto Weights自动赋予权重}$</p>
</li>
<li><p>$\textcolor{OrangeRed}{Weight Slider编辑顶点和边的权重}$</p>
<ul>
<li><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409113732667.png" alt="image-20230409113732667"></li>
<li>$\textcolor{OrangeRed}{Mode：计算模式}$<ul>
<li>$\textcolor{OrangeRed}{Add And Subtract：加减法}$</li>
<li>$\textcolor{OrangeRed}{Grow And Shrink：增长和收缩}$</li>
<li>$\textcolor{OrangeRed}{Smooth：平滑}$</li>
</ul>
</li>
<li>$\textcolor{OrangeRed}{Bone：设置权重的骨骼}$</li>
<li>$\textcolor{OrangeRed}{Normalize：标准化设置}$</li>
<li>$\textcolor{OrangeRed}{Amount：数量级}$</li>
<li>$\textcolor{OrangeRed}{Vertex Weight：顶点权重，对应的骨骼}$</li>
</ul>
</li>
<li><p>$\textcolor{OrangeRed}{Weight Brush用笔刷赋予权重}$</p>
<ul>
<li><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409142644955.png" alt="image-20230409142644955"></li>
<li>$\textcolor{OrangeRed}{Size：笔刷大小}$</li>
<li>$\textcolor{OrangeRed}{Hardness：笔刷强度，越大效果越明显}$</li>
<li>$\textcolor{OrangeRed}{Step：步数}$</li>
</ul>
</li>
<li><p>$\textcolor{OrangeRed}{Bone Influence选择骨骼用的Sprite}$</p>
<ul>
<li>主要用于在 psb 图片中，使用骨骼控制点的图片关联</li>
</ul>
</li>
</ul>
<h3 id="Visibility"><a href="#Visibility" class="headerlink" title="Visibility"></a>Visibility</h3><p>切换选定精灵或骨骼的可见性</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409143320126.png" alt="image-20230409143320126"></p>
<ul>
<li>左侧拖动条：控制编辑时骨骼透明度</li>
<li>右侧拖动条：控制编辑时权重透明度</li>
<li>$\textcolor{OrangeRed}{下方列表：浏览各骨骼名和骨骼层级信息，用来更改骨骼名称}$</li>
</ul>
<h2 id="知识点五-骨骼动画使用"><a href="#知识点五-骨骼动画使用" class="headerlink" title="知识点五 骨骼动画使用"></a>知识点五 骨骼动画使用</h2><p>给对象添加 SpriteSkin 脚本，然后创建 Bones，就会自动绑定骨骼。</p>
<p>此时，将自动给对象创建骨骼对象，可以通过操作场景内的骨骼，制作动画。</p>
<h1 id="图集图片骨骼编辑-知识点"><a href="#图集图片骨骼编辑-知识点" class="headerlink" title="图集图片骨骼编辑 知识点"></a>图集图片骨骼编辑 知识点</h1><h2 id="知识点一-注意事项"><a href="#知识点一-注意事项" class="headerlink" title="知识点一 注意事项"></a>知识点一 注意事项</h2><ol>
<li>设置 Sprite 为图集模式</li>
<li>对图集图片进行切片</li>
</ol>
<h2 id="知识点二-图集骨骼编辑"><a href="#知识点二-图集骨骼编辑" class="headerlink" title="知识点二 图集骨骼编辑"></a>知识点二 图集骨骼编辑</h2><p>对于图集来说，切片的图片每一个都要单独设置骨骼。</p>
<p>在拖入场景中时，需要设计父子物体关系。</p>
<p>比如：</p>
<ul>
<li>所有物体应该设置一个父物体</li>
<li>头、左手、右手应该是身体骨骼的子物体，以方便旋转移动</li>
</ul>
<p>渲染层级问题，可以使用 order in layer 解决。</p>
<h2 id="知识点三-图集骨骼动画使用"><a href="#知识点三-图集骨骼动画使用" class="headerlink" title="知识点三 图集骨骼动画使用"></a>知识点三 图集骨骼动画使用</h2><p>选中父物体，单个设定动画即可。</p>
<h1 id="psb-图片骨骼编辑-知识点"><a href="#psb-图片骨骼编辑-知识点" class="headerlink" title="psb 图片骨骼编辑 知识点"></a>psb 图片骨骼编辑 知识点</h1><h2 id="知识点一-认识-PSB-文件"><a href="#知识点一-认识-PSB-文件" class="headerlink" title="知识点一 认识 PSB 文件"></a>知识点一 认识 PSB 文件</h2><p>认识 PSB 之前先认识 PS<br>PS（photoshop）是一款强大的图像处理软件<br>在各领域都被广泛使用<br>在游戏行业中也是美术同学使用最多的图像处理软件之一</p>
<p>PSD 和 PSB 两种格式，都是 PS 这款软件用于保存图像处理数据的文件格式</p>
<p>PSD 和 PSB 两种格式并没有太大的区别<br>最大的区别是 PSD 格式兼容除 PS 以外的其它一些软件<br>而 PSB 只能用 PS 打开</p>
<p>在 Unity 中官方建议使用 psb 格式</p>
<h2 id="知识点二-在-Unity-中使用-PSB-文件"><a href="#知识点二-在-Unity-中使用-PSB-文件" class="headerlink" title="知识点二 在 Unity 中使用 PSB 文件"></a>知识点二 在 Unity 中使用 PSB 文件</h2><p>需要在 Packages Manager 窗口中引入 2D PSD Importer 工具包</p>
<h2 id="知识点三-设置-PSB-文件关键参数"><a href="#知识点三-设置-PSB-文件关键参数" class="headerlink" title="知识点三 设置 PSB 文件关键参数"></a>知识点三 设置 PSB 文件关键参数</h2><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230409151055203.png" alt="image-20230409151055203"></p>
<ul>
<li>Extrude Edges：图片边缘延伸网格</li>
<li>Import Hidden：是否导入 psb 文件中隐藏的图层</li>
<li>$\textcolor{OrangeRed}{Moszic：启用后，将图层生成Sprite，并将他们合并成单个纹理}$</li>
<li>$\textcolor{OrangeRed}{Character Rig：是否使用人物已经绑定的骨骼}$</li>
<li>$\textcolor{OrangeRed}{Use Layer Grouping：使用psb文件中的层分组}$</li>
<li>$\textcolor{OrangeRed}{Pivot：轴心点位置}$</li>
<li>Reslice：从导入层重新生成 Sprite，并清除对 Sprite 的任何更改，只有启用 Moszic 后又用</li>
<li>Keep Duplicate Name：让 Sprite 名称保留 PSB 文件中的名字</li>
</ul>
<h2 id="知识点四-为-PSB-文件编辑骨骼信息"><a href="#知识点四-为-PSB-文件编辑骨骼信息" class="headerlink" title="知识点四 为 PSB 文件编辑骨骼信息"></a>知识点四 为 PSB 文件编辑骨骼信息</h2><p>此时，SpriteSheet 可以切换显示图集和组合后的图片。</p>
<p>此时，Bone Influence 配合 Visibility 的 Sprite，将显示每一个图片收到哪些骨骼的影响，根据需要配置即可。</p>
<h1 id="反向动力学-IK-知识点"><a href="#反向动力学-IK-知识点" class="headerlink" title="反向动力学 IK 知识点"></a>反向动力学 IK 知识点</h1><h2 id="知识点一-什么是-IK？"><a href="#知识点一-什么是-IK？" class="headerlink" title="知识点一 什么是 IK？"></a>知识点一 什么是 IK？</h2><p>在骨骼动画中，构建骨骼的方法被称为正向动力学<br>它的表现形式是，子骨骼（关节）的位置根据父骨骼（关节）的旋转而改变<br>用我们人体举例子<br>当我们抬起手臂时，是肩部关节带动的整个手臂的运动，用父子骨骼理解的话就是父带动了子</p>
<p>而<code>IK</code>全称是<code>Inverse Kinematics</code>，翻译过来的意思就是反向动力学的意思<br>它和正向动力学恰恰相反<br>它的表现形式是，子骨骼（关节）末端的位置改变会带动自己以及自己的父骨骼（关节）旋转<br>用我们人体举例子<br>当我们拿起一个杯子的时候是用手掌去拿，以杯子为参照物，我们移动杯子的位置，手臂会随着杯子一起移动<br>用父子骨骼理解的话就是子带动了父</p>
<h2 id="知识点二-2D-IK-包引入"><a href="#知识点二-2D-IK-包引入" class="headerlink" title="知识点二 2D IK 包引入"></a>知识点二 2D IK 包引入</h2><p>在 Package Manager 窗口中引入 2D IK 工具包<br>需要在 Advanced 高级选项中选中 Show preview packages（显示预览包）<br>这样才能看到 2D IK 相关内容</p>
<p>注意：如果在引入包时报错，需要在 Windows 防火墙中添加入站规则</p>
<p>&#x3D;&#x3D;注意：Unity 高版本（Unity2020.3.37f1c1）的 2D Animation 包含了 2D IK，不用再导入了。&#x3D;&#x3D;</p>
<h2 id="知识点三-2D-IK-的使用"><a href="#知识点三-2D-IK-的使用" class="headerlink" title="知识点三 2D IK 的使用"></a>知识点三 2D IK 的使用</h2><p>给物体一个空父物体，然后在这个父物体上添加 <code>IK Manager2D</code>脚本。</p>
<p>点击加号，选择模式，创建 IK，此时会多出一个物体，就是 Target。</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230410183827502.png" alt="image-20230410183827502"></p>
<p>IK Solvers：IK 解算器，在这里添加 IK<br>Weight：权重，当有多个 IK 控制同一点时权重会影响控制的百分比<br>Restore Default Pose：回复默认位置</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230410183849050.png" alt="image-20230410183849050"></p>
<p>Chain（CCD）：可以自定义影响 N 个关节点，不能反向<br>Chain（FABRIK）：可以自定义影响 N 个关节点，可以反向<br>Limb：只会影响 3 个关节点</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230410183909014.png" alt="image-20230410183909014"></p>
<p>Effector：默认的 IK 点位置（&#x3D;&#x3D;一般使用末尾骨骼的子物体（空物体）实现&#x3D;&#x3D;）<br>Target：会根据 IK 点位置生成真正的 IK 点对象（&#x3D;&#x3D;就是多出来的物体&#x3D;&#x3D;）<br>Flip：反向<br>Constrain Rotation：约束旋转程度<br>Solve from Default Pose：从默认姿势进行求解计算<br>Weight：权重</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230410183924811.png" alt="image-20230410183924811"></p>
<p>Chain Length：IK 影响的骨骼数量<br>Iterations：算法运行的次数<br>Tolerance：容错程度<br>Velocity：速度</p>
<h2 id="知识点四-IK-对于我们的意义"><a href="#知识点四-IK-对于我们的意义" class="headerlink" title="知识点四 IK 对于我们的意义"></a>知识点四 IK 对于我们的意义</h2><ol>
<li>瞄准功能</li>
<li>头部朝向功能</li>
<li>拾取物品功能</li>
</ol>
<p>等等有指向性的功能时 我们都可以通过 IK 来达到目的</p>
<p>最大的作用，可以方便我们进行动画制作</p>
<h2 id="练习题-9"><a href="#练习题-9" class="headerlink" title="练习题"></a>练习题</h2><p>请制作一个鼠标指向哪，2D 人物的手臂就指向哪里的功能。</p>
<p>注意：使用<code>Camera.main.WorldToScreenPoint</code>，一定要谨记 z 轴是横截面位置，需要进行一个替换。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson39_P</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Transform leftHandIK;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> z;</span><br><span class="line">    <span class="keyword">private</span> Vector3 mousePos;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//获取横截面z位置，用于之后的屏幕坐标转世界坐标</span></span><br><span class="line">        z = Camera.main.WorldToScreenPoint(leftHandIK.position).z;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        mousePos = Input.mousePosition;</span><br><span class="line">        mousePos.z = z;</span><br><span class="line">        <span class="comment">//由于是用IK对象的位置控制的旋转，那么，我们直接将IK对象的设置为鼠标的位置即可</span></span><br><span class="line">        leftHandIK.position = Camera.main.ScreenToWorldPoint(mousePos);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="换装—在同一文件中的换装资源-知识点"><a href="#换装—在同一文件中的换装资源-知识点" class="headerlink" title="换装—在同一文件中的换装资源 知识点"></a>换装—在同一文件中的换装资源 知识点</h1><h2 id="知识点一-如何在同一个-psb-文件中制作换装资源"><a href="#知识点一-如何在同一个-psb-文件中制作换装资源" class="headerlink" title="知识点一 如何在同一个 psb 文件中制作换装资源"></a>知识点一 如何在同一个 psb 文件中制作换装资源</h2><ol>
<li>在 ps 中制作美术资源时，将一个游戏对象的所有换装资源都摆放好位置</li>
<li>当我们导入该资源时，要注意是否导入隐藏的图层</li>
</ol>
<h2 id="知识点二-编辑换装资源的骨骼信息以及分组类别"><a href="#知识点二-编辑换装资源的骨骼信息以及分组类别" class="headerlink" title="知识点二 编辑换装资源的骨骼信息以及分组类别"></a>知识点二 编辑换装资源的骨骼信息以及分组类别</h2><p>在 Sprite Skinng 当中，Visibility 的 Category 可以设置组别和标签</p>
<p>注意事项：</p>
<ul>
<li>每个部位 关联的骨骼要明确设置</li>
<li>为同一个部位的不同装备分组</li>
</ul>
<h2 id="知识点三-如何换装"><a href="#知识点三-如何换装" class="headerlink" title="知识点三 如何换装"></a>知识点三 如何换装</h2><p>两个关键组件</p>
<ul>
<li>SpriteLibrary——精灵资料库，确定类别分组信息</li>
<li>SpriteResolver——精灵解算器，用于确定部位类别和使用的图片</li>
</ul>
<p>一个数据文件</p>
<ul>
<li>SpriteLibraryAsset——精灵资料库资源，具体记录类别分组信息的文件</li>
</ul>
<h2 id="知识点四-代码换装"><a href="#知识点四-代码换装" class="headerlink" title="知识点四 代码换装"></a>知识点四 代码换装</h2><ol>
<li>获取各部位的 SpriteResolver（需要引用命名空间）</li>
<li>使用 SpriteResolver 的 API 进行装备切换</li>
</ol>
<p>获取当前部位默认的类别名</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GetCategory();</span><br></pre></td></tr></table></figure>

<p>设置当前部位想要切换的图片信息</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sr.SetCategoryAndLabel(sr.GetCategory(), <span class="string">&quot;CASK 1&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>使用字典配合 SpriteResolver 实现换装</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.Experimental.U2D.Animation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson40</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> SpriteResolver sr;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Dictionary&lt;<span class="built_in">string</span>, SpriteResolver&gt; equipDic = <span class="keyword">new</span> Dictionary&lt;<span class="built_in">string</span>, SpriteResolver&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 知识点四 代码换装</span></span><br><span class="line">        <span class="comment">// 1.获取各部位的SpriteResolver（需要引用命名空间）</span></span><br><span class="line">        <span class="comment">// 2.使用SpriteResolver的API进行装备切换</span></span><br><span class="line">        <span class="comment">// GetCategory() 获取当前部位默认的类别名</span></span><br><span class="line">        <span class="comment">// SetCategoryAndLabel 设置当前部位想要切换的图片信息</span></span><br><span class="line">        <span class="comment">// sr.SetCategoryAndLabel(sr.GetCategory(), &quot;CASK 1&quot;);</span></span><br><span class="line"></span><br><span class="line">        SpriteResolver[] srs = <span class="keyword">this</span>.GetComponentsInChildren&lt;SpriteResolver&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; srs.Length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            equipDic.Add(srs[i].GetCategory(), srs[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ChangeEquip(<span class="string">&quot;Cask&quot;</span>, <span class="string">&quot;CASK 1&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChangeEquip</span>(<span class="params"><span class="built_in">string</span> category, <span class="built_in">string</span> equipName</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>( equipDic.ContainsKey(category) )</span><br><span class="line">        &#123;</span><br><span class="line">            equipDic[category].SetCategoryAndLabel(category, equipName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="换装—在不同文件中的换装资源-知识点"><a href="#换装—在不同文件中的换装资源-知识点" class="headerlink" title="换装—在不同文件中的换装资源 知识点"></a>换装—在不同文件中的换装资源 知识点</h1><h2 id="知识点一-如何在不同-psb-文件中制作换装资源"><a href="#知识点一-如何在不同-psb-文件中制作换装资源" class="headerlink" title="知识点一 如何在不同 psb 文件中制作换装资源"></a>知识点一 如何在不同 psb 文件中制作换装资源</h2><ol>
<li>保证个部位在 PS 文件中的统一</li>
<li>基础部位可选择性隐藏</li>
</ol>
<h2 id="知识点二-编辑换装资源的骨骼信息"><a href="#知识点二-编辑换装资源的骨骼信息" class="headerlink" title="知识点二 编辑换装资源的骨骼信息"></a>知识点二 编辑换装资源的骨骼信息</h2><p>注意事项：不同文件的骨骼信息必须统一，所以我们直接使用复制的方式</p>
<p>复制骨骼后，编辑权重</p>
<h2 id="知识点三-手动添加关键组件和数据文件"><a href="#知识点三-手动添加关键组件和数据文件" class="headerlink" title="知识点三 手动添加关键组件和数据文件"></a>知识点三 手动添加关键组件和数据文件</h2><ol>
<li><p>首先创建 SpriteLibraryAsset 数据文件</p>
<p>注意：Unity2020 版本在 Create-&gt;2D-&gt;SpriteLibraryAsset</p>
</li>
<li><p>为跟对象添加 SpriteLibrary 并关联数据文件</p>
</li>
<li><p>为换装部位关联 SpriteResolver</p>
</li>
</ol>
<h2 id="总结-如何选择-同一文件和-不同文件-制作换装资源两种方案"><a href="#总结-如何选择-同一文件和-不同文件-制作换装资源两种方案" class="headerlink" title="总结 如何选择 同一文件和 不同文件 制作换装资源两种方案"></a>总结 如何选择 同一文件和 不同文件 制作换装资源两种方案</h2><p>换装较少的游戏 比如只有面部表情更换 可以使用同一 psb 文件方案<br>换装较多的游戏 比如各部位有 n 种装备 可以使用不同 psb 文件方案<br>不同 psb 文件 拓展性更强</p>
<p>一切根据需求而定</p>
<h1 id="Spine—运行库导入-知识点"><a href="#Spine—运行库导入-知识点" class="headerlink" title="Spine—运行库导入 知识点"></a>Spine—运行库导入 知识点</h1><h2 id="知识点一-Spine-是什么？"><a href="#知识点一-Spine-是什么？" class="headerlink" title="知识点一 Spine 是什么？"></a>知识点一 Spine 是什么？</h2><p>Spine 是一个收费的跨平台的 2D 骨骼动画制作工具<br>它支持 Unity，UE，Cocos2D，Cocos2D-x 等等游戏引擎<br>相对 Unity2018 才推出的 2D Animation<br>Spine 是目前商业游戏中较为常用的骨骼动画制作方案 稳定且高效</p>
<p>官方地址：<a target="_blank" rel="noopener" href="http://zh.esotericsoftware.com/">http://zh.esotericsoftware.com/</a></p>
<h2 id="知识点二-如何学习-Spine"><a href="#知识点二-如何学习-Spine" class="headerlink" title="知识点二 如何学习 Spine"></a>知识点二 如何学习 Spine</h2><p>制作骨骼动画时美术人员的工作<br>除非你是要做独立游戏，美术程序一人包<br>那么我们没有必要去学习如何通过 Spine 制作骨骼动画</p>
<p>我们只需要学习如何在 Unity 中通过程序使用 Spine 制作的资源<br>如果想要学习如何制作 Spine 骨骼动画，可以根据官网提供的教学内容进行学习</p>
<h2 id="知识点三-导入-Unity-使用的-Spine-运行库"><a href="#知识点三-导入-Unity-使用的-Spine-运行库" class="headerlink" title="知识点三 导入 Unity 使用的 Spine 运行库"></a>知识点三 导入 Unity 使用的 Spine 运行库</h2><p>有了 Spine 提供的支持 Unity 开发的运行库<br>我们才能在 Unity 中使用 Spine 制作的骨骼动画<br>你可以简单理解其实就是官方写好的识别文件处理文件呈现效果的代码<br>我们只需要学习如何使用它提供的 API 即可</p>
<h1 id="Spine—骨骼动画文件的使用-知识点"><a href="#Spine—骨骼动画文件的使用-知识点" class="headerlink" title="Spine—骨骼动画文件的使用 知识点"></a>Spine—骨骼动画文件的使用 知识点</h1><h2 id="知识点一-Spine-导出的-Unity-资源"><a href="#知识点一-Spine-导出的-Unity-资源" class="headerlink" title="知识点一 Spine 导出的 Unity 资源"></a>知识点一 Spine 导出的 Unity 资源</h2><p>Spine 导出的资源有 3 个文件</p>
<ul>
<li>.json 存储了骨骼信息</li>
<li>.png 使用的图片图集</li>
<li>.atlas.txt 图片在图集中的位置信息</li>
</ul>
<p>当我们把这三个资源导入到已经引入了 Spine 运行库的 Unity 工程后<br>会自动为我们生成</p>
<ul>
<li>_Atlas 材质和.atlas.txt 文件的引用配置文件</li>
<li>_Material 材质文件</li>
<li>_SkeletonData json 和_Atlas 资源的引用配置文件</li>
</ul>
<h2 id="知识点二-使用-Spine-导出的骨骼动画"><a href="#知识点二-使用-Spine-导出的骨骼动画" class="headerlink" title="知识点二 使用 Spine 导出的骨骼动画"></a>知识点二 使用 Spine 导出的骨骼动画</h2><ol>
<li><p>直接将_SkeletonData 文件 拖入到场景中</p>
<p>选择创建 SkeletonAnimation 对象</p>
</li>
<li><p>创建空对象 然后手动添加脚本进行关联</p>
</li>
</ol>
<h1 id="Spine—骨骼动画参数相关-知识点"><a href="#Spine—骨骼动画参数相关-知识点" class="headerlink" title="Spine—骨骼动画参数相关 知识点"></a>Spine—骨骼动画参数相关 知识点</h1><h2 id="知识点回顾-Spine-骨骼动画的使用"><a href="#知识点回顾-Spine-骨骼动画的使用" class="headerlink" title="知识点回顾 Spine 骨骼动画的使用"></a>知识点回顾 Spine 骨骼动画的使用</h2><p>导入关键文件，然后使用脚本<code>SkeletonAnimation</code>控制动画。</p>
<h2 id="知识点一-骨骼数据文件参数相关"><a href="#知识点一-骨骼数据文件参数相关" class="headerlink" title="知识点一 骨骼数据文件参数相关"></a>知识点一 骨骼数据文件参数相关</h2><h3 id="骨骼数据文件"><a href="#骨骼数据文件" class="headerlink" title="骨骼数据文件"></a>骨骼数据文件</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230411154102482.png" alt="image-20230411154102482"></p>
<ul>
<li>$\textcolor{OrangeRed}{SkeletonData JSON:骨骼数据文件}$</li>
<li>Scale：缩放大小</li>
<li>Skeleton Data Modifiers：骨骼数据修改器</li>
<li>Blend Mode Materizls：混合模式材质</li>
<li>Apply Additive Material：是否使用叠加材质</li>
<li>Additive Materials：叠加材质</li>
<li>Multiply Materials：相乘材质</li>
<li>Screen Materials：屏幕材质</li>
<li>$\textcolor{OrangeRed}{Atlas Assets：图集资源}$</li>
<li>$\textcolor{OrangeRed}{Mix Settings：混合设置}$<ul>
<li>$\textcolor{OrangeRed}{Animation State Data：动画状态数据}$<br>$\textcolor{OrangeRed}{Default Mix Duration：默认混合持续时间}$</li>
<li>$\textcolor{OrangeRed}{Add Custom Mix：添加自定义混合（可以指定某两个动画之间的持续时间）}$</li>
</ul>
</li>
</ul>
<p>Preview：预览</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230411154705325.png" alt="image-20230411154705325"></p>
<ul>
<li><p>$\textcolor{OrangeRed}{Animations}$：动画</p>
</li>
<li><p>$\textcolor{OrangeRed}{Setup Pose}$：设置姿势（还原到默认姿势）</p>
</li>
<li><p>$\textcolor{OrangeRed}{Create Animation Reference Assets}$：创建动画参考资源</p>
</li>
<li><p>$\textcolor{OrangeRed}{Slots}$：插槽相关（一个部位有多张图片构成，可以在这预览）</p>
</li>
<li><p>SkeletonMecanim：骨骼机制<br>Controller：关联动画控制器</p>
<p>SkeletonMecanim 是 SkeletonAnimation 的替代品，它不是必须的</p>
</li>
</ul>
<p>Skin：蒙皮选择</p>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230411155137913.png" alt="image-20230411155137913"></p>
<h2 id="知识点二-骨骼动画脚本参数相关"><a href="#知识点二-骨骼动画脚本参数相关" class="headerlink" title="知识点二 骨骼动画脚本参数相关"></a>知识点二 骨骼动画脚本参数相关</h2><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230411155831613.png" alt="image-20230411155831613"></p>
<ul>
<li>$\textcolor{OrangeRed}{SkeletonData Asset}$：关联的骨骼动画信息</li>
<li>$\textcolor{OrangeRed}{Animation Name}$：当前播放的动画名</li>
<li>$\textcolor{OrangeRed}{Loop}$：是否循环</li>
<li>Initial Skin：初始蒙皮<br>美术在制作时可能有几套蒙皮<br>一般情况下只有一套 不需要修改</li>
<li>$\textcolor{OrangeRed}{Time Scale}$：时间缩放，值越大动画播放的越快</li>
<li>Root Motion：是否添加根运动的脚本，一般情况下不添加</li>
</ul>
<h1 id="Spine—骨骼动画代码相关-知识点"><a href="#Spine—骨骼动画代码相关-知识点" class="headerlink" title="Spine—骨骼动画代码相关 知识点"></a>Spine—骨骼动画代码相关 知识点</h1><p>注意：需要先引入命名空间</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Spine;</span><br><span class="line"><span class="keyword">using</span> Spine.Unity;</span><br></pre></td></tr></table></figure>

<h2 id="知识点一-动画播放"><a href="#知识点一-动画播放" class="headerlink" title="知识点一 动画播放"></a>知识点一 动画播放</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sa = <span class="keyword">this</span>.GetComponent&lt;SkeletonAnimation&gt;();</span><br></pre></td></tr></table></figure>

<p>方法一：直接改变 SkeletonAnimation 中参数</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sa.loop = <span class="literal">true</span>;</span><br><span class="line">sa.AnimationName = <span class="string">&quot;jump&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>方法二：使用 SkeletonAnimation 中动画状态改变的函数</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//马上播放</span></span><br><span class="line">sa.AnimationState.SetAnimation(<span class="number">0</span>, jumpName, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">//排队播放</span></span><br><span class="line">sa.AnimationState.AddAnimation(<span class="number">0</span>, <span class="string">&quot;walk&quot;</span>, <span class="literal">true</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<h2 id="知识点二-转向"><a href="#知识点二-转向" class="headerlink" title="知识点二 转向"></a>知识点二 转向</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sa.skeleton.ScaleX = <span class="number">-1</span>;</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-动画事件"><a href="#知识点三-动画事件" class="headerlink" title="知识点三 动画事件"></a>知识点三 动画事件</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动画开始播放</span></span><br><span class="line">sa.AnimationState.Start += (t) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print( sa.AnimationName +  <span class="string">&quot;动画开始播放&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//动画被中断或者清除</span></span><br><span class="line">sa.AnimationState.End += (t) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print(sa.AnimationName + <span class="string">&quot;动画中断或者清除&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//播放完成</span></span><br><span class="line">sa.AnimationState.Complete += (t) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print(sa.AnimationName + <span class="string">&quot;动画播放完成&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//做动画时添加的自定义事件</span></span><br><span class="line">sa.AnimationState.Event += (t, e) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    print(sa.AnimationName + <span class="string">&quot;自定义事件&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="知识点四-便捷特性"><a href="#知识点四-便捷特性" class="headerlink" title="知识点四 便捷特性"></a>知识点四 便捷特性</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">动画特性</span><br><span class="line">[<span class="meta">SpineAnimation</span>]</span><br><span class="line"></span><br><span class="line">骨骼特性</span><br><span class="line">[<span class="meta">SpineBone</span>]</span><br><span class="line"></span><br><span class="line">插槽特性</span><br><span class="line">[<span class="meta">SpineSlot</span>]</span><br><span class="line"></span><br><span class="line">附件特性</span><br><span class="line">[<span class="meta">SpineAttachment</span>]</span><br></pre></td></tr></table></figure>

<h2 id="知识点五-获取骨骼、设置插槽附件"><a href="#知识点五-获取骨骼、设置插槽附件" class="headerlink" title="知识点五 获取骨骼、设置插槽附件"></a>知识点五 获取骨骼、设置插槽附件</h2><p>获取骨骼</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Bone b = sa.skeleton.FindBone(boneName);</span><br><span class="line">sa.skeleton.SetAttachment(slotName, attachmentName);</span><br></pre></td></tr></table></figure>

<h2 id="知识点六-在-UI-中使用"><a href="#知识点六-在-UI-中使用" class="headerlink" title="知识点六 在 UI 中使用"></a>知识点六 在 UI 中使用</h2><p>创建 SkeletonGraphic（UnityUI）对象，即可在 UGUi 当中使用。</p>
<h1 id="模型导入相关设置"><a href="#模型导入相关设置" class="headerlink" title="模型导入相关设置"></a>模型导入相关设置</h1><h1 id="模型导入概述-知识点"><a href="#模型导入概述-知识点" class="headerlink" title="模型导入概述 知识点"></a>模型导入概述 知识点</h1><h2 id="知识点一-Unity-中使用的模型"><a href="#知识点一-Unity-中使用的模型" class="headerlink" title="知识点一 Unity 中使用的模型"></a>知识点一 Unity 中使用的模型</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-FBXImporter.html">Model Import Settings 窗口 - Unity 手册</a></p>
</blockquote>
<p>Unity 支持很多模型格式<br>比如</p>
<ul>
<li>.fbx</li>
<li>.dae</li>
<li>.3ds</li>
<li>.dxf</li>
<li>.obj 等等</li>
</ul>
<p>99%的模型都不是在 Unity 中制作的，都是美术人员在建模软件中制作<br>如 3DMax、Maya 等等<br>当他们制作完模型后，虽然 Unity 支持很多模型格式<br>但是官方建议是将模型在建模软件中导出为 FBX 格式后再使用</p>
<p>使用 FBX 模型格式的优势</p>
<ol>
<li>减少不必要数据，提升导入效率</li>
<li>不需要在每台计算机上安装建模软件的授权副本</li>
<li>对 Unity 版本无要求，使用原始 3D 模型格式可能会因为版本不同导致错误或意外</li>
</ol>
<p>如果美术同学不知道如何导出 FBX 格式的模型和导出规范<br>可以参考 Unity 官网文档或者百度谷歌</p>
<p>美术同学在导出模型时需要注意</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2019.4/Manual/CreatingDCCAssets.html">https://docs.unity.cn/cn/2019.4/Manual/CreatingDCCAssets.html</a></li>
<li>坐标轴，人物面朝向为 Z 轴正方向，Y 轴正方向为头顶方向，X 轴正方向为人物右侧</li>
</ol>
<h2 id="知识点二-导入模型的基本流程"><a href="#知识点二-导入模型的基本流程" class="headerlink" title="知识点二 导入模型的基本流程"></a>知识点二 导入模型的基本流程</h2><ol>
<li>美术同学用 3D 建模软件制作好模型导出 FBX 格式模型资源</li>
<li>程序将这些模型资源导入到 Unity 的资源文件夹中</li>
<li>在 Unity 内部对这些模型进行基础设置——模型、骨骼、动作、材质</li>
</ol>
<h2 id="知识点三-如何在-Unity-中设置模型相关内容"><a href="#知识点三-如何在-Unity-中设置模型相关内容" class="headerlink" title="知识点三 如何在 Unity 中设置模型相关内容"></a>知识点三 如何在 Unity 中设置模型相关内容</h2><p>在 Project 窗口选中导入的模型<br>在 Inspector 窗口进行相关设置<br>4 个页签分别是</p>
<ol>
<li>Model 模型页签</li>
<li>Rig 操纵（骨骼）页签</li>
<li>Animation 动画页签</li>
<li>Materials 材质纹理页签</li>
</ol>
<p>通过这 4 个页签对模型动作相关信息设置完成后<br>之后我们才能在场景中更好的使用这些模型资源</p>
<h1 id="Model-模型页签-知识点"><a href="#Model-模型页签-知识点" class="headerlink" title="Model 模型页签 知识点"></a>Model 模型页签 知识点</h1><h2 id="知识点一-Model-模型页签是设置什么的"><a href="#知识点一-Model-模型页签是设置什么的" class="headerlink" title="知识点一 Model 模型页签是设置什么的"></a>知识点一 Model 模型页签是设置什么的</h2><p>该页签主要是用于设置<br>比如<br>模型比例设置<br>是否导入模型中的摄像机和光源<br>网格压缩方式 等等相关信息</p>
<p>修改模型中存储的各种元素和属性<br>最终会影响在 Unity 中使用模型时的一些表现</p>
<h2 id="知识点二-参数讲解-8"><a href="#知识点二-参数讲解-8" class="headerlink" title="知识点二 参数讲解"></a>知识点二 参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/FBXImporter-Model.html">Model 选项卡 - Unity 手册</a></p>
</blockquote>
<h1 id="Rig-操纵页签-知识点"><a href="#Rig-操纵页签-知识点" class="headerlink" title="Rig 操纵页签 知识点"></a>Rig 操纵页签 知识点</h1><h2 id="知识点一-Rig-操纵（骨骼）页签是用来干啥的"><a href="#知识点一-Rig-操纵（骨骼）页签是用来干啥的" class="headerlink" title="知识点一 Rig 操纵（骨骼）页签是用来干啥的"></a>知识点一 Rig 操纵（骨骼）页签是用来干啥的</h2><p>该页签主要是用于设置<br>如何将骨骼映射到导入模型中的网格，以便能够将其动画化<br>对于人形角色模型，需要分配或创建 Avatar（替身信息）<br>对于非人形角色模型，需要在骨骼中确定根骨骼</p>
<p>简单来说 Rig 页签主要是设置骨骼和替身系统相关信息的<br>设置了他们，动画才能正常的播放</p>
<h2 id="知识点二-面板基础参数讲解"><a href="#知识点二-面板基础参数讲解" class="headerlink" title="知识点二 面板基础参数讲解"></a>知识点二 面板基础参数讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/FBXImporter-Rig.html">Rig 选项卡 - Unity 手册</a></p>
</blockquote>
<h3 id="面板基础信息"><a href="#面板基础信息" class="headerlink" title="面板基础信息"></a>面板基础信息</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230411200830674.png" alt="image-20230411200830674"></p>
<p>Animation Type：动画类型</p>
<ul>
<li>None：不存在动画主要用于一些环境静态模型</li>
<li>Humanoid：人形模型<br>一般情况下，有头和四肢（一个头两条腿两只手）为人形<br>人形模型需要使用 Avatar 化身系统<br>绑定人主要关节的映射关系</li>
<li>Generic：通用模型，非人形模型<br>不是标准的人形模型，可以是任意形状，可能有 8 只腿两个头等等<br>这种模型主要需要设置骨骼根节点</li>
<li>Legacy：旧版动画类型<br>与 Unity3.x 及更早版本导入和使用动画<br>一般不使用</li>
</ul>
<h2 id="知识点三-Avatar-化身系统是什么"><a href="#知识点三-Avatar-化身系统是什么" class="headerlink" title="知识点三 Avatar 化身系统是什么"></a>知识点三 Avatar 化身系统是什么</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-AvatarMask.html">Avatar Mask 窗口 - Unity 手册</a></p>
</blockquote>
<p>理解化身系统首先要知道骨骼动画是什么<br>通过我们之前基础知识的讲解和 2D 骨骼动画的讲解<br>相信大家已经了解骨骼动画是什么<br>3D 动画的本质 也是骨骼动画<br>为制作好的模型绑定骨骼制作动画是模型动画的制作流程</p>
<p>形象的理解<br>对于人来说<br>人的整体结构都是一致的<br>另一个人能做的动作理论上来说我们是完全可以模仿出来的<br>而化身系统的本质，就是动作的模仿（复用）<br>我们可以把一个标准人形动作通过化身系统复用到其它人形模型上<br>只要保证他们的关节点对应关系是一致的</p>
<p>而这节课要学习的就是如何设置人形模型在化身系统中关节的对应关系</p>
<h2 id="知识点四-化身系统设置讲解"><a href="#知识点四-化身系统设置讲解" class="headerlink" title="知识点四 化身系统设置讲解"></a>知识点四 化身系统设置讲解</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-Avatar.html">Avatar Mapping 选项卡 - Unity 手册</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/MuscleDefinitions.html">Avatar Muscle &amp; Settings 选项卡 - Unity 手册</a></p>
</blockquote>
<ul>
<li>Mapping<br>我们需要在这个页签对模型关节进行映射设置<br>因为人物动画无非就是改变这些关节的角度</li>
<li>Muscles&amp;Settings<ul>
<li>Muscle Group Preview<br>肌肉群预览<br>可以在这里预览在不同姿势的旋转变化<br>用来观察之前的关联映射关系是否合理<br>主要起到预览作用</li>
<li>Per-Muscle Settings<br>肌肉设置<br>用于设置各骨骼在旋转时的范围限制<br>因为如果不设置限制，在一些极限角度时会非常奇怪<br>我们可以在这里单独设置限制范围</li>
</ul>
</li>
</ul>
<h1 id="Animation-动画页签概述-知识点"><a href="#Animation-动画页签概述-知识点" class="headerlink" title="Animation 动画页签概述 知识点"></a>Animation 动画页签概述 知识点</h1><h2 id="知识点一-Animation-动画页签是用来干啥的"><a href="#知识点一-Animation-动画页签是用来干啥的" class="headerlink" title="知识点一 Animation 动画页签是用来干啥的"></a>知识点一 Animation 动画页签是用来干啥的</h2><p>当我们选中包含动画剪辑的的模型时<br>该页签将显示动画设置相关的内容</p>
<p>动画剪辑是 Unity 动画的最小构成元素<br>代表一个单独的动作</p>
<p>当美术同学做好动画导出时建议将模型和动画文件分别导出</p>
<ol>
<li>导出包含网格信息不包含动作信息模型</li>
<li>导出不包含网格信息包含动作信息的动作（模型）文件</li>
</ol>
<p>具体的导出规则可以参考</p>
<ol>
<li><p>如何导入外部创建的模型资源</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2019.4/Manual/CreatingDCCAssets.html">https://docs.unity.cn/cn/2019.4/Manual/CreatingDCCAssets.html</a></p>
</li>
<li><p>使用多个模型文件来导入动画</p>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2019.4/Manual/Splittinganimations.html">https://docs.unity.cn/cn/2019.4/Manual/Splittinganimations.html</a></p>
</li>
</ol>
<h2 id="知识点二-Animation-动画页签的-4-大部分"><a href="#知识点二-Animation-动画页签的-4-大部分" class="headerlink" title="知识点二 Animation 动画页签的 4 大部分"></a>知识点二 Animation 动画页签的 4 大部分</h2><ol>
<li>基础信息设置</li>
<li>动画剪辑属性基本设置</li>
<li>动画剪辑属性其它设置</li>
<li>预览窗口</li>
</ol>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-AnimationClip.html">Animation 选项卡 - Unity 手册</a></p>
</blockquote>
<h1 id="3D-动画相关"><a href="#3D-动画相关" class="headerlink" title="3D 动画相关"></a>3D 动画相关</h1><h1 id="3D-动画的使用-知识点"><a href="#3D-动画的使用-知识点" class="headerlink" title="3D 动画的使用 知识点"></a>3D 动画的使用 知识点</h1><h2 id="知识点一-使用导入的-3D-动画"><a href="#知识点一-使用导入的-3D-动画" class="headerlink" title="知识点一 使用导入的 3D 动画"></a>知识点一 使用导入的 3D 动画</h2><ol>
<li>将模型拖入场景中</li>
<li>为模型对象添加 Animator 脚本</li>
<li>为其撞见 Animator Controller 动画控制器（状态机）</li>
<li>将想要使用的相关动作 拖入 Animator Controller 动画控制器（状态机）窗口</li>
<li>在 Animator Controller 动画控制器（状态机）窗口编辑动画关系（使用之前学习的状态机相关知识）</li>
<li>代码控制状态切换</li>
</ol>
<h2 id="知识点二-状态设置相关参数"><a href="#知识点二-状态设置相关参数" class="headerlink" title="知识点二 状态设置相关参数"></a>知识点二 状态设置相关参数</h2><p>我们可以选中状态机窗口中的某一个状态为其设置相关参数<br>我们可以称之为动画状态设置<br>主要设置的是 当前状态的播放速度等等细节</p>
<h2 id="知识点三-连线设置相关参数"><a href="#知识点三-连线设置相关参数" class="headerlink" title="知识点三 连线设置相关参数"></a>知识点三 连线设置相关参数</h2><p>我们可以选中状态机窗口中的某一条箭头为其设置相关参数<br>我们可以称之为动画过渡设置<br>主要设置的是 从一个状态切换到另一个状态时 的表现效果和切换条件</p>
<h2 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h2><p>注意点</p>
<ol>
<li>Has Exit Time 是否启用 如果希望瞬间切换动画不需过多等待，取消该选项</li>
<li>Can Transition To self 是否启用 如果希望自己不要打断自己，取消该选项</li>
</ol>
<h2 id="练习题-10"><a href="#练习题-10" class="headerlink" title="练习题"></a>练习题</h2><p>请使用资料区的模型，设置它的状态机，我们可以通过 W 键控制其前进，S 键控制其后退，空格键控制其跳跃，AD 键可以控制其转向</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="comment">//创建人：</span></span><br><span class="line"><span class="comment">//功能说明：</span></span><br><span class="line"><span class="comment">//**********************************</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson50_P</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Animator animator;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        animator = GetComponent&lt;Animator&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        animator.SetInteger(<span class="string">&quot;Speed&quot;</span>, (<span class="built_in">int</span>)Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>));</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Space))</span><br><span class="line">        &#123;</span><br><span class="line">            animator.SetBool(<span class="string">&quot;Jump&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.transform.Rotate(Vector3.up, Input.GetAxis(<span class="string">&quot;Horizontal&quot;</span>) * <span class="number">40</span> * Time.deltaTime);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">JumpOver</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        animator.SetBool(<span class="string">&quot;Jump&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="动画分层和遮罩-知识点"><a href="#动画分层和遮罩-知识点" class="headerlink" title="动画分层和遮罩 知识点"></a>动画分层和遮罩 知识点</h1><p>动画分层的作用<br>游戏中会有这样的需求<br>人物健康状态时播放正常动画<br>人物非健康状态时播放特殊动画<br>比如血量低于一定界限，人物的大部分动作将表现为虚弱状态<br>我们可以利用动画分层来快速实现这样的功能</p>
<p>动画分层和动画遮罩结合使用<br>3D 游戏中我们常常会面对这样的需求</p>
<ul>
<li>人物站立时会有开枪动作</li>
<li>人物跑动时会有开枪动作</li>
<li>人物蹲下时会有开枪动作</li>
</ul>
<p>从表现上来看光是开枪动作可能就有 3 种<br>如果要让美术同学做 3 种开枪动作费时又费资源</p>
<p>我们是否可以这样做<br>比如开枪动画只影响上半身<br>下半身根据实际情况播放站立，跑动，蹲下动作<br>通过上下半身播放不同的动画就可以达到动画的组合播放</p>
<p>动画分层的主要就是达到这两个目的</p>
<ol>
<li>两套不同层动作的切换</li>
<li>结合动画遮罩让两个动画叠加在一起播放</li>
</ol>
<p>提升动画多样性，节约资源</p>
<h2 id="知识点二-如何使用动画分层"><a href="#知识点二-如何使用动画分层" class="headerlink" title="知识点二 如何使用动画分层"></a>知识点二 如何使用动画分层</h2><ol>
<li>新建一个动画层</li>
<li>设置动画层参数</li>
<li>在该层中设置状态机（注意：结合遮罩使用时默认状态一般为 Null 状态）</li>
<li>根据需求创建动画遮罩</li>
</ol>
<p>通过代码改变某层的权重</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">animator = <span class="keyword">this</span>.GetComponent&lt;Animator&gt;();</span><br><span class="line">animator.SetLayerWeight(animator.GetLayerIndex(<span class="string">&quot;MyLayer2&quot;</span>), <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h2 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h2><p>利用动画分层我们可以做到</p>
<ol>
<li>上下半身播放两个动画进行组合，比如上半身扔炸弹，下半身待机移动蹲下</li>
<li>快速制作正常状态和受伤状态的动作切换</li>
</ol>
<h2 id="练习题-11"><a href="#练习题-11" class="headerlink" title="练习题"></a>练习题</h2><ol>
<li>在之前练习题的基础上，按 J 键可以让人物上半身播放一个其他动画</li>
<li>为角色制作受伤时，基础动画改变的功能</li>
</ol>
<h1 id="动画-1D-混合-知识点"><a href="#动画-1D-混合-知识点" class="headerlink" title="动画 1D 混合 知识点"></a>动画 1D 混合 知识点</h1><h2 id="知识点一-什么是动画混合"><a href="#知识点一-什么是动画混合" class="headerlink" title="知识点一 什么是动画混合"></a>知识点一 什么是动画混合</h2><p>游戏动画中常见的功能就是在两个或者多个相似运动之间进行混合<br>比如</p>
<ol>
<li>根据角色的速度来混合行走和奔跑动画</li>
<li>根据角色的转向来混合向左或向右倾斜的动作</li>
</ol>
<p>你可以理解是高级版的动画过渡</p>
<p>之前我们学习的动画过渡是处理两个不同类型动作之间切换的过渡效果<br>而动画混合是允许合并多个动画来使动画平滑混合</p>
<h2 id="知识点二-如何在状态机窗口创建动画混合状态"><a href="#知识点二-如何在状态机窗口创建动画混合状态" class="headerlink" title="知识点二 如何在状态机窗口创建动画混合状态"></a>知识点二 如何在状态机窗口创建动画混合状态</h2><p>在 Animator Controller 窗口 右键-&gt;Create State-&gt;From New Blend Tree</p>
<h2 id="知识点三-1D-混合的使用"><a href="#知识点三-1D-混合的使用" class="headerlink" title="知识点三 1D 混合的使用"></a>知识点三 1D 混合的使用</h2><p>1D 混合就是通过一个参数来混合子运动</p>
<p>注意：往混合树里面加入动作时需要找到动画文件进行关联</p>
<h2 id="练习题-12"><a href="#练习题-12" class="headerlink" title="练习题"></a>练习题</h2><p>在之前练习题的基础上，通过 1D 混合树制作前进后退的功能。</p>
<p>通过控制 Blend Tree 的参数，我们可以简单的实现按住 Shift 实现奔跑的效果。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Lesson52_Exercises</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Animator animator;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">float</span> dValue = <span class="number">0.5f</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> 练习题</span></span><br><span class="line">        <span class="comment">//在之前练习题的基础上，通过1D混合树制作前进后退的功能</span></span><br><span class="line"></span><br><span class="line">        animator = <span class="keyword">this</span>.GetComponent&lt;Animator&gt;();</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        animator.SetFloat(<span class="string">&quot;Speed&quot;</span>, Input.GetAxis(<span class="string">&quot;Vertical&quot;</span>)* dValue);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.LeftShift))</span><br><span class="line">            dValue = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyUp(KeyCode.LeftShift))</span><br><span class="line">            dValue = <span class="number">0.5f</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Input.GetKeyDown(KeyCode.Space))</span><br><span class="line">            animator.SetTrigger(<span class="string">&quot;Jump&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="动画-2D-混合-知识点"><a href="#动画-2D-混合-知识点" class="headerlink" title="动画 2D 混合 知识点"></a>动画 2D 混合 知识点</h1><h2 id="知识点一-1D-混合和-2D-混合"><a href="#知识点一-1D-混合和-2D-混合" class="headerlink" title="知识点一 1D 混合和 2D 混合"></a>知识点一 1D 混合和 2D 混合</h2><p>1D 混合是用一个参数控制动画的混合，之所以叫 1D 是因为一个参数可以看做是 1 维线性的</p>
<p>2D 混合你可以简单理解是用两个参数控制动画的混合，之所以叫 2D 是因为两个参数可以看做是 2 维平面 xy 轴的感觉</p>
<h2 id="知识点二-2D-混合的种类"><a href="#知识点二-2D-混合的种类" class="headerlink" title="知识点二 2D 混合的种类"></a>知识点二 2D 混合的种类</h2><ol>
<li><p>2D Simple Directional</p>
<p>2D 简单定向模式 运动表示不同方向时使用 比如向前、后、左、右走</p>
</li>
<li><p>2D Freeform Directional</p>
<p>2D 自由形式定向模式 同上 运动表示不同方向时使用 但是可以在同一方向上有多个运动 比如向前跑和走</p>
</li>
<li><p>2D Freeform Cartesian</p>
<p>2D 自由形式笛卡尔坐标模式 运动不表示不同方向时使用 比如向前走不拐弯 向前跑不拐弯 向前走右转 向前跑右转</p>
</li>
<li><p>Direct</p>
<p>直接模式 自由控制每个节点权重，一般做表情动作等</p>
</li>
</ol>
<h2 id="知识点三-2D-混合的使用"><a href="#知识点三-2D-混合的使用" class="headerlink" title="知识点三 2D 混合的使用"></a>知识点三 2D 混合的使用</h2><p>将 Blend Type 修改为除了 1D 的其他类型即可。</p>
<h2 id="知识点四-总结"><a href="#知识点四-总结" class="headerlink" title="知识点四 总结"></a>知识点四 总结</h2><p>前三种方式只是针对动作的不同采用不同的算法来进行混合的<br>第四种可以用多个参数进行融合</p>
<p>混合树中还可以再嵌入混合树，使用上是一致的，根据实际情况选择性使用</p>
<h2 id="练习题-13"><a href="#练习题-13" class="headerlink" title="练习题"></a>练习题</h2><p>通过 2D 混合树制作前进后退左右旋转的功能</p>
<h1 id="动画子状态机-知识点"><a href="#动画子状态机-知识点" class="headerlink" title="动画子状态机 知识点"></a>动画子状态机 知识点</h1><h2 id="知识点一-什么是子状态机"><a href="#知识点一-什么是子状态机" class="headerlink" title="知识点一 什么是子状态机"></a>知识点一 什么是子状态机</h2><p>子状态机顾名思义就是在状态机里还有一个状态机<br>它的主要作用就是某一个状态是由多个动作状态组合而成的复杂状态<br>比如某一个技能它是由 3 段动作组合而成的，跳起，攻击，落下<br>当我们释放这个技能时会连续播放这 3 个动作<br>那么我们完全可以把他们放到一个子状态机中</p>
<h2 id="知识点二-创建子状态机"><a href="#知识点二-创建子状态机" class="headerlink" title="知识点二 创建子状态机"></a>知识点二 创建子状态机</h2><p>在 Animator Controller 窗口中右键-&gt;Create Sub-State Machine</p>
<h2 id="知识点三-编辑子状态机"><a href="#知识点三-编辑子状态机" class="headerlink" title="知识点三 编辑子状态机"></a>知识点三 编辑子状态机</h2><p>注意：子状态机和外部状态的相互连接方式</p>
<p>子状态机连接回到上一层动画，可以选择回到状态机还是回到某个状态。</p>
<h1 id="动画-IK-控制-知识点"><a href="#动画-IK-控制-知识点" class="headerlink" title="动画 IK 控制 知识点"></a>动画 IK 控制 知识点</h1><h2 id="知识点一-什么是-IK？-1"><a href="#知识点一-什么是-IK？-1" class="headerlink" title="知识点一 什么是 IK？"></a>知识点一 什么是 IK？</h2><p>在骨骼动画中，构建骨骼的方法被称为正向动力学<br>它的表现形式是，子骨骼（关节）的位置根据父骨骼（关节）的旋转而改变<br>用我们人体举例子<br>当我们抬起手臂时，是肩部关节带动的整个手臂的运动，用父子骨骼理解的话就是父带动了子</p>
<p>而 IK 全称是 Inverse Kinematics，翻译过来的意思就是反向动力学的意思<br>它和正向动力学恰恰相反<br>它的表现形式是，子骨骼（关节）末端的位置改变会带动自己以及自己的父骨骼（关节）旋转<br>用我们人体举例子<br>当我们拿起一个杯子的时候是用手掌去拿，以杯子为参照物，我们移动杯子的位置，手臂会随着杯子一起移动<br>用父子骨骼理解的话就是子带动了父</p>
<h2 id="知识点二-如何进行-IK-控制"><a href="#知识点二-如何进行-IK-控制" class="headerlink" title="知识点二 如何进行 IK 控制"></a>知识点二 如何进行 IK 控制</h2><ol>
<li><p>在状态机的层级设置中 开启 IK 通道</p>
</li>
<li><p>继承 MonoBehavior 的类中</p>
<p>Unity 定义了一个 IK 回调函数:OnAnimatorIK</p>
<p>我们可以在该函数中调用 Unity 提供的 IK 相关 API 来控制 IK</p>
</li>
<li><p>Animator 中的 IK 相关 API</p>
<ol>
<li>SetLookAtWeight 设置头部 IK 权重</li>
<li>SetLookAtPosition 设置头部 IK 看向位置</li>
<li>SetIKPositionWeight 设置 IK 位置权重</li>
<li>SetIKRotationWeight 设置 IK 旋转权重</li>
<li>SetIKPosition 设置 IK 对应的位置</li>
<li>SetIKRotation 设置 IK 对应的角度</li>
<li>AvatarIKGoal 枚举 四肢末端 IK 枚举</li>
</ol>
</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnAnimatorIK</span>(<span class="params"><span class="built_in">int</span> layerIndex</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//头部IK相关</span></span><br><span class="line">    <span class="comment">//weight:LookAt全局权重0~1</span></span><br><span class="line">    <span class="comment">//bodyWeight:LookAt时身体的权重0~1</span></span><br><span class="line">    <span class="comment">//headWeight:LookAt时头部的权重0~1</span></span><br><span class="line">    <span class="comment">//eyesWeight:LookAt时眼镜的权重0~1</span></span><br><span class="line">    <span class="comment">//clampWeight:0表示角色运动时不受限制，1表示角色完全固定无法执行LookAt，0.5表示只能够移动范围的一半</span></span><br><span class="line">    animator.SetLookAtWeight(<span class="number">1</span>, <span class="number">1f</span>, <span class="number">1f</span>);</span><br><span class="line">    animator.SetLookAtPosition(pos.position);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//animator.SetIKPositionWeight(AvatarIKGoal.RightFoot, 1);</span></span><br><span class="line">    animator.SetIKRotationWeight(AvatarIKGoal.RightFoot, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//animator.SetIKPosition(AvatarIKGoal.RightFoot, pos2.position);</span></span><br><span class="line">    animator.SetIKRotation(AvatarIKGoal.RightFoot, pos2.rotation);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="知识点三-IK-反向动力学控制对于我们的意义"><a href="#知识点三-IK-反向动力学控制对于我们的意义" class="headerlink" title="知识点三 IK 反向动力学控制对于我们的意义"></a>知识点三 IK 反向动力学控制对于我们的意义</h2><p>IK 在游戏开发中的应用</p>
<ol>
<li>拾取某一件物品</li>
<li>持枪或持弓箭瞄准某一个对象</li>
</ol>
<p>等等</p>
<h2 id="知识点四-关于-OnAnimatorIK-和-OnAnimatorMove-两个函数的理解"><a href="#知识点四-关于-OnAnimatorIK-和-OnAnimatorMove-两个函数的理解" class="headerlink" title="知识点四 关于 OnAnimatorIK 和 OnAnimatorMove 两个函数的理解"></a>知识点四 关于 OnAnimatorIK 和 OnAnimatorMove 两个函数的理解</h2><p>我们可以简单理解这两个函数是两个和动画相关的特殊生命周期函数<br>他们在 Update 之后 LateUpdate 之前调用<br>他们会在每帧的状态机和动画处理完后调用<br>OnAnimatorIK 在 OnAnimatorMove 之前调用<br>OnAnimatorIK 中主要处理 IK 运动相关逻辑<br>OnAnimatorMove 主要处理 动画移动以修改根运动的回调逻辑</p>
<p>他们存在的目的只是多了一个调用时机，当每帧的动画和状态机逻辑处理完后再调用</p>
<h1 id="动画目标匹配-知识点"><a href="#动画目标匹配-知识点" class="headerlink" title="动画目标匹配 知识点"></a>动画目标匹配 知识点</h1><h2 id="知识点一-什么是动画目标匹配"><a href="#知识点一-什么是动画目标匹配" class="headerlink" title="知识点一 什么是动画目标匹配"></a>知识点一 什么是动画目标匹配</h2><p>动画目标匹配主要指的是<br>当游戏中角色要以某种动作移动，该动作播放完毕后，人物的手或者脚必须落在某一个地方</p>
<p>比如：角色需要跳过踏脚石或者跳跃并抓住房梁<br>那么这时我们就需要动作目标匹配来达到想要的效果</p>
<h2 id="知识点二-如何实现动画目标匹配"><a href="#知识点二-如何实现动画目标匹配" class="headerlink" title="知识点二 如何实现动画目标匹配"></a>知识点二 如何实现动画目标匹配</h2><p>Unity 中的 Animator 提供了对应的函数来完成该功能<br>使用步骤是</p>
<ol>
<li>找到动作关键点位置信息（比如起跳点，落地点，简单理解就是真正可能产生位移的动画表现部分）</li>
<li>将关键信息传入 MatchTargetAPI 中</li>
</ol>
<h2 id="知识点三-注意"><a href="#知识点三-注意" class="headerlink" title="知识点三 注意"></a>知识点三 注意</h2><p>调用匹配动画的时机有一些限制</p>
<ol>
<li><p>必须保证动画已经切换到了目标动画上</p>
</li>
<li><p>必须保证调用时动画并不是处于过渡阶段而是真正在播放目标动画</p>
<p>如果发现匹配不正确，往往都是这两个原因造成的</p>
</li>
<li><p>需要开启 Apply Root Motion</p>
</li>
</ol>
<p>我们可以在动画当中添加时间，在动画播放的某一帧启动事件。</p>
<p>事件当中进行动画目标匹配</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">MatchTarget</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//参数一：目标位置</span></span><br><span class="line">    <span class="comment">//参数二：目标角度</span></span><br><span class="line">    <span class="comment">//参数三：匹配的骨骼位置</span></span><br><span class="line">    <span class="comment">//参数四：位置角度权重</span></span><br><span class="line">    <span class="comment">//参数五：开始位移动作的百分比</span></span><br><span class="line">    <span class="comment">//参数六：结束位移动作的百分比</span></span><br><span class="line">    animator.MatchTarget(targetPos.position, targetPos.rotation, AvatarTarget.RightFoot, <span class="keyword">new</span> MatchTargetWeightMask(Vector3.one, <span class="number">1</span>), <span class="number">0.4f</span>, <span class="number">0.64f</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="状态机行为脚本-知识点"><a href="#状态机行为脚本-知识点" class="headerlink" title="状态机行为脚本 知识点"></a>状态机行为脚本 知识点</h1><h2 id="知识点一-状态机行为脚本是什么？"><a href="#知识点一-状态机行为脚本是什么？" class="headerlink" title="知识点一 状态机行为脚本是什么？"></a>知识点一 状态机行为脚本是什么？</h2><p>状态机行为脚本时一类特殊的脚本,继承指定的基类<br>它主要用于关联到状态机中的状态矩形上<br>我们可以按照一定规则编写脚本<br>当进入、退出、保持在某一个特定状态时我们可以进行一些逻辑处理<br>简单解释就是为 Animator Controller 状态机窗口中的某一个状态添加一个脚本<br>利用这个脚本我们可以做一些特殊功能<br>比如</p>
<ol>
<li>进入或退出某一状态时播放声音</li>
<li>仅在某些状态下检测一些逻辑，比如是否接触地面等等</li>
<li>激活和控制某些状态相关的特效</li>
</ol>
<h2 id="知识点二-如何使用状态机脚本"><a href="#知识点二-如何使用状态机脚本" class="headerlink" title="知识点二 如何使用状态机脚本"></a>知识点二 如何使用状态机脚本</h2><ol>
<li>新建一个脚本继承 StateMachineBehaviour 基类</li>
<li>实现其中的特定方法进行状态行为监听<ul>
<li>OnStateEnter 进入状态时，第一个 Update 中调用</li>
<li>OnStateExit 退出状态时，最后一个 Update 中调用</li>
<li>OnStateIK OnAnimatorIK 后调用</li>
<li>OnStateMove OnAnimatorMove 后调用</li>
<li>OnStateUpdate 除第一帧和最后一帧，每个 Update 上调用</li>
<li>OnStateMachineEnter 子状态机进入时调用，第一个 Update 中调用</li>
<li>OnStateMachineExit 子状态机退出时调用，最后一个 Update 中调用</li>
</ul>
</li>
<li>处理对应逻辑</li>
</ol>
<h2 id="知识点三-状态机行为脚本和动画事件如何选择"><a href="#知识点三-状态机行为脚本和动画事件如何选择" class="headerlink" title="知识点三 状态机行为脚本和动画事件如何选择"></a>知识点三 状态机行为脚本和动画事件如何选择</h2><p>状态机行为脚本相对动画事件来说更准确<br>但是使用起来稍微麻烦一些</p>
<p>根据实际需求选择使用即可。</p>
<h1 id="状态机复用-知识点"><a href="#状态机复用-知识点" class="headerlink" title="状态机复用 知识点"></a>状态机复用 知识点</h1><h2 id="知识点一-状态机复用是什么？"><a href="#知识点一-状态机复用是什么？" class="headerlink" title="知识点一 状态机复用是什么？"></a>知识点一 状态机复用是什么？</h2><p>游戏开发时经常遇到这样的情况<br>有 n 个玩家和 n 个怪物，他们的动画状态机行为都是一致的，只是对应的动作不同而已<br>这时如果我们为他们每一个对象都创建一个状态机进行状态设置和过渡设置无疑是浪费时间的<br>所以状态机复用就是解决这一问题的方案<br>主要用于为不同对象使用共同的状态机行为<br>减少工作量 提升开发效率</p>
<h2 id="知识点二-如何复用状态机"><a href="#知识点二-如何复用状态机" class="headerlink" title="知识点二 如何复用状态机"></a>知识点二 如何复用状态机</h2><ol>
<li>在 Project 窗口右键 Create-&gt;Animator Override Controller</li>
<li>为 Animator Override Controller 文件在 Inspector 窗口关联基础的 Animator Controller 文件</li>
<li>关联需要的动画</li>
</ol>
<h1 id="角色控制器"><a href="#角色控制器" class="headerlink" title="角色控制器"></a>角色控制器</h1><h1 id="角色控制器-知识点"><a href="#角色控制器-知识点" class="headerlink" title="角色控制器 知识点"></a>角色控制器 知识点</h1><p>角色控制器是让角色可以受制于碰撞，但是不会被刚体所牵制<br>如果我们对角色使用刚体判断碰撞，可能会出现一些奇怪的表现<br>比如： 1.在斜坡上往下滑动 2.不加约束的情况碰撞可能让自己被撞飞<br>等等<br>而角色控制器会让角色表现的更加稳定<br>Unity 提供了角色控制器脚本专门用于控制角色</p>
<p>注意：<br>添加角色控制器后，不用再添加刚体<br>能检测碰撞函数<br>能检测触发器函数<br>能被射线检测</p>
<h2 id="知识点二-角色控制器的使用"><a href="#知识点二-角色控制器的使用" class="headerlink" title="知识点二 角色控制器的使用"></a>知识点二 角色控制器的使用</h2><p>注意：使用角色控制器后，就不要使用 Animator 的 Apply Root Motion（动画影响骨骼移动）</p>
<p>因为将使用角色控制器移动</p>
<h3 id="1-参数相关"><a href="#1-参数相关" class="headerlink" title="1.参数相关"></a>1.参数相关</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230414152917417.png" alt="image-20230414152917417"></p>
<ul>
<li>Slope Limit<br>坡度度数限制，大于该值的斜坡上不去</li>
<li>Step Offset：台阶偏移值，单位为米，低于这个值的台阶才能上去，该值不能大于角色控制器的高度</li>
<li>Skin Width：皮肤的宽度，两个碰撞体可以穿透彼此最大的皮肤宽度，较大的值可以减少抖动，较小的值可能导致角色卡住，建议设置为半径的 10%</li>
<li>MinMoveDistance：最小移动距离，大多数情况下为 0，可以用来减少抖动</li>
</ul>
<p>角色控制器的碰撞器是一个胶囊碰撞器，使用 Center、Radius、Height 可以调整其形状</p>
<h3 id="2-代码相关"><a href="#2-代码相关" class="headerlink" title="2.代码相关"></a>2.代码相关</h3><p>关键参数： <code>isGrounded</code></p>
<p>关键方法：</p>
<ul>
<li><code>SimpleMove</code>：重力移动（较慢）</li>
<li><code>Move</code>：无重力移动（较快）</li>
<li>碰撞检测使用 <code>OnControllerColliderHit</code>（特殊生命周期）方法</li>
<li>触发器仍然使用 <code>OnTriggerEnter</code></li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cc = <span class="keyword">this</span>.GetComponent&lt;CharacterController&gt;();</span><br><span class="line">animator = <span class="keyword">this</span>.GetComponent&lt;Animator&gt;();</span><br><span class="line"><span class="comment">//关键参数</span></span><br><span class="line"><span class="comment">//是否接触了地面</span></span><br><span class="line"><span class="keyword">if</span> ( cc.isGrounded )</span><br><span class="line">&#123;</span><br><span class="line">print(<span class="string">&quot;接触地面了&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//关键方法</span></span><br><span class="line"><span class="comment">//受重力作用的移动</span></span><br><span class="line"><span class="comment">//cc.SimpleMove(Vector3.forward * 10 * Time.deltaTime);</span></span><br><span class="line"><span class="comment">//不受重力作用的移动</span></span><br><span class="line"><span class="comment">//cc.Move(Vector3.forward * 10 * Time.deltaTime);</span></span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    animator.SetInteger(<span class="string">&quot;Speed&quot;</span>, (<span class="built_in">int</span>)Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>));</span><br><span class="line"></span><br><span class="line">    cc.Move(<span class="keyword">this</span>.transform.forward * <span class="number">80</span> * Time.deltaTime * Input.GetAxisRaw(<span class="string">&quot;Vertical&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (cc.isGrounded)</span><br><span class="line">    &#123;</span><br><span class="line">        print(<span class="string">&quot;接触地面了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当角色控制器想要判断和别的碰撞器产生碰撞时 使用该函数</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnControllerColliderHit</span>(<span class="params">ControllerColliderHit hit</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(hit.collider.gameObject.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//对角色控制器没用</span></span><br><span class="line"><span class="comment">//private void OnCollisionEnter(Collision collision)</span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    print(&quot;碰撞触发&quot;);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//可以检测触发器</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">OnTriggerEnter</span>(<span class="params">Collider other</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    print(<span class="string">&quot;触发器触发&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="导航寻路系统"><a href="#导航寻路系统" class="headerlink" title="导航寻路系统"></a>导航寻路系统</h1><h1 id="导航寻路系统概述-知识点"><a href="#导航寻路系统概述-知识点" class="headerlink" title="导航寻路系统概述 知识点"></a>导航寻路系统概述 知识点</h1><h2 id="知识点一-什么是导航寻路系统"><a href="#知识点一-什么是导航寻路系统" class="headerlink" title="知识点一 什么是导航寻路系统"></a>知识点一 什么是导航寻路系统</h2><p>Unity 中的导航寻路系统是能够让我们在游戏世界当中<br>让角色能够从一个起点准确的到达另一个终点<br>并且能够自动避开两个点之间的障碍物选择最近最合理的路径进行前往</p>
<p>Unity 中的导航寻路系统的本质<br>就是在 A 星寻路算法的基础上进行了拓展和优化</p>
<h2 id="知识点二-我们要学习那些内容"><a href="#知识点二-我们要学习那些内容" class="headerlink" title="知识点二 我们要学习那些内容"></a>知识点二 我们要学习那些内容</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/nav-NavigationSystem.html">Unity 中的导航系统 - Unity 手册</a></p>
</blockquote>
<ol>
<li>导航网格(NavMesh)的生成——要想角色能够在场景中自动寻路产生行进路径，那么必须得先有场景地形数据，导航网格生成就是生成用于寻路的地形数据</li>
<li>导航网格寻路组件(NavMesh Agent)——寻路组件就是帮助我们根据地形数据计算路径让角色动起来的关键</li>
<li>导航网格连接组件(Off-Mesh Link)——当地形中间有断层，想让角色能从一个平面跳向另一个平面，网格连接组件时关键</li>
<li>导航网格动态障碍物组件(NavMesh Obstacle)——地形中可能存在的可以移动或动态销毁的障碍物需要挂载的组件</li>
</ol>
<h1 id="导航寻路场景地形数据生成-知识点"><a href="#导航寻路场景地形数据生成-知识点" class="headerlink" title="导航寻路场景地形数据生成 知识点"></a>导航寻路场景地形数据生成 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/nav-InnerWorkings.html">导航系统的内部工作原理 - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-准备地形"><a href="#知识点一-准备地形" class="headerlink" title="知识点一 准备地形"></a>知识点一 准备地形</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/nav-BuildingNavMesh.html">构建导航网格 - Unity 手册</a></p>
</blockquote>
<p>在进行导航寻路网格生成时<br>第一步是需要有地形<br>地形由美术同学制作模型</p>
<h2 id="知识点二-打开导航网格窗口"><a href="#知识点二-打开导航网格窗口" class="headerlink" title="知识点二 打开导航网格窗口"></a>知识点二 打开导航网格窗口</h2><p>Window——&gt;AI——&gt;Navigation 打开 Unity 内置的导航网格生成窗口</p>
<h2 id="知识点三-参数相关-1"><a href="#知识点三-参数相关-1" class="headerlink" title="知识点三 参数相关"></a>知识点三 参数相关</h2><ol>
<li>Object 页签——设置参与寻路烘焙的对象</li>
<li>Bake 页签——导航数据烘焙页签，设置寻路网格具体信息</li>
<li>Areas 页签——导航地区页签，设置对象的寻路消耗</li>
<li>Agents 页签——代理页签，设置寻路代理信息</li>
</ol>
<h1 id="导航网格寻路组件-知识点"><a href="#导航网格寻路组件-知识点" class="headerlink" title="导航网格寻路组件 知识点"></a>导航网格寻路组件 知识点</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/nav-InnerWorkings.html">导航系统的内部工作原理 - Unity 手册</a></p>
</blockquote>
<h2 id="知识点一-导航网格寻路组件是用来干什么的？"><a href="#知识点一-导航网格寻路组件是用来干什么的？" class="headerlink" title="知识点一 导航网格寻路组件是用来干什么的？"></a>知识点一 导航网格寻路组件是用来干什么的？</h2><p>通过上节课导航网格生成知识点的学习<br>我们已经准备好了地形相关的数据<br>知道地形上哪些地方可以到达，哪些不能<br>那么寻路组件的作用就是帮助我们让角色可以在地形上准确的移动起来</p>
<p>寻路组件的本质就是根据烘焙出的寻路网格信息<br>通过基于 A 星寻路的算法计算出行进路径让我们在该路径上移动起来</p>
<h2 id="知识点二-寻路组件参数相关"><a href="#知识点二-寻路组件参数相关" class="headerlink" title="知识点二 寻路组件参数相关"></a>知识点二 寻路组件参数相关</h2><p>导航网格寻路组件<br>Nav Mesh Agent（导航网格代理人）</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-NavMeshAgent.html">导航网格代理 (NavMesh Agent) - Unity 手册</a></p>
</blockquote>
<h2 id="知识点三-寻路组件代码相关"><a href="#知识点三-寻路组件代码相关" class="headerlink" title="知识点三 寻路组件代码相关"></a>知识点三 寻路组件代码相关</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/AI.NavMeshAgent.html">AI.NavMeshAgent - Unity 脚本 API</a></p>
</blockquote>
<p>使用网格相关脚本需要引用命名空间</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UnityEngine.AI;</span><br></pre></td></tr></table></figure>

<h3 id="常用内容"><a href="#常用内容" class="headerlink" title="常用内容"></a>常用内容</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> NavMeshAgent agent;</span><br><span class="line"><span class="comment">//自动寻路设置目标点</span></span><br><span class="line">agent.SetDestination()</span><br><span class="line"></span><br><span class="line"><span class="comment">//停止寻路</span></span><br><span class="line">agent.isStopped = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<h3 id="不常用内容"><a href="#不常用内容" class="headerlink" title="不常用内容"></a>不常用内容</h3><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//关键变量</span></span><br><span class="line"><span class="comment">//1.面板参数相关 速度 加速度 旋转速度等等</span></span><br><span class="line">print(agent.speed);</span><br><span class="line">print(agent.acceleration);</span><br><span class="line">print(agent.angularSpeed);</span><br><span class="line"><span class="comment">//2.其它重要属性</span></span><br><span class="line"><span class="comment">//2-1当前是否有路径</span></span><br><span class="line"><span class="keyword">if</span>( agent.hasPath )</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2-2代理目标点 可以设置 也可以得到</span></span><br><span class="line">print(agent.destination);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-3是否停止 可以得到也可以设置</span></span><br><span class="line">print(agent.isStopped);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-4当前路径</span></span><br><span class="line">print(agent.path);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-5路径是否在计算中</span></span><br><span class="line"><span class="keyword">if</span>( agent.pathPending )</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2-6路径状态</span></span><br><span class="line">print(agent.pathStatus);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-7是否更新位置</span></span><br><span class="line">agent.updatePosition = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-8是否更新角度</span></span><br><span class="line">agent.updateRotation = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-9代理速度</span></span><br><span class="line">print(agent.velocity);</span><br></pre></td></tr></table></figure>

<h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//手动寻路</span></span><br><span class="line"><span class="comment">//计算生成路径</span></span><br><span class="line">NavMeshPath path = <span class="keyword">new</span> NavMeshPath();</span><br><span class="line"><span class="keyword">if</span>( agent.CalculatePath(Vector3.zero, path) )</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置新路径</span></span><br><span class="line"><span class="keyword">if</span>(agent.SetPath(path))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//清除路径</span></span><br><span class="line">agent.ResetPath();</span><br><span class="line"></span><br><span class="line"><span class="comment">//调整到指定点位置</span></span><br><span class="line">agent.Warp(Vector3.zero);</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>( Input.GetMouseButtonDown(<span class="number">0</span>) )</span><br><span class="line">    &#123;</span><br><span class="line">        RaycastHit hit;</span><br><span class="line">        <span class="keyword">if</span>( Physics.Raycast(Camera.main.ScreenPointToRay(Input.mousePosition), <span class="keyword">out</span> hit ) )</span><br><span class="line">        &#123;</span><br><span class="line">            print(hit.collider.name);</span><br><span class="line">            agent.isStopped = <span class="literal">false</span>;</span><br><span class="line">            <span class="comment">//让对象朝目标点移动 先生成行进路径 然后再移动</span></span><br><span class="line">            agent.SetDestination(hit.point);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( Input.GetKeyDown(KeyCode.Space) )</span><br><span class="line">    &#123;</span><br><span class="line">        agent.isStopped = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="导航网格外连接组件-知识点"><a href="#导航网格外连接组件-知识点" class="headerlink" title="导航网格外连接组件 知识点"></a>导航网格外连接组件 知识点</h1><h2 id="知识点一-网格外连接组件是什么？"><a href="#知识点一-网格外连接组件是什么？" class="headerlink" title="知识点一 网格外连接组件是什么？"></a>知识点一 网格外连接组件是什么？</h2><p>我们在烘焙地形数据的时候<br>可以生成网格外连接<br>但是它是满足条件的都会生成<br>而且是要在编辑模式下生成</p>
<p>如果我们只希望两个未连接的平面之间只有有限条连接路径可以跳跃过去<br>并且运行时可以动态添加<br>就可以使用网格外连接组件<br>达到“指哪打哪”的效果</p>
<h2 id="知识点二-网格外连接组件的使用"><a href="#知识点二-网格外连接组件的使用" class="headerlink" title="知识点二 网格外连接组件的使用"></a>知识点二 网格外连接组件的使用</h2><ol>
<li>使用两个对象作为两个平面之间的连接点（起点和终点）</li>
<li>添加 Off Mesh Link 脚本进行关联</li>
<li>设置参数</li>
</ol>
<h3 id="参数相关-2"><a href="#参数相关-2" class="headerlink" title="参数相关"></a>参数相关</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-OffMeshLink.html">网格外链接 (Off-Mesh Link) - Unity 手册</a></p>
</blockquote>
<p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230417203817899.png" alt="image-20230417203817899"></p>
<ul>
<li>Start：起始点</li>
<li>End：结束点</li>
<li>Cost Override<br>覆盖消耗值<br>负数或 0 则使用所属 Area 区域中的消耗值<br>如果为正数，则使用 Area 区域寻路消耗值*正数代表该连接点的寻路消耗<br>相当于我们可以自定义连接点的寻路消耗<br>主要用来解决当有”步行”和连接点都可以到达某一个目标时，希望优先选择步行区域，但是步行路径明显更远时修改该值</li>
<li>Bi Directional<br>是否开启双向连接点<br>开启后可以从 Start 到 End，反之也可以<br>如果关闭，则只能 Start 到 End</li>
<li>Activated<br>是否启用该连接点<br>如果关闭，则自动寻路时相当于失效</li>
<li>Auto Update Positions<br>是否自动更新位置<br>如果启用<br>当开始和结束位置改变时，导航网格也将更新<br>如果不启用，即使改变了开始结束位置，也会按照刚开始的位置进行计算</li>
</ul>
<h1 id="导航网格动态障碍组件-知识点"><a href="#导航网格动态障碍组件-知识点" class="headerlink" title="导航网格动态障碍组件 知识点"></a>导航网格动态障碍组件 知识点</h1><h2 id="知识点一-导航网格动态障碍组件用来干啥？"><a href="#知识点一-导航网格动态障碍组件用来干啥？" class="headerlink" title="知识点一 导航网格动态障碍组件用来干啥？"></a>知识点一 导航网格动态障碍组件用来干啥？</h2><p>在游戏中常常会有这样的一个功能<br>场景中有一道门，如果这道门没有被破坏是不能自动导航到门后场景的<br>只有当这道门被破坏了，才可以通过此处前往下一场景<br>而类似这样的物体本身是不需要进行寻路的所以没有必要为它添加 NavMeshAgent 脚本<br>这时就会使用动态障碍组件实现该功能</p>
<h2 id="知识点二-导航动态障碍物组件的使用"><a href="#知识点二-导航动态障碍物组件的使用" class="headerlink" title="知识点二 导航动态障碍物组件的使用"></a>知识点二 导航动态障碍物组件的使用</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/Manual/class-NavMeshObstacle.html">导航网格障碍物 (Nav Mesh Obstacle) - Unity 手册</a></p>
</blockquote>
<ol>
<li>为需要进行动态阻挡的对象添加 NavMeshObstacle 组件</li>
<li>设置相关参数</li>
<li>代码逻辑控制其的移动或者显隐</li>
</ol>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://docs.unity.cn/cn/2020.3/ScriptReference/AI.NavMeshObstacle.html">AI.NavMeshObstacle - Unity 脚本 API</a></p>
</blockquote>
<h3 id="导航网格动态障碍物组件"><a href="#导航网格动态障碍物组件" class="headerlink" title="导航网格动态障碍物组件"></a>导航网格动态障碍物组件</h3><p><img src="/%E3%80%90%E5%94%90%E8%80%81%E7%8B%AE%E3%80%91Unity%E5%9B%9B%E9%83%A8%E6%9B%B2.assets/image-20230417214235012.png" alt="image-20230417214235012"></p>
<ul>
<li><p>Shape：动态障碍的形状</p>
<ul>
<li>Capsule：胶囊</li>
<li>Box：盒装</li>
</ul>
</li>
<li><p>Carve：<br>是否开启雕刻功能<br>开启后，障碍物会在导航网格中挖一个孔，所谓挖孔就是会生成对应的网格信息，认为这篇区域无法前往</p>
<p>如果动态障碍物是固定不动的，建议开启，比如阻碍物门木桶栅栏等等<br>如果动态障碍物是频繁移动的，建议不开启该功能，比如汽车和玩家</p>
<ul>
<li>Move Threshold：<br>移动阈值<br>当障碍物移动超过该距离时，会认为其为移动状态，会更新移动的孔</li>
<li>Time To Stationary：<br>障碍物作为静止状态需要等待的时间，单位为秒<br>当静止时间超过该值会认为真正静止了</li>
<li>Carve Only Stationary：<br>只有在静止状态时才会计算孔</li>
</ul>
</li>
</ul>
<h1 id="知识点总结"><a href="#知识点总结" class="headerlink" title="知识点总结"></a>知识点总结</h1><h2 id="学习主要内容"><a href="#学习主要内容" class="headerlink" title="学习主要内容"></a>学习主要内容</h2><ul>
<li>2D 相关</li>
<li>动画相关</li>
<li>角色控制器</li>
<li>导航寻路系统</li>
</ul>
<h2 id="Unity-核心中知识点的重要性"><a href="#Unity-核心中知识点的重要性" class="headerlink" title="Unity 核心中知识点的重要性"></a>Unity 核心中知识点的重要性</h2><ul>
<li>2D 相关——Sprite，2D 物理系统，SpriteShape，Tilemap</li>
<li>动画相关——Animation，Animator</li>
<li>2D 动画相关——2D 序列帧，2D 骨骼</li>
<li>3D 动画相关——动画混合、分层、遮罩、IK 控制、目标匹配等等</li>
<li>角色控制器——相对物理系统更稳定</li>
<li>导航寻路系统——自动避障寻路</li>
</ul>
<h2 id="如何学好-Unity？"><a href="#如何学好-Unity？" class="headerlink" title="如何学好 Unity？"></a>如何学好 Unity？</h2><p>用所学知识点<br>&#x3D;&#x3D;独立&#x3D;&#x3D;的去模拟你喜欢的游戏中的一些基础功能<br>从简单功能开始入手去练习<br>随着你实现的功能越多<br>知识点自然可以&#x3D;&#x3D;融会贯通&#x3D;&#x3D;</p>
<p>做游戏就是用程序逻辑排列组合这些知识点</p>
<h2 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h2><p>不要基础知识点都没有弄明白<br>就急于求成的去照着实践教学视频学习<br>实践视频是不会讲知识点原理的</p>
<p>要积少成多，慢慢积累<br>$\textcolor{OrangeRed}{理论结合实践的提升自己的编程和逻辑能力}$</p>
<!-- flag of hidden posts --></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://clearacg.com">Aki_CCLing</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://clearacg.com/posts/f1892bd3/">https://clearacg.com/posts/f1892bd3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://clearacg.com" target="_blank">Secret Garden</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Technology/">Technology</a><a class="post-meta__tags" href="/tags/Code/">Code</a></div><div class="post_share"><div class="social-share" data-image="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.staticfile.org/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.staticfile.org/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/b7e144d1/" title="算法"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/qungz.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-09</div><div class="title">算法</div></div></a></div><div><a href="/posts/b8d84677/" title="Git常用操作"><img class="cover" src="https://pic.imgdb.cn/item/65b2a2ed871b83018a2d55de.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-16</div><div class="title">Git常用操作</div></div></a></div><div><a href="/posts/978bdfbc/" title="Unity 学习路线"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-05</div><div class="title">Unity 学习路线</div></div></a></div><div><a href="/posts/53b59015/" title="Unity 面试题 - CSharp 相关 Part 1"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-06</div><div class="title">Unity 面试题 - CSharp 相关 Part 1</div></div></a></div><div><a href="/posts/1c8fef53/" title="Unity 面试题 - CSharp 相关 Part 2"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-07</div><div class="title">Unity 面试题 - CSharp 相关 Part 2</div></div></a></div><div><a href="/posts/cbdf6728/" title="Unity 面试题 - Lua 相关"><img class="cover" src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-06</div><div class="title">Unity 面试题 - Lua 相关</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pic.imgdb.cn/item/65b2a3e9871b83018a2fa6bd.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Aki_CCLing</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/AkiCCLing" target="_blank" title="GitHub"><i class="fa-brands fa-github" style="color: #1E3050;"></i></a><a class="social-icon" href="https://space.bilibili.com/5840406" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili" style="color: #FF6699;"></i></a><a class="social-icon" href="https://steamcommunity.com/id/AKIYC/" target="_blank" title="Steam"><i class="fa-brands fa-steam" style="color: #1E3050;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">一个ACGN爱好者的Blog，有问题与我交流可在Bilibili 留言 / 私信，谢谢你的关注。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A%E7%B3%BB%E5%88%97%E8%AF%BE%E7%A8%8B%E2%80%94%E2%80%94%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86"><span class="toc-number">1.1.</span> <span class="toc-text">Unity 入门到精通系列课程——第三部分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E5%85%A5%E9%97%A8%E5%89%8D%E6%83%85%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.2.</span> <span class="toc-text">Unity 入门前情回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E5%85%A5%E9%97%A8%E5%AE%9E%E8%B7%B5%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.3.</span> <span class="toc-text">Unity 入门实践回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E5%9F%BA%E7%A1%80%E5%89%8D%E6%83%85%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.4.</span> <span class="toc-text">Unity 基础前情回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E5%9F%BA%E7%A1%80%E5%AE%9E%E8%B7%B5%E5%9B%9E%E9%A1%BE"><span class="toc-number">1.5.</span> <span class="toc-text">Unity 基础实践回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%89%8D%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">1.6.</span> <span class="toc-text">目前的状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E6%A0%B8%E5%BF%83-%E4%B8%BB%E8%A6%81%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9"><span class="toc-number">1.7.</span> <span class="toc-text">Unity 核心 主要学习内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9"><span class="toc-number">1.7.0.1.</span> <span class="toc-text">主要学习内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%BC%8F"><span class="toc-number">1.7.0.2.</span> <span class="toc-text">主要学习方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.7.1.</span> <span class="toc-text">学习建议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%88%B6%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">认识模型的制作流程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B%E7%9A%84%E7%9B%AE%E7%9A%84"><span class="toc-number">2.1.</span> <span class="toc-text">学习制作过程的目的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B"><span class="toc-number">2.2.</span> <span class="toc-text">模型的制作过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%BB%BA%E6%A8%A1"><span class="toc-number">2.2.1.</span> <span class="toc-text">第一步：建模</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%B1%95-UV"><span class="toc-number">2.2.2.</span> <span class="toc-text">第二步：展 UV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%9D%90%E8%B4%A8%E5%92%8C%E7%BA%B9%E7%90%86%E8%B4%B4%E5%9B%BE"><span class="toc-number">2.2.3.</span> <span class="toc-text">第三步：材质和纹理贴图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E9%AA%A8%E9%AA%BC%E7%BB%91%E5%AE%9A"><span class="toc-number">2.2.4.</span> <span class="toc-text">第四步：骨骼绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E5%8A%A8%E7%94%BB%E5%88%B6%E4%BD%9C"><span class="toc-number">2.2.5.</span> <span class="toc-text">第五步：动画制作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B%E2%80%94%E6%80%BB%E7%BB%93"><span class="toc-number">2.3.</span> <span class="toc-text">模型的制作过程—总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%AF%BC%E5%85%A5%E7%9B%B8%E5%85%B3%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">图片导入相关设置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%AF%BC%E5%85%A5%E6%A6%82%E8%BF%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">4.</span> <span class="toc-text">图片导入概述 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Unity-%E6%94%AF%E6%8C%81%E7%9A%84%E5%9B%BE%E7%89%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.1.</span> <span class="toc-text">知识点一 Unity 支持的图片格式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%9B%BE%E7%89%87%E8%AE%BE%E7%BD%AE%E7%9A%84-6-%E5%A4%A7%E9%83%A8%E5%88%86"><span class="toc-number">4.2.</span> <span class="toc-text">知识点二 图片设置的 6 大部分</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%B9%E7%90%86%E7%B1%BB%E5%9E%8B%E8%AE%BE%E7%BD%AE-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">5.</span> <span class="toc-text">纹理类型设置 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%BA%B9%E7%90%86%E7%B1%BB%E5%9E%8B%E4%B8%BB%E8%A6%81%E6%98%AF%E8%AE%BE%E7%BD%AE%E4%BB%80%E4%B9%88"><span class="toc-number">5.1.</span> <span class="toc-text">知识点一 纹理类型主要是设置什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3"><span class="toc-number">5.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Texture-Type%EF%BC%9A%E7%BA%B9%E7%90%86%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.3.</span> <span class="toc-text">Texture Type：纹理类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Default"><span class="toc-number">5.3.1.</span> <span class="toc-text">Default</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Normal-map"><span class="toc-number">5.3.2.</span> <span class="toc-text">Normal map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Editor-GUI-and-Legacy-GUI"><span class="toc-number">5.3.3.</span> <span class="toc-text">Editor GUI and Legacy GUI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sprite%EF%BC%882D-and-UI%EF%BC%89"><span class="toc-number">5.3.4.</span> <span class="toc-text">Sprite（2D and UI）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cursor"><span class="toc-number">5.3.5.</span> <span class="toc-text">Cursor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">5.3.6.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lightmap"><span class="toc-number">5.3.7.</span> <span class="toc-text">Lightmap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Single-Channel"><span class="toc-number">5.3.8.</span> <span class="toc-text">Single Channel</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E8%AF%B4%E6%98%8E%EF%BC%9ATexture-Type"><span class="toc-number">5.4.</span> <span class="toc-text">官方说明：Texture Type</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%B9%E7%90%86%E5%BD%A2%E7%8A%B6%E8%AE%BE%E7%BD%AE-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">6.</span> <span class="toc-text">纹理形状设置 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%BA%B9%E7%90%86%E5%BD%A2%E7%8A%B6%E4%B8%BB%E8%A6%81%E6%98%AF%E8%AE%BE%E7%BD%AE%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">6.1.</span> <span class="toc-text">知识点一 纹理形状主要是设置什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-1"><span class="toc-number">6.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E8%AF%B4%E6%98%8E-Texture-Shape"><span class="toc-number">6.3.</span> <span class="toc-text">官方说明 Texture Shape</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%B9%E7%90%86%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">7.</span> <span class="toc-text">纹理高级设置 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE%E6%98%AF%E8%AE%BE%E7%BD%AE%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">7.1.</span> <span class="toc-text">知识点一 高级设置是设置什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-2"><span class="toc-number">7.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-MipMap-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">7.3.</span> <span class="toc-text">知识点三 MipMap 是什么？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%B9%E7%90%86%E5%B9%B3%E9%93%BA%E6%8B%89%E4%BC%B8%E8%AE%BE%E7%BD%AE-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">8.</span> <span class="toc-text">纹理平铺拉伸设置 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%B9%B3%E9%93%BA%E6%8B%89%E4%BC%B8%E4%B8%BB%E8%A6%81%E6%98%AF%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">8.1.</span> <span class="toc-text">知识点一 平铺拉伸主要是做什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-3"><span class="toc-number">8.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BA%B9%E7%90%86%E5%B9%B3%E5%8F%B0%E6%89%93%E5%8C%85%E7%9B%B8%E5%85%B3%E8%AE%BE%E7%BD%AE-%E7%9F%A5%E8%AF%86%E7%82%B9-%E9%9D%9E%E5%B8%B8%E9%87%8D%E8%A6%81"><span class="toc-number">9.</span> <span class="toc-text">纹理平台打包相关设置 知识点(非常重要)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%B9%B3%E5%8F%B0%E8%AE%BE%E7%BD%AE%E4%B8%BB%E8%A6%81%E8%AE%BE%E7%BD%AE%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">9.1.</span> <span class="toc-text">知识点一 平台设置主要设置什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">9.2.</span> <span class="toc-text">知识点二 参数相关</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sprite"><span class="toc-number">10.</span> <span class="toc-text">Sprite</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sprite-Editor%E2%80%94Single-%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">11.</span> <span class="toc-text">Sprite Editor—Single 图片编辑 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-SpriteEditor-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">11.1.</span> <span class="toc-text">知识点一 SpriteEditor 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%AE%89%E8%A3%85-2D-Sprite"><span class="toc-number">11.2.</span> <span class="toc-text">知识点二 安装 2D Sprite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-Single-%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91-%E5%8A%9F%E8%83%BD%E8%AE%B2%E8%A7%A3"><span class="toc-number">11.3.</span> <span class="toc-text">知识点三 Single 图片编辑 功能讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Sprite-Editor"><span class="toc-number">11.3.1.</span> <span class="toc-text">1.Sprite Editor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Custom-Outline%EF%BC%88%E5%86%B3%E5%AE%9A%E6%B8%B2%E6%9F%93%E5%8C%BA%E5%9F%9F%EF%BC%89"><span class="toc-number">11.3.2.</span> <span class="toc-text">2.Custom Outline（决定渲染区域）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Custom-Physics-Shape%EF%BC%88%E5%86%B3%E5%AE%9A%E7%A2%B0%E6%92%9E%E5%88%A4%E6%96%AD%E5%8C%BA%E5%9F%9F%EF%BC%89"><span class="toc-number">11.3.3.</span> <span class="toc-text">3.Custom Physics Shape（决定碰撞判断区域）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Secondary-Textures-%E4%B8%BA%E5%9B%BE%E7%89%87%E6%B7%BB%E5%8A%A0%E7%89%B9%E6%AE%8A%E6%95%88%E6%9E%9C"><span class="toc-number">11.3.4.</span> <span class="toc-text">4.Secondary Textures(为图片添加特殊效果)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sprite-Editor%E2%80%94Multiple-%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">12.</span> <span class="toc-text">Sprite Editor—Multiple 图片编辑 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Multiple-%E5%9B%BE%E9%9B%86%E5%85%83%E7%B4%A0%E5%88%86%E5%89%B2"><span class="toc-number">12.1.</span> <span class="toc-text">知识点一 Multiple 图集元素分割</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-4"><span class="toc-number">12.2.</span> <span class="toc-text">知识点二 参数讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%89%8B%E5%8A%A8%E5%88%86%E5%89%B2"><span class="toc-number">12.2.1.</span> <span class="toc-text">1、手动分割</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E8%87%AA%E5%8A%A8%E5%88%86%E5%89%B2"><span class="toc-number">12.2.2.</span> <span class="toc-text">2、自动分割</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%8C%89%E5%8D%95%E5%85%83%E6%A0%BC%E5%A4%A7%E5%B0%8F%E5%88%86%E5%89%B2"><span class="toc-number">12.2.3.</span> <span class="toc-text">3、按单元格大小分割</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%8C%89%E5%8D%95%E5%85%83%E6%A0%BC%E6%95%B0%E9%87%8F%E5%88%86%E5%89%B2"><span class="toc-number">12.2.4.</span> <span class="toc-text">4、按单元格数量分割</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Trim-%E6%8C%89%E9%92%AE"><span class="toc-number">12.2.5.</span> <span class="toc-text">Trim 按钮</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sprite-Editor%E2%80%94Polygon-%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">13.</span> <span class="toc-text">Sprite Editor—Polygon 图片编辑 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Polygon-%E5%A4%9A%E8%BE%B9%E5%BD%A2%E7%BC%96%E8%BE%91"><span class="toc-number">13.1.</span> <span class="toc-text">知识点一 Polygon 多边形编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-5"><span class="toc-number">13.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteRenderer-%E7%B2%BE%E7%81%B5%E6%B8%B2%E6%9F%93%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">14.</span> <span class="toc-text">SpriteRenderer 精灵渲染器 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%9F%A5%E8%AF%86%E5%9B%9E%E9%A1%BE"><span class="toc-number">14.1.</span> <span class="toc-text">知识点一 知识回顾</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-Sprite-Renderer-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">14.2.</span> <span class="toc-text">知识点二 Sprite Renderer 是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-2D-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA"><span class="toc-number">14.3.</span> <span class="toc-text">知识点三 2D 对象创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3"><span class="toc-number">14.4.</span> <span class="toc-text">知识点四 参数讲解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E4%BB%A3%E7%A0%81%E8%AE%BE%E7%BD%AE"><span class="toc-number">14.5.</span> <span class="toc-text">知识点五 代码设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">14.6.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98"><span class="toc-number">14.7.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98"><span class="toc-number">14.7.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98"><span class="toc-number">14.7.2.</span> <span class="toc-text">第二题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteCreator-%E7%B2%BE%E7%81%B5%E5%88%9B%E9%80%A0%E8%80%85-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">15.</span> <span class="toc-text">SpriteCreator 精灵创造者 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Sprite-Creator-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">15.1.</span> <span class="toc-text">知识点一 Sprite Creator 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%BD%BF%E7%94%A8-Sprite-Creator"><span class="toc-number">15.2.</span> <span class="toc-text">知识点二 使用 Sprite Creator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-1"><span class="toc-number">15.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteMask-%E7%B2%BE%E7%81%B5%E9%81%AE%E7%BD%A9-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">16.</span> <span class="toc-text">SpriteMask 精灵遮罩 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-SpriteMask-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">16.1.</span> <span class="toc-text">知识点一 SpriteMask 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3-1"><span class="toc-number">16.2.</span> <span class="toc-text">知识点二 参数相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-2"><span class="toc-number">16.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SortingGroup-%E6%8E%92%E5%BA%8F%E5%88%86%E7%BB%84-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">17.</span> <span class="toc-text">SortingGroup 排序分组 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-SortingGroup-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">17.1.</span> <span class="toc-text">知识点一 SortingGroup 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-SortingGroup-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">17.2.</span> <span class="toc-text">知识点二 SortingGroup 的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">17.3.</span> <span class="toc-text">知识点三 注意事项</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteAtlas-%E7%B2%BE%E7%81%B5%E5%9B%BE%E9%9B%86-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">18.</span> <span class="toc-text">SpriteAtlas 精灵图集 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%89%93%E5%9B%BE%E9%9B%86"><span class="toc-number">18.1.</span> <span class="toc-text">知识点一 为什么要打图集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%9C%A8-Unity-%E4%B8%AD%E6%89%93%E5%BC%80%E8%87%AA%E5%B8%A6%E7%9A%84%E6%89%93%E5%9B%BE%E9%9B%86%E5%8A%9F%E8%83%BD"><span class="toc-number">18.2.</span> <span class="toc-text">知识点二 在 Unity 中打开自带的打图集功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E9%A1%B9%E8%AE%B2%E8%A7%A3"><span class="toc-number">18.2.1.</span> <span class="toc-text">选项讲解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%89%93%E5%9B%BE%E9%9B%86%E9%9D%A2%E6%9D%BF%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">18.3.</span> <span class="toc-text">知识点三 打图集面板参数相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Type%EF%BC%9A%E5%9B%BE%E9%9B%86%E7%B1%BB%E5%9E%8B"><span class="toc-number">18.3.1.</span> <span class="toc-text">Type：图集类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Texture"><span class="toc-number">18.3.2.</span> <span class="toc-text">Texture</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E7%9B%B8%E5%85%B3"><span class="toc-number">18.3.3.</span> <span class="toc-text">设备相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Objects-for-Packing"><span class="toc-number">18.3.4.</span> <span class="toc-text">Objects for Packing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6"><span class="toc-number">18.4.</span> <span class="toc-text">知识点四 代码控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E8%A7%82%E5%AF%9F-DrawCall-%E6%95%B0%E9%87%8F"><span class="toc-number">18.5.</span> <span class="toc-text">知识点五 观察 DrawCall 数量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-3"><span class="toc-number">18.6.</span> <span class="toc-text">练习题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A2%98-1"><span class="toc-number">18.6.1.</span> <span class="toc-text">第一题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A2%98-1"><span class="toc-number">18.6.2.</span> <span class="toc-text">第二题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2D-%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">19.</span> <span class="toc-text">2D 物理系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9A%E4%BD%93-2D-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">20.</span> <span class="toc-text">刚体 2D 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%AD%A6%E4%B9%A0-2D-%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%89%8D%E6%8F%90"><span class="toc-number">20.1.</span> <span class="toc-text">知识点一 学习 2D 物理系统的前提</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-2D-%E7%89%A9%E7%90%86%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E5%88%9A%E4%BD%93%E7%BB%84%E4%BB%B6"><span class="toc-number">20.2.</span> <span class="toc-text">知识点二 2D 物理系统中的刚体组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">20.3.</span> <span class="toc-text">知识点三 参数相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dynamic%EF%BC%9A%E5%8A%A8%E6%80%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">20.3.1.</span> <span class="toc-text">Dynamic：动态类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kinematic%EF%BC%9A%E8%BF%90%E5%8A%A8%E5%AD%A6%E7%B1%BB%E5%9E%8B"><span class="toc-number">20.3.2.</span> <span class="toc-text">Kinematic：运动学类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Static%EF%BC%9A%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">20.3.3.</span> <span class="toc-text">Static：静态类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%88%9A%E4%BD%93"><span class="toc-number">20.4.</span> <span class="toc-text">知识点四 如何选择不同类型的刚体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E5%88%9A%E4%BD%93-API"><span class="toc-number">20.5.</span> <span class="toc-text">知识点五 刚体 API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A2%B0%E6%92%9E%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">21.</span> <span class="toc-text">碰撞器 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%A2%B0%E6%92%9E%E5%99%A8%E6%98%AF%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%98%9B%E7%9A%84%EF%BC%9F"><span class="toc-number">21.1.</span> <span class="toc-text">知识点一 碰撞器是用来干嘛的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-2D-%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">21.2.</span> <span class="toc-text">知识点二 2D 碰撞器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9C%86%E5%BD%A2%E7%A2%B0%E6%92%9E%E5%99%A8-Circle-Collider-2D"><span class="toc-number">21.2.1.</span> <span class="toc-text">1.圆形碰撞器 Circle Collider 2D</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%9B%92%E7%8A%B6%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">21.2.2.</span> <span class="toc-text">2.盒状碰撞器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A4%9A%E8%BE%B9%E5%BD%A2%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">21.2.3.</span> <span class="toc-text">3.多边形碰撞器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BE%B9%E7%95%8C%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">21.2.4.</span> <span class="toc-text">4.边界碰撞器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%83%B6%E5%9B%8A%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">21.2.5.</span> <span class="toc-text">5.胶囊碰撞器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E5%A4%8D%E5%90%88%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">21.2.6.</span> <span class="toc-text">6.复合碰撞器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%A2%B0%E6%92%9E%E6%A3%80%E6%B5%8B%E5%87%BD%E6%95%B0"><span class="toc-number">21.3.</span> <span class="toc-text">知识点三 碰撞检测函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-4"><span class="toc-number">21.4.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%9D%90%E8%B4%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">22.</span> <span class="toc-text">物理材质 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E7%89%A9%E7%90%86%E6%9D%90%E8%B4%A8"><span class="toc-number">22.1.</span> <span class="toc-text">知识点一 什么是物理材质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-6"><span class="toc-number">22.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%81%92%E5%AE%9A%E5%8A%9B-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">23.</span> <span class="toc-text">恒定力 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E6%81%92%E5%AE%9A%E5%8A%9B%EF%BC%9F"><span class="toc-number">23.1.</span> <span class="toc-text">知识点一 什么是恒定力？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-7"><span class="toc-number">23.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%BA%E5%9F%9F%E6%95%88%E5%BA%94%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">24.</span> <span class="toc-text">区域效应器 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-2D-%E6%95%88%E5%BA%94%E5%99%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">24.1.</span> <span class="toc-text">知识点一 2D 效应器是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%B8%8D%E5%90%8C%E7%A7%8D%E7%B1%BB-2D-%E6%95%88%E5%BA%94%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">24.2.</span> <span class="toc-text">知识点二 不同种类 2D 效应器的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%8C%BA%E5%9F%9F%E6%95%88%E5%BA%94%E5%99%A8"><span class="toc-number">24.3.</span> <span class="toc-text">1.区域效应器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E5%8A%9B%E6%95%88%E5%BA%94%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">24.4.</span> <span class="toc-text">浮力效应器 知识点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%82%B9%E6%95%88%E5%BA%94%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">24.5.</span> <span class="toc-text">点效应器 知识点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B3%E5%8F%B0%E6%95%88%E5%BA%94%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">24.6.</span> <span class="toc-text">平台效应器 知识点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E9%9D%A2%E6%95%88%E5%BA%94%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">24.7.</span> <span class="toc-text">表面效应器 知识点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">24.8.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-5"><span class="toc-number">24.9.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteShape"><span class="toc-number">25.</span> <span class="toc-text">SpriteShape</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteShapeProfile-%E7%B2%BE%E7%81%B5%E5%BD%A2%E7%8A%B6%E6%A6%82%E8%BF%B0%E6%96%87%E4%BB%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">26.</span> <span class="toc-text">SpriteShapeProfile 精灵形状概述文件 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-SpriteShape-%E6%98%AF%E7%94%A8%E6%9D%A5%E5%81%9A%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9F"><span class="toc-number">26.1.</span> <span class="toc-text">知识点一 SpriteShape 是用来做什么的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%AF%BC%E5%85%A5-SpriteShape-%E5%B7%A5%E5%85%B7"><span class="toc-number">26.2.</span> <span class="toc-text">知识点二 导入 SpriteShape 工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%87%86%E5%A4%87-%E7%B2%BE%E7%81%B5%E5%BD%A2%E7%8A%B6%E6%A6%82%E6%8B%AC%E8%B5%84%E6%BA%90"><span class="toc-number">26.3.</span> <span class="toc-text">知识点三 准备 精灵形状概括资源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sprite-Shape-Profile"><span class="toc-number">26.3.1.</span> <span class="toc-text">Sprite Shape Profile</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E4%BD%BF%E7%94%A8%E7%B2%BE%E7%81%B5%E5%BD%A2%E7%8A%B6%E6%A6%82%E6%8B%AC%E8%B5%84%E6%BA%90%E5%88%9B%E5%BB%BA%E5%9C%B0%E5%BD%A2"><span class="toc-number">26.4.</span> <span class="toc-text">知识点四 使用精灵形状概括资源创建地形</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpriteShapeRenderer-%E5%92%8C-Controller-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">27.</span> <span class="toc-text">SpriteShapeRenderer 和 Controller 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%9B%9E%E9%A1%BE%EF%BC%9A%E4%BD%BF%E7%94%A8%E7%B2%BE%E7%81%B5%E5%BD%A2%E7%8A%B6%E6%A6%82%E8%BF%B0%E6%96%87%E4%BB%B6"><span class="toc-number">27.1.</span> <span class="toc-text">知识点一 回顾：使用精灵形状概述文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-Sprite-Shape-Renderer-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">27.2.</span> <span class="toc-text">知识点二 Sprite Shape Renderer 参数相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-Sprite-Shape-Controller-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">27.3.</span> <span class="toc-text">知识点三 Sprite Shape Controller 参数相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E7%94%9F%E6%88%90%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">27.4.</span> <span class="toc-text">知识点四 生成碰撞器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Tilemap-%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE"><span class="toc-number">28.</span> <span class="toc-text">Tilemap 瓦片地图</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E8%B5%84%E6%BA%90-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">29.</span> <span class="toc-text">瓦片资源 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF-Tilemap%EF%BC%9F"><span class="toc-number">29.1.</span> <span class="toc-text">知识点一 什么是 Tilemap？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%BB%8E-PackageManager-%E4%B8%AD%E5%BC%95%E5%85%A5-Tilemap-%E5%8C%85"><span class="toc-number">29.2.</span> <span class="toc-text">知识点二 从 PackageManager 中引入 Tilemap 包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-Tilemap-%E7%9A%84%E6%9C%80%E5%B0%8F%E5%8D%95%E4%BD%8D%E2%80%94%E2%80%94%E2%80%9C%E7%93%A6%E7%89%87%E2%80%9D"><span class="toc-number">29.3.</span> <span class="toc-text">知识点三 Tilemap 的最小单位——“瓦片”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">29.3.1.</span> <span class="toc-text">参数相关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E8%B0%83%E8%89%B2%E6%9D%BF%E7%AA%97%E5%8F%A3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">30.</span> <span class="toc-text">瓦片调色板窗口 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%88%9B%E5%BB%BA%E7%93%A6%E7%89%87%E8%B0%83%E8%89%B2%E5%99%A8%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0"><span class="toc-number">30.1.</span> <span class="toc-text">知识点一 创建瓦片调色器相关参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-TilePalette-%E7%93%A6%E7%89%87%E8%B0%83%E8%89%B2%E6%9D%BF%E7%AA%97%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%8A%80%E5%B7%A7"><span class="toc-number">30.2.</span> <span class="toc-text">知识点二 TilePalette 瓦片调色板窗口基本操作技巧</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-TilePalette-%E7%93%A6%E7%89%87%E8%B0%83%E8%89%B2%E6%9D%BF%E7%AA%97%E5%8F%A3%E9%9D%A2%E6%9D%BF%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="toc-number">30.3.</span> <span class="toc-text">知识点三 TilePalette 瓦片调色板窗口面板基本功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E7%BC%96%E8%BE%91%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE"><span class="toc-number">30.4.</span> <span class="toc-text">知识点四 编辑瓦片地图</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E5%85%B3%E9%94%AE%E8%84%9A%E6%9C%AC%E5%92%8C%E7%A2%B0%E6%92%9E%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">31.</span> <span class="toc-text">瓦片地图关键脚本和碰撞器 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%9B%9E%E9%A1%BE%EF%BC%9A%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E7%BC%96%E8%BE%91"><span class="toc-number">31.1.</span> <span class="toc-text">知识点一 回顾：瓦片地图编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E5%85%B3%E9%94%AE%E8%84%9A%E6%9C%AC%E5%8F%82%E6%95%B0"><span class="toc-number">31.2.</span> <span class="toc-text">知识点二 瓦片地图关键脚本参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Grid-%E7%BB%84%E4%BB%B6"><span class="toc-number">31.2.1.</span> <span class="toc-text">Grid 组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TileMap-%E7%BB%84%E4%BB%B6"><span class="toc-number">31.2.2.</span> <span class="toc-text">TileMap 组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TIleMapRenderer"><span class="toc-number">31.2.3.</span> <span class="toc-text">TIleMapRenderer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E7%A2%B0%E6%92%9E%E5%99%A8"><span class="toc-number">31.3.</span> <span class="toc-text">知识点三 瓦片地图碰撞器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E5%85%B3%E9%94%AE%E8%84%9A%E6%9C%AC%E5%92%8C%E7%A2%B0%E6%92%9E%E5%99%A8-%E7%BB%83%E4%B9%A0%E9%A2%98%E4%B8%80%EF%BC%88%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9%EF%BC%89"><span class="toc-number">32.</span> <span class="toc-text">瓦片地图关键脚本和碰撞器 练习题一（重要内容）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E5%85%B3%E9%94%AE%E8%84%9A%E6%9C%AC%E5%92%8C%E7%A2%B0%E6%92%9E%E5%99%A8-%E7%BB%83%E4%B9%A0%E9%A2%98%E4%BA%8C%EF%BC%88%E9%87%8D%E8%A6%81%E5%86%85%E5%AE%B9%EF%BC%89"><span class="toc-number">33.</span> <span class="toc-text">瓦片地图关键脚本和碰撞器 练习题二（重要内容）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E6%8B%93%E5%B1%95%E5%8C%85%E2%80%94%E5%AF%BC%E5%85%A5-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">34.</span> <span class="toc-text">瓦片地图拓展包—导入 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%B8%8B%E8%BD%BD%E5%AE%98%E6%96%B9%E6%8B%93%E5%B1%95%E5%8C%85"><span class="toc-number">34.1.</span> <span class="toc-text">知识点一 下载官方拓展包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%AF%BC%E5%85%A5%E5%AE%98%E6%96%B9%E6%8B%93%E5%B1%95%E5%8C%85"><span class="toc-number">34.2.</span> <span class="toc-text">知识点二 导入官方拓展包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E4%BA%86%E8%A7%A3%E5%AE%98%E6%96%B9%E6%8B%93%E5%B1%95%E5%8C%85%E4%B8%BA-Tilemap-%E6%B7%BB%E5%8A%A0%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-number">34.3.</span> <span class="toc-text">知识点三 了解官方拓展包为 Tilemap 添加了什么</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E6%8B%93%E5%B1%95%E5%8C%85%E2%80%94%E6%96%B0%E5%A2%9E%E7%93%A6%E7%89%87%E7%B1%BB%E5%9E%8B-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">35.</span> <span class="toc-text">瓦片地图拓展包—新增瓦片类型 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E8%A7%84%E5%88%99%E7%93%A6%E7%89%87-RuleTile"><span class="toc-number">35.1.</span> <span class="toc-text">知识点一 规则瓦片 RuleTile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8A%A8%E7%94%BB%E7%93%A6%E7%89%87-AnimatedTile"><span class="toc-number">35.2.</span> <span class="toc-text">知识点二 动画瓦片 AnimatedTile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%AE%A1%E9%81%93%E7%93%A6%E7%89%87-PipelineTile"><span class="toc-number">35.3.</span> <span class="toc-text">知识点三 管道瓦片 PipelineTile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E9%9A%8F%E6%9C%BA%E7%93%A6%E7%89%87-RandomTile"><span class="toc-number">35.4.</span> <span class="toc-text">知识点四 随机瓦片 RandomTile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E5%9C%B0%E5%BD%A2%E7%93%A6%E7%89%87-TerrainTile"><span class="toc-number">35.5.</span> <span class="toc-text">知识点五 地形瓦片 TerrainTile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%85%AD-%E6%9D%83%E9%87%8D%E9%9A%8F%E6%9C%BA%E7%93%A6%E7%89%87-WeightedRandomTile"><span class="toc-number">35.6.</span> <span class="toc-text">知识点六 权重随机瓦片 WeightedRandomTile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%83-%E9%AB%98%E7%BA%A7-%E8%A7%84%E5%88%99%E8%A6%86%E7%9B%96%E7%93%A6%E7%89%87-Advanced-Rule-Override-Tile"><span class="toc-number">35.7.</span> <span class="toc-text">知识点七 (高级)规则覆盖瓦片 (Advanced)Rule Override Tile</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E6%8B%93%E5%B1%95%E5%8C%85%E2%80%94%E6%96%B0%E5%A2%9E%E7%AC%94%E5%88%B7%E7%B1%BB%E5%9E%8B-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">36.</span> <span class="toc-text">瓦片地图拓展包—新增笔刷类型 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E6%96%B0%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%AC%94%E5%88%B7"><span class="toc-number">36.1.</span> <span class="toc-text">知识点一 新建自定义笔刷</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%8B%93%E5%B1%95%E7%AC%94%E5%88%B7"><span class="toc-number">36.2.</span> <span class="toc-text">知识点二 拓展笔刷</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE%E2%80%94%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">37.</span> <span class="toc-text">瓦片地图—代码控制 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E8%8E%B7%E5%8F%96-Tilemap-%E5%92%8C-TileBase-%E5%92%8C-Grid"><span class="toc-number">37.1.</span> <span class="toc-text">知识点一 获取 Tilemap 和 TileBase 和 Grid</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%87%8D%E8%A6%81-API"><span class="toc-number">37.2.</span> <span class="toc-text">知识点二 重要 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B8%85%E7%A9%BA%E7%93%A6%E7%89%87%E5%9C%B0%E5%9B%BE"><span class="toc-number">37.2.1.</span> <span class="toc-text">1.清空瓦片地图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E5%9D%90%E6%A0%87%E6%A0%BC%E5%AD%90"><span class="toc-number">37.2.2.</span> <span class="toc-text">2.获取指定坐标格子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%AE%BE%E7%BD%AE%E5%88%A0%E9%99%A4%E7%93%A6%E7%89%87"><span class="toc-number">37.2.3.</span> <span class="toc-text">3.设置删除瓦片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9B%BF%E6%8D%A2%E7%93%A6%E7%89%87"><span class="toc-number">37.2.4.</span> <span class="toc-text">4.替换瓦片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%B8%96%E7%95%8C%E5%9D%90%E6%A0%87%E8%BD%AC%E6%A0%BC%E5%AD%90%E5%9D%90%E6%A0%87"><span class="toc-number">37.2.5.</span> <span class="toc-text">5.世界坐标转格子坐标</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%9F%BA%E7%A1%80"><span class="toc-number">38.</span> <span class="toc-text">动画基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86-Animation-%E5%8A%A8%E7%94%BB%E7%AA%97%E5%8F%A3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">39.</span> <span class="toc-text">认识 Animation 动画窗口 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E6%89%93%E5%BC%80-Animation-%E7%AA%97%E5%8F%A3"><span class="toc-number">39.1.</span> <span class="toc-text">知识点一 打开 Animation 窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-Animation-%E7%AA%97%E5%8F%A3%E6%98%AF%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%95%A5%E7%9A%84"><span class="toc-number">39.2.</span> <span class="toc-text">知识点二 Animation 窗口是用来干啥的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%85%B3%E9%94%AE%E8%AF%8D%E8%AF%B4%E6%98%8E"><span class="toc-number">39.3.</span> <span class="toc-text">知识点三 关键词说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E8%AE%A4%E8%AF%86-Animation-%E7%AA%97%E5%8F%A3%E5%8A%9F%E8%83%BD"><span class="toc-number">39.4.</span> <span class="toc-text">知识点四 认识 Animation 窗口功能</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BC%96%E8%BE%91-Animation-%E5%8A%A8%E7%94%BB-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">40.</span> <span class="toc-text">创建编辑 Animation 动画 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%88%9B%E5%BB%BA%E5%8A%A8%E7%94%BB"><span class="toc-number">40.1.</span> <span class="toc-text">知识点一 创建动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%AA%97%E5%8F%A3%E4%B8%8A%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">40.2.</span> <span class="toc-text">知识点二 窗口上的变化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E4%BE%A7%E9%9D%A2%E6%9D%BF"><span class="toc-number">40.2.1.</span> <span class="toc-text">左侧面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E4%BE%A7%E9%9D%A2%E6%9D%BF"><span class="toc-number">40.2.2.</span> <span class="toc-text">右侧面板</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%85%B3%E9%94%AE%E5%B8%A7%E5%8F%B3%E9%94%AE"><span class="toc-number">40.2.2.1.</span> <span class="toc-text">选择关键帧右键</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%85%B3%E9%94%AE%E5%B8%A7%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%BC%96%E8%BE%91%E5%8A%A8%E7%94%BB"><span class="toc-number">40.3.</span> <span class="toc-text">知识点三 关键帧模式下编辑动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E6%9B%B2%E7%BA%BF%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%BC%96%E8%BE%91%E5%8A%A8%E7%94%BB"><span class="toc-number">40.4.</span> <span class="toc-text">知识点四 曲线模式下编辑动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E5%8A%A8%E7%94%BB%E6%96%87%E4%BB%B6%E7%95%8C%E9%9D%A2%E5%8F%82%E6%95%B0"><span class="toc-number">40.5.</span> <span class="toc-text">知识点五 动画文件界面参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Animation-%E7%AA%97%E5%8F%A3%E5%8F%B3%E4%B8%8A%E8%A7%92%E6%9B%B4%E5%A4%9A%E9%80%89%E9%A1%B9"><span class="toc-number">40.5.1.</span> <span class="toc-text">Animation 窗口右上角更多选项</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6%E5%8A%A8%E7%94%BB%EF%BC%88%E8%80%81%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%EF%BC%89-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">41.</span> <span class="toc-text">代码控制动画（老动画系统） 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E8%80%81%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F"><span class="toc-number">41.1.</span> <span class="toc-text">知识点一 什么是老动画系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E8%80%81%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%E6%8E%A7%E5%88%B6%E5%8A%A8%E7%94%BB%E6%92%AD%E6%94%BE"><span class="toc-number">41.2.</span> <span class="toc-text">知识点二 老动画系统控制动画播放</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Animation-%E5%8F%82%E6%95%B0"><span class="toc-number">41.2.1.</span> <span class="toc-text">Animation 参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Animation-Clip-%E5%8F%82%E6%95%B0"><span class="toc-number">41.2.2.</span> <span class="toc-text">Animation Clip 参数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6%E6%92%AD%E6%94%BE"><span class="toc-number">42.</span> <span class="toc-text">知识点三 代码控制播放</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%BB%84%E4%BB%B6"><span class="toc-number">42.0.1.</span> <span class="toc-text">获取组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%92%AD%E6%94%BE%E5%8A%A8%E7%94%BB"><span class="toc-number">42.0.2.</span> <span class="toc-text">1.播放动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B7%A1%E5%85%A5%E6%92%AD%E6%94%BE-%E8%87%AA%E5%8A%A8%E4%BA%A7%E7%94%9F%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C"><span class="toc-number">42.0.3.</span> <span class="toc-text">2.淡入播放,自动产生过渡效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%89%8D%E4%B8%80%E4%B8%AA%E6%92%AD%E5%AE%8C%E5%86%8D%E6%92%AD%E6%94%BE%E4%B8%8B%E4%B8%80%E4%B8%AA"><span class="toc-number">42.0.4.</span> <span class="toc-text">3.前一个播完再播放下一个</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%81%9C%E6%AD%A2%E6%92%AD%E6%94%BE%E6%89%80%E6%9C%89%E5%8A%A8%E7%94%BB"><span class="toc-number">42.0.5.</span> <span class="toc-text">4.停止播放所有动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%98%AF%E5%90%A6%E5%9C%A8%E6%92%AD%E6%94%BE%E6%9F%90%E4%B8%AA%E5%8A%A8%E7%94%BB"><span class="toc-number">42.0.6.</span> <span class="toc-text">5.是否在播放某个动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%92%AD%E6%94%BE%E6%A8%A1%E5%BC%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">42.0.7.</span> <span class="toc-text">6.播放模式设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%85%B6%E5%AE%83%EF%BC%88%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF%EF%BC%8C%E6%96%B0%E5%8A%A8%E7%94%BB%E7%B3%BB%E7%BB%9F%E4%B8%AD%E4%BC%9A%E8%AF%A6%E7%BB%86%E8%AE%B2%E8%A7%A3%EF%BC%89"><span class="toc-number">42.0.8.</span> <span class="toc-text">7.其它（了解即可，新动画系统中会详细讲解）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%8A%A8%E7%94%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">42.1.</span> <span class="toc-text">知识点四 动画事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%B7%BB%E5%8A%A0"><span class="toc-number">42.1.1.</span> <span class="toc-text">事件添加</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">42.2.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-6"><span class="toc-number">42.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Animation-%E7%BB%83%E4%B9%A0%E9%A2%98"><span class="toc-number">43.</span> <span class="toc-text">Animation 练习题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA%E6%A6%82%E5%BF%B5-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">44.</span> <span class="toc-text">有限状态机概念 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">44.1.</span> <span class="toc-text">知识点一 什么是有限状态机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA%E5%AF%B9%E4%BA%8E%E6%88%91%E4%BB%AC%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">44.2.</span> <span class="toc-text">知识点二 有限状态机对于我们的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E7%8A%B6%E6%80%81%E6%9C%BA%E5%AE%9E%E7%8E%B0"><span class="toc-number">44.3.</span> <span class="toc-text">知识点三 最简单的状态机实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">44.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Animator-Controller-%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%88%E7%8A%B6%E6%80%81%E6%9C%BA%EF%BC%89-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">45.</span> <span class="toc-text">Animator Controller 动画控制器（状态机） 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%88%9B%E5%BB%BA%E5%8A%A8%E7%94%BB%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">45.1.</span> <span class="toc-text">知识点一 创建动画状态机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E5%88%9D%E8%AF%86%E5%8A%A8%E7%94%BB%E7%8A%B6%E6%80%81%E6%9C%BA%E7%AA%97%E5%8F%A3"><span class="toc-number">45.2.</span> <span class="toc-text">知识点二 基础使用——初识动画状态机窗口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E4%BE%A7%E9%9D%A2%E6%9D%BF-1"><span class="toc-number">45.2.1.</span> <span class="toc-text">左侧面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E4%BE%A7%E9%9D%A2%E6%9D%BF-1"><span class="toc-number">45.2.2.</span> <span class="toc-text">右侧面板</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E5%8A%A8%E7%94%BB"><span class="toc-number">45.3.</span> <span class="toc-text">知识点三 基础使用——添加动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E5%88%87%E6%8D%A2%E8%BF%9E%E7%BA%BF"><span class="toc-number">45.4.</span> <span class="toc-text">知识点四 基础使用——添加切换连线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E5%88%87%E6%8D%A2%E6%9D%A1%E4%BB%B6"><span class="toc-number">45.5.</span> <span class="toc-text">知识点五 基础使用——添加切换条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%85%AD-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E2%80%94%E2%80%94%E8%AE%BE%E7%BD%AE%E5%8A%A8%E7%94%BB%E9%97%B4%E5%88%87%E6%8D%A2%E6%9D%A1%E4%BB%B6"><span class="toc-number">45.6.</span> <span class="toc-text">知识点六 基础使用——设置动画间切换条件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%8E%A7%E5%88%B6%E5%8A%A8%E7%94%BB%E7%8A%B6%E6%80%81%E6%9C%BA%E5%88%87%E6%8D%A2-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">46.</span> <span class="toc-text">代码控制动画状态机切换 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%85%B3%E9%94%AE%E7%BB%84%E4%BB%B6-Animator"><span class="toc-number">46.1.</span> <span class="toc-text">知识点一 关键组件 Animator</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3-1"><span class="toc-number">46.1.1.</span> <span class="toc-text">参数相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-Animator-%E4%B8%AD%E7%9A%84-API"><span class="toc-number">46.2.</span> <span class="toc-text">知识点二 Animator 中的 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%80%9A%E8%BF%87%E7%8A%B6%E6%80%81%E6%9C%BA%E6%9D%A1%E4%BB%B6%E5%88%87%E6%8D%A2%E5%8A%A8%E7%94%BB"><span class="toc-number">46.2.1.</span> <span class="toc-text">1.通过状态机条件切换动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%9B%B4%E6%8E%A5%E5%88%87%E6%8D%A2%E5%8A%A8%E7%94%BB-%E9%99%A4%E9%9D%9E%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5-%E4%B8%8D%E7%84%B6%E4%B8%80%E8%88%AC%E4%B8%8D%E4%BD%BF%E7%94%A8"><span class="toc-number">46.2.2.</span> <span class="toc-text">2.直接切换动画 除非特殊情况 不然一般不使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-7"><span class="toc-number">46.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2D-%E5%8A%A8%E7%94%BB"><span class="toc-number">47.</span> <span class="toc-text">2D 动画</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2D-%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">48.</span> <span class="toc-text">2D 序列帧动画 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB"><span class="toc-number">48.1.</span> <span class="toc-text">知识点一 什么是序列帧动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%BB%A3%E7%A0%81%E5%88%B6%E4%BD%9C%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB"><span class="toc-number">48.2.</span> <span class="toc-text">知识点二 代码制作序列帧动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-Animation-%E7%AA%97%E5%8F%A3%E5%88%B6%E4%BD%9C%E5%BA%8F%E5%88%97%E5%B8%A7%E5%8A%A8%E7%94%BB"><span class="toc-number">48.3.</span> <span class="toc-text">知识点三 Animation 窗口制作序列帧动画</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%9A"><span class="toc-number">48.3.1.</span> <span class="toc-text">方法一：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C%EF%BC%9A"><span class="toc-number">48.3.2.</span> <span class="toc-text">方法二：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%88%A9%E7%94%A8-Animator-%E8%BF%9B%E8%A1%8C%E5%8A%A8%E7%94%BB%E6%8E%A7%E5%88%B6"><span class="toc-number">48.4.</span> <span class="toc-text">知识点四 利用 Animator 进行动画控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-8"><span class="toc-number">48.5.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%95%E5%BC%A0%E5%9B%BE%E7%89%87%E9%AA%A8%E9%AA%BC%E7%BC%96%E8%BE%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">49.</span> <span class="toc-text">单张图片骨骼编辑 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF-2D-%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB"><span class="toc-number">49.1.</span> <span class="toc-text">知识点一 什么是 2D 骨骼动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-Unity-%E4%B8%AD%E5%A6%82%E4%BD%95%E5%88%B6%E4%BD%9C-2D-%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB"><span class="toc-number">49.2.</span> <span class="toc-text">知识点二 Unity 中如何制作 2D 骨骼动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%AF%BC%E5%85%A5-2D-Animation-%E5%B7%A5%E5%85%B7"><span class="toc-number">49.3.</span> <span class="toc-text">知识点三 导入 2D Animation 工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E9%9D%A2%E6%9D%BF%E8%AE%B2%E8%A7%A3"><span class="toc-number">49.4.</span> <span class="toc-text">知识点四 面板讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="toc-number">49.4.1.</span> <span class="toc-text">工具栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A6%E4%BE%A7%E5%B7%A5%E5%85%B7"><span class="toc-number">49.4.2.</span> <span class="toc-text">左侧工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bone-%E9%AA%A8%E9%AA%BC%E7%9B%B8%E5%85%B3"><span class="toc-number">49.4.3.</span> <span class="toc-text">Bone 骨骼相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Geometry-%E8%92%99%E7%9A%AE%E7%9B%B8%E5%85%B3"><span class="toc-number">49.4.4.</span> <span class="toc-text">Geometry 蒙皮相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Weights-%E6%9D%83%E9%87%8D%E7%9B%B8%E5%85%B3"><span class="toc-number">49.4.5.</span> <span class="toc-text">Weights 权重相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Visibility"><span class="toc-number">49.4.6.</span> <span class="toc-text">Visibility</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E4%BD%BF%E7%94%A8"><span class="toc-number">49.5.</span> <span class="toc-text">知识点五 骨骼动画使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E9%9B%86%E5%9B%BE%E7%89%87%E9%AA%A8%E9%AA%BC%E7%BC%96%E8%BE%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">50.</span> <span class="toc-text">图集图片骨骼编辑 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">50.1.</span> <span class="toc-text">知识点一 注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%9B%BE%E9%9B%86%E9%AA%A8%E9%AA%BC%E7%BC%96%E8%BE%91"><span class="toc-number">50.2.</span> <span class="toc-text">知识点二 图集骨骼编辑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%9B%BE%E9%9B%86%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E4%BD%BF%E7%94%A8"><span class="toc-number">50.3.</span> <span class="toc-text">知识点三 图集骨骼动画使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#psb-%E5%9B%BE%E7%89%87%E9%AA%A8%E9%AA%BC%E7%BC%96%E8%BE%91-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">51.</span> <span class="toc-text">psb 图片骨骼编辑 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E8%AE%A4%E8%AF%86-PSB-%E6%96%87%E4%BB%B6"><span class="toc-number">51.1.</span> <span class="toc-text">知识点一 认识 PSB 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%9C%A8-Unity-%E4%B8%AD%E4%BD%BF%E7%94%A8-PSB-%E6%96%87%E4%BB%B6"><span class="toc-number">51.2.</span> <span class="toc-text">知识点二 在 Unity 中使用 PSB 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E8%AE%BE%E7%BD%AE-PSB-%E6%96%87%E4%BB%B6%E5%85%B3%E9%94%AE%E5%8F%82%E6%95%B0"><span class="toc-number">51.3.</span> <span class="toc-text">知识点三 设置 PSB 文件关键参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E4%B8%BA-PSB-%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91%E9%AA%A8%E9%AA%BC%E4%BF%A1%E6%81%AF"><span class="toc-number">51.4.</span> <span class="toc-text">知识点四 为 PSB 文件编辑骨骼信息</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%8D%E5%90%91%E5%8A%A8%E5%8A%9B%E5%AD%A6-IK-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">52.</span> <span class="toc-text">反向动力学 IK 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF-IK%EF%BC%9F"><span class="toc-number">52.1.</span> <span class="toc-text">知识点一 什么是 IK？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-2D-IK-%E5%8C%85%E5%BC%95%E5%85%A5"><span class="toc-number">52.2.</span> <span class="toc-text">知识点二 2D IK 包引入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-2D-IK-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">52.3.</span> <span class="toc-text">知识点三 2D IK 的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-IK-%E5%AF%B9%E4%BA%8E%E6%88%91%E4%BB%AC%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">52.4.</span> <span class="toc-text">知识点四 IK 对于我们的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-9"><span class="toc-number">52.5.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8D%A2%E8%A3%85%E2%80%94%E5%9C%A8%E5%90%8C%E4%B8%80%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">53.</span> <span class="toc-text">换装—在同一文件中的换装资源 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%A6%82%E4%BD%95%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA-psb-%E6%96%87%E4%BB%B6%E4%B8%AD%E5%88%B6%E4%BD%9C%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90"><span class="toc-number">53.1.</span> <span class="toc-text">知识点一 如何在同一个 psb 文件中制作换装资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%BC%96%E8%BE%91%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90%E7%9A%84%E9%AA%A8%E9%AA%BC%E4%BF%A1%E6%81%AF%E4%BB%A5%E5%8F%8A%E5%88%86%E7%BB%84%E7%B1%BB%E5%88%AB"><span class="toc-number">53.2.</span> <span class="toc-text">知识点二 编辑换装资源的骨骼信息以及分组类别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%A6%82%E4%BD%95%E6%8D%A2%E8%A3%85"><span class="toc-number">53.3.</span> <span class="toc-text">知识点三 如何换装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E4%BB%A3%E7%A0%81%E6%8D%A2%E8%A3%85"><span class="toc-number">53.4.</span> <span class="toc-text">知识点四 代码换装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8D%A2%E8%A3%85%E2%80%94%E5%9C%A8%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">54.</span> <span class="toc-text">换装—在不同文件中的换装资源 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%8D%E5%90%8C-psb-%E6%96%87%E4%BB%B6%E4%B8%AD%E5%88%B6%E4%BD%9C%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90"><span class="toc-number">54.1.</span> <span class="toc-text">知识点一 如何在不同 psb 文件中制作换装资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%BC%96%E8%BE%91%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90%E7%9A%84%E9%AA%A8%E9%AA%BC%E4%BF%A1%E6%81%AF"><span class="toc-number">54.2.</span> <span class="toc-text">知识点二 编辑换装资源的骨骼信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%89%8B%E5%8A%A8%E6%B7%BB%E5%8A%A0%E5%85%B3%E9%94%AE%E7%BB%84%E4%BB%B6%E5%92%8C%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6"><span class="toc-number">54.3.</span> <span class="toc-text">知识点三 手动添加关键组件和数据文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9-%E5%90%8C%E4%B8%80%E6%96%87%E4%BB%B6%E5%92%8C-%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6-%E5%88%B6%E4%BD%9C%E6%8D%A2%E8%A3%85%E8%B5%84%E6%BA%90%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%A1%88"><span class="toc-number">54.4.</span> <span class="toc-text">总结 如何选择 同一文件和 不同文件 制作换装资源两种方案</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spine%E2%80%94%E8%BF%90%E8%A1%8C%E5%BA%93%E5%AF%BC%E5%85%A5-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">55.</span> <span class="toc-text">Spine—运行库导入 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Spine-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">55.1.</span> <span class="toc-text">知识点一 Spine 是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0-Spine"><span class="toc-number">55.2.</span> <span class="toc-text">知识点二 如何学习 Spine</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%AF%BC%E5%85%A5-Unity-%E4%BD%BF%E7%94%A8%E7%9A%84-Spine-%E8%BF%90%E8%A1%8C%E5%BA%93"><span class="toc-number">55.3.</span> <span class="toc-text">知识点三 导入 Unity 使用的 Spine 运行库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spine%E2%80%94%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">56.</span> <span class="toc-text">Spine—骨骼动画文件的使用 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Spine-%E5%AF%BC%E5%87%BA%E7%9A%84-Unity-%E8%B5%84%E6%BA%90"><span class="toc-number">56.1.</span> <span class="toc-text">知识点一 Spine 导出的 Unity 资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E4%BD%BF%E7%94%A8-Spine-%E5%AF%BC%E5%87%BA%E7%9A%84%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB"><span class="toc-number">56.2.</span> <span class="toc-text">知识点二 使用 Spine 导出的骨骼动画</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spine%E2%80%94%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">57.</span> <span class="toc-text">Spine—骨骼动画参数相关 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9E%E9%A1%BE-Spine-%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">57.1.</span> <span class="toc-text">知识点回顾 Spine 骨骼动画的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E9%AA%A8%E9%AA%BC%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">57.2.</span> <span class="toc-text">知识点一 骨骼数据文件参数相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AA%A8%E9%AA%BC%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6"><span class="toc-number">57.2.1.</span> <span class="toc-text">骨骼数据文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E8%84%9A%E6%9C%AC%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">57.3.</span> <span class="toc-text">知识点二 骨骼动画脚本参数相关</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Spine%E2%80%94%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">58.</span> <span class="toc-text">Spine—骨骼动画代码相关 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%8A%A8%E7%94%BB%E6%92%AD%E6%94%BE"><span class="toc-number">58.1.</span> <span class="toc-text">知识点一 动画播放</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E8%BD%AC%E5%90%91"><span class="toc-number">58.2.</span> <span class="toc-text">知识点二 转向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%8A%A8%E7%94%BB%E4%BA%8B%E4%BB%B6"><span class="toc-number">58.3.</span> <span class="toc-text">知识点三 动画事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E4%BE%BF%E6%8D%B7%E7%89%B9%E6%80%A7"><span class="toc-number">58.4.</span> <span class="toc-text">知识点四 便捷特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%94-%E8%8E%B7%E5%8F%96%E9%AA%A8%E9%AA%BC%E3%80%81%E8%AE%BE%E7%BD%AE%E6%8F%92%E6%A7%BD%E9%99%84%E4%BB%B6"><span class="toc-number">58.5.</span> <span class="toc-text">知识点五 获取骨骼、设置插槽附件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%85%AD-%E5%9C%A8-UI-%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">58.6.</span> <span class="toc-text">知识点六 在 UI 中使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E5%AF%BC%E5%85%A5%E7%9B%B8%E5%85%B3%E8%AE%BE%E7%BD%AE"><span class="toc-number">59.</span> <span class="toc-text">模型导入相关设置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E5%AF%BC%E5%85%A5%E6%A6%82%E8%BF%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">60.</span> <span class="toc-text">模型导入概述 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Unity-%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%9A%84%E6%A8%A1%E5%9E%8B"><span class="toc-number">60.1.</span> <span class="toc-text">知识点一 Unity 中使用的模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-number">60.2.</span> <span class="toc-text">知识点二 导入模型的基本流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%A6%82%E4%BD%95%E5%9C%A8-Unity-%E4%B8%AD%E8%AE%BE%E7%BD%AE%E6%A8%A1%E5%9E%8B%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9"><span class="toc-number">60.3.</span> <span class="toc-text">知识点三 如何在 Unity 中设置模型相关内容</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Model-%E6%A8%A1%E5%9E%8B%E9%A1%B5%E7%AD%BE-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">61.</span> <span class="toc-text">Model 模型页签 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Model-%E6%A8%A1%E5%9E%8B%E9%A1%B5%E7%AD%BE%E6%98%AF%E8%AE%BE%E7%BD%AE%E4%BB%80%E4%B9%88%E7%9A%84"><span class="toc-number">61.1.</span> <span class="toc-text">知识点一 Model 模型页签是设置什么的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3-8"><span class="toc-number">61.2.</span> <span class="toc-text">知识点二 参数讲解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Rig-%E6%93%8D%E7%BA%B5%E9%A1%B5%E7%AD%BE-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">62.</span> <span class="toc-text">Rig 操纵页签 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Rig-%E6%93%8D%E7%BA%B5%EF%BC%88%E9%AA%A8%E9%AA%BC%EF%BC%89%E9%A1%B5%E7%AD%BE%E6%98%AF%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%95%A5%E7%9A%84"><span class="toc-number">62.1.</span> <span class="toc-text">知识点一 Rig 操纵（骨骼）页签是用来干啥的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E9%9D%A2%E6%9D%BF%E5%9F%BA%E7%A1%80%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3"><span class="toc-number">62.2.</span> <span class="toc-text">知识点二 面板基础参数讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E6%9D%BF%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF"><span class="toc-number">62.2.1.</span> <span class="toc-text">面板基础信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-Avatar-%E5%8C%96%E8%BA%AB%E7%B3%BB%E7%BB%9F%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">62.3.</span> <span class="toc-text">知识点三 Avatar 化身系统是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%8C%96%E8%BA%AB%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E8%AE%B2%E8%A7%A3"><span class="toc-number">62.4.</span> <span class="toc-text">知识点四 化身系统设置讲解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Animation-%E5%8A%A8%E7%94%BB%E9%A1%B5%E7%AD%BE%E6%A6%82%E8%BF%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">63.</span> <span class="toc-text">Animation 动画页签概述 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-Animation-%E5%8A%A8%E7%94%BB%E9%A1%B5%E7%AD%BE%E6%98%AF%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%95%A5%E7%9A%84"><span class="toc-number">63.1.</span> <span class="toc-text">知识点一 Animation 动画页签是用来干啥的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-Animation-%E5%8A%A8%E7%94%BB%E9%A1%B5%E7%AD%BE%E7%9A%84-4-%E5%A4%A7%E9%83%A8%E5%88%86"><span class="toc-number">63.2.</span> <span class="toc-text">知识点二 Animation 动画页签的 4 大部分</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3D-%E5%8A%A8%E7%94%BB%E7%9B%B8%E5%85%B3"><span class="toc-number">64.</span> <span class="toc-text">3D 动画相关</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3D-%E5%8A%A8%E7%94%BB%E7%9A%84%E4%BD%BF%E7%94%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">65.</span> <span class="toc-text">3D 动画的使用 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BD%BF%E7%94%A8%E5%AF%BC%E5%85%A5%E7%9A%84-3D-%E5%8A%A8%E7%94%BB"><span class="toc-number">65.1.</span> <span class="toc-text">知识点一 使用导入的 3D 动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%8A%B6%E6%80%81%E8%AE%BE%E7%BD%AE%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0"><span class="toc-number">65.2.</span> <span class="toc-text">知识点二 状态设置相关参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E8%BF%9E%E7%BA%BF%E8%AE%BE%E7%BD%AE%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0"><span class="toc-number">65.3.</span> <span class="toc-text">知识点三 连线设置相关参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">65.4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-10"><span class="toc-number">65.5.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%88%86%E5%B1%82%E5%92%8C%E9%81%AE%E7%BD%A9-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">66.</span> <span class="toc-text">动画分层和遮罩 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%8A%A8%E7%94%BB%E5%88%86%E5%B1%82"><span class="toc-number">66.1.</span> <span class="toc-text">知识点二 如何使用动画分层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">66.2.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-11"><span class="toc-number">66.3.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-1D-%E6%B7%B7%E5%90%88-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">67.</span> <span class="toc-text">动画 1D 混合 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8A%A8%E7%94%BB%E6%B7%B7%E5%90%88"><span class="toc-number">67.1.</span> <span class="toc-text">知识点一 什么是动画混合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E5%9C%A8%E7%8A%B6%E6%80%81%E6%9C%BA%E7%AA%97%E5%8F%A3%E5%88%9B%E5%BB%BA%E5%8A%A8%E7%94%BB%E6%B7%B7%E5%90%88%E7%8A%B6%E6%80%81"><span class="toc-number">67.2.</span> <span class="toc-text">知识点二 如何在状态机窗口创建动画混合状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-1D-%E6%B7%B7%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">67.3.</span> <span class="toc-text">知识点三 1D 混合的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-12"><span class="toc-number">67.4.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-2D-%E6%B7%B7%E5%90%88-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">68.</span> <span class="toc-text">动画 2D 混合 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-1D-%E6%B7%B7%E5%90%88%E5%92%8C-2D-%E6%B7%B7%E5%90%88"><span class="toc-number">68.1.</span> <span class="toc-text">知识点一 1D 混合和 2D 混合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-2D-%E6%B7%B7%E5%90%88%E7%9A%84%E7%A7%8D%E7%B1%BB"><span class="toc-number">68.2.</span> <span class="toc-text">知识点二 2D 混合的种类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-2D-%E6%B7%B7%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">68.3.</span> <span class="toc-text">知识点三 2D 混合的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E6%80%BB%E7%BB%93"><span class="toc-number">68.4.</span> <span class="toc-text">知识点四 总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-13"><span class="toc-number">68.5.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%AD%90%E7%8A%B6%E6%80%81%E6%9C%BA-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">69.</span> <span class="toc-text">动画子状态机 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%90%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">69.1.</span> <span class="toc-text">知识点一 什么是子状态机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%88%9B%E5%BB%BA%E5%AD%90%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">69.2.</span> <span class="toc-text">知识点二 创建子状态机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%BC%96%E8%BE%91%E5%AD%90%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">69.3.</span> <span class="toc-text">知识点三 编辑子状态机</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-IK-%E6%8E%A7%E5%88%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">70.</span> <span class="toc-text">动画 IK 控制 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF-IK%EF%BC%9F-1"><span class="toc-number">70.1.</span> <span class="toc-text">知识点一 什么是 IK？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C-IK-%E6%8E%A7%E5%88%B6"><span class="toc-number">70.2.</span> <span class="toc-text">知识点二 如何进行 IK 控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-IK-%E5%8F%8D%E5%90%91%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%8E%A7%E5%88%B6%E5%AF%B9%E4%BA%8E%E6%88%91%E4%BB%AC%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">70.3.</span> <span class="toc-text">知识点三 IK 反向动力学控制对于我们的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9B-%E5%85%B3%E4%BA%8E-OnAnimatorIK-%E5%92%8C-OnAnimatorMove-%E4%B8%A4%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">70.4.</span> <span class="toc-text">知识点四 关于 OnAnimatorIK 和 OnAnimatorMove 两个函数的理解</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E7%9B%AE%E6%A0%87%E5%8C%B9%E9%85%8D-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">71.</span> <span class="toc-text">动画目标匹配 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8A%A8%E7%94%BB%E7%9B%AE%E6%A0%87%E5%8C%B9%E9%85%8D"><span class="toc-number">71.1.</span> <span class="toc-text">知识点一 什么是动画目标匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%8A%A8%E7%94%BB%E7%9B%AE%E6%A0%87%E5%8C%B9%E9%85%8D"><span class="toc-number">71.2.</span> <span class="toc-text">知识点二 如何实现动画目标匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E6%B3%A8%E6%84%8F"><span class="toc-number">71.3.</span> <span class="toc-text">知识点三 注意</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%9C%BA%E8%A1%8C%E4%B8%BA%E8%84%9A%E6%9C%AC-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">72.</span> <span class="toc-text">状态机行为脚本 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%8A%B6%E6%80%81%E6%9C%BA%E8%A1%8C%E4%B8%BA%E8%84%9A%E6%9C%AC%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">72.1.</span> <span class="toc-text">知识点一 状态机行为脚本是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E7%8A%B6%E6%80%81%E6%9C%BA%E8%84%9A%E6%9C%AC"><span class="toc-number">72.2.</span> <span class="toc-text">知识点二 如何使用状态机脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E7%8A%B6%E6%80%81%E6%9C%BA%E8%A1%8C%E4%B8%BA%E8%84%9A%E6%9C%AC%E5%92%8C%E5%8A%A8%E7%94%BB%E4%BA%8B%E4%BB%B6%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9"><span class="toc-number">72.3.</span> <span class="toc-text">知识点三 状态机行为脚本和动画事件如何选择</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%9C%BA%E5%A4%8D%E7%94%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">73.</span> <span class="toc-text">状态机复用 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%8A%B6%E6%80%81%E6%9C%BA%E5%A4%8D%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">73.1.</span> <span class="toc-text">知识点一 状态机复用是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%A6%82%E4%BD%95%E5%A4%8D%E7%94%A8%E7%8A%B6%E6%80%81%E6%9C%BA"><span class="toc-number">73.2.</span> <span class="toc-text">知识点二 如何复用状态机</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">74.</span> <span class="toc-text">角色控制器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6%E5%99%A8-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">75.</span> <span class="toc-text">角色控制器 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E8%A7%92%E8%89%B2%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">75.1.</span> <span class="toc-text">知识点二 角色控制器的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">75.1.1.</span> <span class="toc-text">1.参数相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3"><span class="toc-number">75.1.2.</span> <span class="toc-text">2.代码相关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AF%BB%E8%B7%AF%E7%B3%BB%E7%BB%9F"><span class="toc-number">76.</span> <span class="toc-text">导航寻路系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AF%BB%E8%B7%AF%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">77.</span> <span class="toc-text">导航寻路系统概述 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AF%BC%E8%88%AA%E5%AF%BB%E8%B7%AF%E7%B3%BB%E7%BB%9F"><span class="toc-number">77.1.</span> <span class="toc-text">知识点一 什么是导航寻路系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%88%91%E4%BB%AC%E8%A6%81%E5%AD%A6%E4%B9%A0%E9%82%A3%E4%BA%9B%E5%86%85%E5%AE%B9"><span class="toc-number">77.2.</span> <span class="toc-text">知识点二 我们要学习那些内容</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AF%BB%E8%B7%AF%E5%9C%BA%E6%99%AF%E5%9C%B0%E5%BD%A2%E6%95%B0%E6%8D%AE%E7%94%9F%E6%88%90-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">78.</span> <span class="toc-text">导航寻路场景地形数据生成 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%87%86%E5%A4%87%E5%9C%B0%E5%BD%A2"><span class="toc-number">78.1.</span> <span class="toc-text">知识点一 准备地形</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E6%89%93%E5%BC%80%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E7%AA%97%E5%8F%A3"><span class="toc-number">78.2.</span> <span class="toc-text">知识点二 打开导航网格窗口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3-1"><span class="toc-number">78.3.</span> <span class="toc-text">知识点三 参数相关</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%AF%BB%E8%B7%AF%E7%BB%84%E4%BB%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">79.</span> <span class="toc-text">导航网格寻路组件 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%AF%BB%E8%B7%AF%E7%BB%84%E4%BB%B6%E6%98%AF%E7%94%A8%E6%9D%A5%E5%B9%B2%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9F"><span class="toc-number">79.1.</span> <span class="toc-text">知识点一 导航网格寻路组件是用来干什么的？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%AF%BB%E8%B7%AF%E7%BB%84%E4%BB%B6%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">79.2.</span> <span class="toc-text">知识点二 寻路组件参数相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%89-%E5%AF%BB%E8%B7%AF%E7%BB%84%E4%BB%B6%E4%BB%A3%E7%A0%81%E7%9B%B8%E5%85%B3"><span class="toc-number">79.3.</span> <span class="toc-text">知识点三 寻路组件代码相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9"><span class="toc-number">79.3.1.</span> <span class="toc-text">常用内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%B8%B8%E7%94%A8%E5%86%85%E5%AE%B9"><span class="toc-number">79.3.2.</span> <span class="toc-text">不常用内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">79.3.2.1.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">79.3.2.2.</span> <span class="toc-text">方法</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%BB%84%E4%BB%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">80.</span> <span class="toc-text">导航网格外连接组件 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E7%BD%91%E6%A0%BC%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%BB%84%E4%BB%B6%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">80.1.</span> <span class="toc-text">知识点一 网格外连接组件是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E7%BD%91%E6%A0%BC%E5%A4%96%E8%BF%9E%E6%8E%A5%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">80.2.</span> <span class="toc-text">知识点二 网格外连接组件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E7%9B%B8%E5%85%B3-2"><span class="toc-number">80.2.1.</span> <span class="toc-text">参数相关</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%8A%A8%E6%80%81%E9%9A%9C%E7%A2%8D%E7%BB%84%E4%BB%B6-%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">81.</span> <span class="toc-text">导航网格动态障碍组件 知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%B8%80-%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%8A%A8%E6%80%81%E9%9A%9C%E7%A2%8D%E7%BB%84%E4%BB%B6%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%95%A5%EF%BC%9F"><span class="toc-number">81.1.</span> <span class="toc-text">知识点一 导航网格动态障碍组件用来干啥？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E4%BA%8C-%E5%AF%BC%E8%88%AA%E5%8A%A8%E6%80%81%E9%9A%9C%E7%A2%8D%E7%89%A9%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">81.2.</span> <span class="toc-text">知识点二 导航动态障碍物组件的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E7%BD%91%E6%A0%BC%E5%8A%A8%E6%80%81%E9%9A%9C%E7%A2%8D%E7%89%A9%E7%BB%84%E4%BB%B6"><span class="toc-number">81.2.1.</span> <span class="toc-text">导航网格动态障碍物组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">82.</span> <span class="toc-text">知识点总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E4%B8%BB%E8%A6%81%E5%86%85%E5%AE%B9"><span class="toc-number">82.1.</span> <span class="toc-text">学习主要内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unity-%E6%A0%B8%E5%BF%83%E4%B8%AD%E7%9F%A5%E8%AF%86%E7%82%B9%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7"><span class="toc-number">82.2.</span> <span class="toc-text">Unity 核心中知识点的重要性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AD%A6%E5%A5%BD-Unity%EF%BC%9F"><span class="toc-number">82.3.</span> <span class="toc-text">如何学好 Unity？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E8%B0%83"><span class="toc-number">82.4.</span> <span class="toc-text">强调</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/df5996f0/" title="Unity 面试题杂项"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity 面试题杂项"/></a><div class="content"><a class="title" href="/posts/df5996f0/" title="Unity 面试题杂项">Unity 面试题杂项</a><time datetime="2024-08-10T23:05:48.000Z" title="发表于 2024-08-10 23:05:48">2024-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b7e144d1/" title="算法"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/qungz.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法"/></a><div class="content"><a class="title" href="/posts/b7e144d1/" title="算法">算法</a><time datetime="2024-08-09T20:44:54.000Z" title="发表于 2024-08-09 20:44:54">2024-08-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/2f9ec35b/" title="Unity 面试题 - Unity 相关 Part 2"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity 面试题 - Unity 相关 Part 2"/></a><div class="content"><a class="title" href="/posts/2f9ec35b/" title="Unity 面试题 - Unity 相关 Part 2">Unity 面试题 - Unity 相关 Part 2</a><time datetime="2024-08-07T21:14:32.000Z" title="发表于 2024-08-07 21:14:32">2024-08-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1c8fef53/" title="Unity 面试题 - CSharp 相关 Part 2"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity 面试题 - CSharp 相关 Part 2"/></a><div class="content"><a class="title" href="/posts/1c8fef53/" title="Unity 面试题 - CSharp 相关 Part 2">Unity 面试题 - CSharp 相关 Part 2</a><time datetime="2024-08-07T14:57:43.000Z" title="发表于 2024-08-07 14:57:43">2024-08-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/cbdf6728/" title="Unity 面试题 - Lua 相关"><img src="https://blogimage-1258650140.cos.ap-nanjing.myqcloud.com/blog/UNITY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity 面试题 - Lua 相关"/></a><div class="content"><a class="title" href="/posts/cbdf6728/" title="Unity 面试题 - Lua 相关">Unity 面试题 - Lua 相关</a><time datetime="2024-08-06T15:55:08.000Z" title="发表于 2024-08-06 15:55:08">2024-08-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Aki_CCLing</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a href="https://icp.gov.moe/?keyword=20238180" target="_blank">萌ICP备20238180号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.staticfile.org/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://venerable-smakager-94ad33.netlify.app/.netlify/functions/twikoo',
      region: 'ap-shanghai',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://venerable-smakager-94ad33.netlify.app/.netlify/functions/twikoo',
      region: 'ap-shanghai',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.staticfile.org/twikoo/1.6.31/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>